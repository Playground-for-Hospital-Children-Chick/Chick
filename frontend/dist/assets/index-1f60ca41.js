function nS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Io={},rS={get exports(){return Io},set exports(e){Io=e}},gu={},B={},iS={get exports(){return B},set exports(e){B=e}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),oS=Symbol.for("react.portal"),sS=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),uS=Symbol.for("react.profiler"),lS=Symbol.for("react.provider"),cS=Symbol.for("react.context"),fS=Symbol.for("react.forward_ref"),dS=Symbol.for("react.suspense"),pS=Symbol.for("react.memo"),hS=Symbol.for("react.lazy"),Qp=Symbol.iterator;function mS(e){return e===null||typeof e!="object"?null:(e=Qp&&e[Qp]||e["@@iterator"],typeof e=="function"?e:null)}var dg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pg=Object.assign,hg={};function Fi(e,t,n){this.props=e,this.context=t,this.refs=hg,this.updater=n||dg}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mg(){}mg.prototype=Fi.prototype;function yd(e,t,n){this.props=e,this.context=t,this.refs=hg,this.updater=n||dg}var Ed=yd.prototype=new mg;Ed.constructor=yd;pg(Ed,Fi.prototype);Ed.isPureReactComponent=!0;var Jp=Array.isArray,vg=Object.prototype.hasOwnProperty,Sd={current:null},gg={key:!0,ref:!0,__self:!0,__source:!0};function yg(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)vg.call(t,r)&&!gg.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ts,type:e,key:o,ref:s,props:i,_owner:Sd.current}}function vS(e,t){return{$$typeof:ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ts}function gS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yp=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gS(""+e.key):t.toString(36)}function ra(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ts:case oS:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Pl(s,0):r,Jp(i)?(n="",e!=null&&(n=e.replace(Yp,"$&/")+"/"),ra(i,t,n,"",function(l){return l})):i!=null&&(wd(i)&&(i=vS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Yp,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Jp(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+Pl(o,a);s+=ra(o,t,n,u,i)}else if(u=mS(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+Pl(o,a++),s+=ra(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Is(e,t,n){if(e==null)return e;var r=[],i=0;return ra(e,r,"","",function(o){return t.call(n,o,i++)}),r}function yS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wt={current:null},ia={transition:null},ES={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:ia,ReactCurrentOwner:Sd};le.Children={map:Is,forEach:function(e,t,n){Is(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Is(e,function(){t++}),t},toArray:function(e){return Is(e,function(t){return t})||[]},only:function(e){if(!wd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Fi;le.Fragment=sS;le.Profiler=uS;le.PureComponent=yd;le.StrictMode=aS;le.Suspense=dS;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ES;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pg({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Sd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)vg.call(t,u)&&!gg.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:ts,type:e.type,key:i,ref:o,props:r,_owner:s}};le.createContext=function(e){return e={$$typeof:cS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lS,_context:e},e.Consumer=e};le.createElement=yg;le.createFactory=function(e){var t=yg.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:fS,render:e}};le.isValidElement=wd;le.lazy=function(e){return{$$typeof:hS,_payload:{_status:-1,_result:e},_init:yS}};le.memo=function(e,t){return{$$typeof:pS,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=ia.transition;ia.transition={};try{e()}finally{ia.transition=t}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(e,t){return wt.current.useCallback(e,t)};le.useContext=function(e){return wt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return wt.current.useDeferredValue(e)};le.useEffect=function(e,t){return wt.current.useEffect(e,t)};le.useId=function(){return wt.current.useId()};le.useImperativeHandle=function(e,t,n){return wt.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return wt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return wt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return wt.current.useMemo(e,t)};le.useReducer=function(e,t,n){return wt.current.useReducer(e,t,n)};le.useRef=function(e){return wt.current.useRef(e)};le.useState=function(e){return wt.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return wt.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return wt.current.useTransition()};le.version="18.2.0";(function(e){e.exports=le})(iS);const ye=fg(B),wa=nS({__proto__:null,default:ye},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS=B,wS=Symbol.for("react.element"),bS=Symbol.for("react.fragment"),CS=Object.prototype.hasOwnProperty,OS=SS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xS={key:!0,ref:!0,__self:!0,__source:!0};function Eg(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)CS.call(t,r)&&!xS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:wS,type:e,key:o,ref:s,props:i,_owner:OS.current}}gu.Fragment=bS;gu.jsx=Eg;gu.jsxs=Eg;(function(e){e.exports=gu})(rS);const ns=Io.Fragment,Q=Io.jsx,yt=Io.jsxs;var rf={},To={},_S={get exports(){return To},set exports(e){To=e}},Mt={},of={},RS={get exports(){return of},set exports(e){of=e}},Sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,N){var I=S.length;S.push(N);e:for(;0<I;){var F=I-1>>>1,W=S[F];if(0<i(W,N))S[F]=N,S[I]=W,I=F;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var N=S[0],I=S.pop();if(I!==N){S[0]=I;e:for(var F=0,W=S.length,Y=W>>>1;F<Y;){var G=2*(F+1)-1,oe=S[G],P=G+1,se=S[P];if(0>i(oe,I))P<W&&0>i(se,oe)?(S[F]=se,S[P]=I,F=P):(S[F]=oe,S[G]=I,F=G);else if(P<W&&0>i(se,I))S[F]=se,S[P]=I,F=P;else break e}}return N}function i(S,N){var I=S.sortIndex-N.sortIndex;return I!==0?I:S.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],l=[],c=1,d=null,f=3,h=!1,E=!1,y=!1,O=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(S){for(var N=n(l);N!==null;){if(N.callback===null)r(l);else if(N.startTime<=S)r(l),N.sortIndex=N.expirationTime,t(u,N);else break;N=n(l)}}function x(S){if(y=!1,w(S),!E)if(n(u)!==null)E=!0,b(k);else{var N=n(l);N!==null&&g(x,N.startTime-S)}}function k(S,N){E=!1,y&&(y=!1,p(C),C=-1),h=!0;var I=f;try{for(w(N),d=n(u);d!==null&&(!(d.expirationTime>N)||S&&!U());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var W=F(d.expirationTime<=N);N=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(u)&&r(u),w(N)}else r(u);d=n(u)}if(d!==null)var Y=!0;else{var G=n(l);G!==null&&g(x,G.startTime-N),Y=!1}return Y}finally{d=null,f=I,h=!1}}var L=!1,j=null,C=-1,M=5,V=-1;function U(){return!(e.unstable_now()-V<M)}function $(){if(j!==null){var S=e.unstable_now();V=S;var N=!0;try{N=j(!0,S)}finally{N?v():(L=!1,j=null)}}else L=!1}var v;if(typeof m=="function")v=function(){m($)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,T=_.port2;_.port1.onmessage=$,v=function(){T.postMessage(null)}}else v=function(){O($,0)};function b(S){j=S,L||(L=!0,v())}function g(S,N){C=O(function(){S(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){E||h||(E=!0,b(k))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(S){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var I=f;f=N;try{return S()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,N){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var I=f;f=S;try{return N()}finally{f=I}},e.unstable_scheduleCallback=function(S,N,I){var F=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,S){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=I+W,S={id:c++,callback:N,priorityLevel:S,startTime:I,expirationTime:W,sortIndex:-1},I>F?(S.sortIndex=I,t(l,S),n(u)===null&&S===n(l)&&(y?(p(C),C=-1):y=!0,g(x,I-F))):(S.sortIndex=W,t(u,S),E||h||(E=!0,b(k))),S},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(S){var N=f;return function(){var I=f;f=N;try{return S.apply(this,arguments)}finally{f=I}}}})(Sg);(function(e){e.exports=Sg})(RS);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=B,Lt=of;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bg=new Set,No={};function Wr(e,t){Ii(e,t),Ii(e+"Capture",t)}function Ii(e,t){for(No[e]=t,e=0;e<t.length;e++)bg.add(t[e])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sf=Object.prototype.hasOwnProperty,kS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zp={},eh={};function PS(e){return sf.call(eh,e)?!0:sf.call(Zp,e)?!1:kS.test(e)?eh[e]=!0:(Zp[e]=!0,!1)}function IS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function TS(e,t,n,r){if(t===null||typeof t>"u"||IS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var bd=/[\-:]([a-z])/g;function Cd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bd,Cd);rt[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bd,Cd);rt[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bd,Cd);rt[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Od(e,t,n,r){var i=rt.hasOwnProperty(t)?rt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(TS(t,n,i,r)&&(n=null),r||i===null?PS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dn=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ts=Symbol.for("react.element"),ii=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),af=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),_d=Symbol.for("react.forward_ref"),uf=Symbol.for("react.suspense"),lf=Symbol.for("react.suspense_list"),Rd=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),xg=Symbol.for("react.offscreen"),th=Symbol.iterator;function Zi(e){return e===null||typeof e!="object"?null:(e=th&&e[th]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Il;function mo(e){if(Il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Il=t&&t[1]||""}return`
`+Il+e}var Tl=!1;function Nl(e,t){if(!e||Tl)return"";Tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{Tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mo(e):""}function NS(e){switch(e.tag){case 5:return mo(e.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return e=Nl(e.type,!1),e;case 11:return e=Nl(e.type.render,!1),e;case 1:return e=Nl(e.type,!0),e;default:return""}}function cf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oi:return"Fragment";case ii:return"Portal";case af:return"Profiler";case xd:return"StrictMode";case uf:return"Suspense";case lf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Og:return(e.displayName||"Context")+".Consumer";case Cg:return(e._context.displayName||"Context")+".Provider";case _d:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rd:return t=e.displayName||null,t!==null?t:cf(e.type)||"Memo";case Bn:t=e._payload,e=e._init;try{return cf(e(t))}catch{}}return null}function LS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cf(t);case 8:return t===xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _g(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AS(e){var t=_g(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=AS(e))}function Rg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_g(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ff(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kg(e,t){t=t.checked,t!=null&&Od(e,"checked",t,!1)}function df(e,t){kg(e,t);var n=dr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pf(e,t.type,n):t.hasOwnProperty("defaultValue")&&pf(e,t.type,dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pf(e,t,n){(t!=="number"||ba(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vo=Array.isArray;function Ei(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ih(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(vo(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dr(n)}}function Pg(e,t){var n=dr(t.value),r=dr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function oh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ig(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ig(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ls,Tg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MS=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){MS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function Ng(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function Lg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ng(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var DS=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vf(e,t){if(t){if(DS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function gf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=null;function kd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ef=null,Si=null,wi=null;function sh(e){if(e=os(e)){if(typeof Ef!="function")throw Error(H(280));var t=e.stateNode;t&&(t=bu(t),Ef(e.stateNode,e.type,t))}}function Ag(e){Si?wi?wi.push(e):wi=[e]:Si=e}function Mg(){if(Si){var e=Si,t=wi;if(wi=Si=null,sh(e),t)for(e=0;e<t.length;e++)sh(t[e])}}function Dg(e,t){return e(t)}function Vg(){}var Ll=!1;function $g(e,t,n){if(Ll)return e(t,n);Ll=!0;try{return Dg(e,t,n)}finally{Ll=!1,(Si!==null||wi!==null)&&(Vg(),Mg())}}function Ao(e,t){var n=e.stateNode;if(n===null)return null;var r=bu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Sf=!1;if(Tn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Sf=!1}function VS(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var wo=!1,Ca=null,Oa=!1,wf=null,$S={onError:function(e){wo=!0,Ca=e}};function jS(e,t,n,r,i,o,s,a,u){wo=!1,Ca=null,VS.apply($S,arguments)}function FS(e,t,n,r,i,o,s,a,u){if(jS.apply(this,arguments),wo){if(wo){var l=Ca;wo=!1,Ca=null}else throw Error(H(198));Oa||(Oa=!0,wf=l)}}function zr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ah(e){if(zr(e)!==e)throw Error(H(188))}function US(e){var t=e.alternate;if(!t){if(t=zr(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ah(i),e;if(o===r)return ah(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Fg(e){return e=US(e),e!==null?Ug(e):null}function Ug(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ug(e);if(t!==null)return t;e=e.sibling}return null}var Bg=Lt.unstable_scheduleCallback,uh=Lt.unstable_cancelCallback,BS=Lt.unstable_shouldYield,WS=Lt.unstable_requestPaint,Ve=Lt.unstable_now,zS=Lt.unstable_getCurrentPriorityLevel,Pd=Lt.unstable_ImmediatePriority,Wg=Lt.unstable_UserBlockingPriority,xa=Lt.unstable_NormalPriority,HS=Lt.unstable_LowPriority,zg=Lt.unstable_IdlePriority,yu=null,gn=null;function qS(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(yu,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:KS,GS=Math.log,XS=Math.LN2;function KS(e){return e>>>=0,e===0?32:31-(GS(e)/XS|0)|0}var As=64,Ms=4194304;function go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _a(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=go(a):(o&=s,o!==0&&(r=go(o)))}else s=n&~i,s!==0?r=go(s):o!==0&&(r=go(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nn(t),i=1<<n,r|=e[n],t&=~i;return r}function QS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-nn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=QS(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}function bf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hg(){var e=As;return As<<=1,!(As&4194240)&&(As=64),e}function Al(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=n}function YS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-nn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Id(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var he=0;function qg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gg,Td,Xg,Kg,Qg,Cf=!1,Ds=[],Yn=null,Zn=null,er=null,Mo=new Map,Do=new Map,zn=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lh(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(t.pointerId)}}function to(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=os(t),t!==null&&Td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ew(e,t,n,r,i){switch(t){case"focusin":return Yn=to(Yn,e,t,n,r,i),!0;case"dragenter":return Zn=to(Zn,e,t,n,r,i),!0;case"mouseover":return er=to(er,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mo.set(o,to(Mo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Do.set(o,to(Do.get(o)||null,e,t,n,r,i)),!0}return!1}function Jg(e){var t=Ir(e.target);if(t!==null){var n=zr(t);if(n!==null){if(t=n.tag,t===13){if(t=jg(n),t!==null){e.blockedOn=t,Qg(e.priority,function(){Xg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Of(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yf=r,n.target.dispatchEvent(r),yf=null}else return t=os(n),t!==null&&Td(t),e.blockedOn=n,!1;t.shift()}return!0}function ch(e,t,n){oa(e)&&n.delete(t)}function tw(){Cf=!1,Yn!==null&&oa(Yn)&&(Yn=null),Zn!==null&&oa(Zn)&&(Zn=null),er!==null&&oa(er)&&(er=null),Mo.forEach(ch),Do.forEach(ch)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,Cf||(Cf=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,tw)))}function Vo(e){function t(i){return no(i,e)}if(0<Ds.length){no(Ds[0],e);for(var n=1;n<Ds.length;n++){var r=Ds[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yn!==null&&no(Yn,e),Zn!==null&&no(Zn,e),er!==null&&no(er,e),Mo.forEach(t),Do.forEach(t),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)Jg(n),n.blockedOn===null&&zn.shift()}var bi=Dn.ReactCurrentBatchConfig,Ra=!0;function nw(e,t,n,r){var i=he,o=bi.transition;bi.transition=null;try{he=1,Nd(e,t,n,r)}finally{he=i,bi.transition=o}}function rw(e,t,n,r){var i=he,o=bi.transition;bi.transition=null;try{he=4,Nd(e,t,n,r)}finally{he=i,bi.transition=o}}function Nd(e,t,n,r){if(Ra){var i=Of(e,t,n,r);if(i===null)zl(e,t,r,ka,n),lh(e,r);else if(ew(i,e,t,n,r))r.stopPropagation();else if(lh(e,r),t&4&&-1<ZS.indexOf(e)){for(;i!==null;){var o=os(i);if(o!==null&&Gg(o),o=Of(e,t,n,r),o===null&&zl(e,t,r,ka,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else zl(e,t,r,null,n)}}var ka=null;function Of(e,t,n,r){if(ka=null,e=kd(r),e=Ir(e),e!==null)if(t=zr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ka=e,null}function Yg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zS()){case Pd:return 1;case Wg:return 4;case xa:case HS:return 16;case zg:return 536870912;default:return 16}default:return 16}}var Xn=null,Ld=null,sa=null;function Zg(){if(sa)return sa;var e,t=Ld,n=t.length,r,i="value"in Xn?Xn.value:Xn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return sa=i.slice(e,1<r?1-r:void 0)}function aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function fh(){return!1}function Dt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vs:fh,this.isPropagationStopped=fh,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),t}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ad=Dt(Ui),is=Ne({},Ui,{view:0,detail:0}),iw=Dt(is),Ml,Dl,ro,Eu=Ne({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Md,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ro&&(ro&&e.type==="mousemove"?(Ml=e.screenX-ro.screenX,Dl=e.screenY-ro.screenY):Dl=Ml=0,ro=e),Ml)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),dh=Dt(Eu),ow=Ne({},Eu,{dataTransfer:0}),sw=Dt(ow),aw=Ne({},is,{relatedTarget:0}),Vl=Dt(aw),uw=Ne({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),lw=Dt(uw),cw=Ne({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fw=Dt(cw),dw=Ne({},Ui,{data:0}),ph=Dt(dw),pw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mw[e])?!!t[e]:!1}function Md(){return vw}var gw=Ne({},is,{key:function(e){if(e.key){var t=pw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Md,charCode:function(e){return e.type==="keypress"?aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yw=Dt(gw),Ew=Ne({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hh=Dt(Ew),Sw=Ne({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Md}),ww=Dt(Sw),bw=Ne({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cw=Dt(bw),Ow=Ne({},Eu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xw=Dt(Ow),_w=[9,13,27,32],Dd=Tn&&"CompositionEvent"in window,bo=null;Tn&&"documentMode"in document&&(bo=document.documentMode);var Rw=Tn&&"TextEvent"in window&&!bo,ey=Tn&&(!Dd||bo&&8<bo&&11>=bo),mh=String.fromCharCode(32),vh=!1;function ty(e,t){switch(e){case"keyup":return _w.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ny(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var si=!1;function kw(e,t){switch(e){case"compositionend":return ny(t);case"keypress":return t.which!==32?null:(vh=!0,mh);case"textInput":return e=t.data,e===mh&&vh?null:e;default:return null}}function Pw(e,t){if(si)return e==="compositionend"||!Dd&&ty(e,t)?(e=Zg(),sa=Ld=Xn=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ey&&t.locale!=="ko"?null:t.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iw[e.type]:t==="textarea"}function ry(e,t,n,r){Ag(r),t=Pa(t,"onChange"),0<t.length&&(n=new Ad("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Co=null,$o=null;function Tw(e){hy(e,0)}function Su(e){var t=li(e);if(Rg(t))return e}function Nw(e,t){if(e==="change")return t}var iy=!1;if(Tn){var $l;if(Tn){var jl="oninput"in document;if(!jl){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),jl=typeof yh.oninput=="function"}$l=jl}else $l=!1;iy=$l&&(!document.documentMode||9<document.documentMode)}function Eh(){Co&&(Co.detachEvent("onpropertychange",oy),$o=Co=null)}function oy(e){if(e.propertyName==="value"&&Su($o)){var t=[];ry(t,$o,e,kd(e)),$g(Tw,t)}}function Lw(e,t,n){e==="focusin"?(Eh(),Co=t,$o=n,Co.attachEvent("onpropertychange",oy)):e==="focusout"&&Eh()}function Aw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su($o)}function Mw(e,t){if(e==="click")return Su(t)}function Dw(e,t){if(e==="input"||e==="change")return Su(t)}function Vw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:Vw;function jo(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sf.call(t,i)||!on(e[i],t[i]))return!1}return!0}function Sh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wh(e,t){var n=Sh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sh(n)}}function sy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ay(){for(var e=window,t=ba();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ba(e.document)}return t}function Vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $w(e){var t=ay(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sy(n.ownerDocument.documentElement,n)){if(r!==null&&Vd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=wh(n,o);var s=wh(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jw=Tn&&"documentMode"in document&&11>=document.documentMode,ai=null,xf=null,Oo=null,_f=!1;function bh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_f||ai==null||ai!==ba(r)||(r=ai,"selectionStart"in r&&Vd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oo&&jo(Oo,r)||(Oo=r,r=Pa(xf,"onSelect"),0<r.length&&(t=new Ad("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ai)))}function $s(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ui={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},Fl={},uy={};Tn&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function wu(e){if(Fl[e])return Fl[e];if(!ui[e])return e;var t=ui[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uy)return Fl[e]=t[n];return e}var ly=wu("animationend"),cy=wu("animationiteration"),fy=wu("animationstart"),dy=wu("transitionend"),py=new Map,Ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){py.set(e,t),Wr(t,[e])}for(var Ul=0;Ul<Ch.length;Ul++){var Bl=Ch[Ul],Fw=Bl.toLowerCase(),Uw=Bl[0].toUpperCase()+Bl.slice(1);gr(Fw,"on"+Uw)}gr(ly,"onAnimationEnd");gr(cy,"onAnimationIteration");gr(fy,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(dy,"onTransitionEnd");Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Oh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,FS(r,t,void 0,e),e.currentTarget=null}function hy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Oh(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Oh(i,a,l),o=u}}}if(Oa)throw e=wf,Oa=!1,wf=null,e}function Ce(e,t){var n=t[Tf];n===void 0&&(n=t[Tf]=new Set);var r=e+"__bubble";n.has(r)||(my(t,e,2,!1),n.add(r))}function Wl(e,t,n){var r=0;t&&(r|=4),my(n,e,r,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[js]){e[js]=!0,bg.forEach(function(n){n!=="selectionchange"&&(Bw.has(n)||Wl(n,!1,e),Wl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,Wl("selectionchange",!1,t))}}function my(e,t,n,r){switch(Yg(t)){case 1:var i=nw;break;case 4:i=rw;break;default:i=Nd}n=i.bind(null,t,n,e),i=void 0,!Sf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ir(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}$g(function(){var l=o,c=kd(n),d=[];e:{var f=py.get(e);if(f!==void 0){var h=Ad,E=e;switch(e){case"keypress":if(aa(n)===0)break e;case"keydown":case"keyup":h=yw;break;case"focusin":E="focus",h=Vl;break;case"focusout":E="blur",h=Vl;break;case"beforeblur":case"afterblur":h=Vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=sw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ww;break;case ly:case cy:case fy:h=lw;break;case dy:h=Cw;break;case"scroll":h=iw;break;case"wheel":h=xw;break;case"copy":case"cut":case"paste":h=fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=hh}var y=(t&4)!==0,O=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var m=l,w;m!==null;){w=m;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,p!==null&&(x=Ao(m,p),x!=null&&y.push(Uo(m,x,w)))),O)break;m=m.return}0<y.length&&(f=new h(f,E,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==yf&&(E=n.relatedTarget||n.fromElement)&&(Ir(E)||E[Nn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(E=n.relatedTarget||n.toElement,h=l,E=E?Ir(E):null,E!==null&&(O=zr(E),E!==O||E.tag!==5&&E.tag!==6)&&(E=null)):(h=null,E=l),h!==E)){if(y=dh,x="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=hh,x="onPointerLeave",p="onPointerEnter",m="pointer"),O=h==null?f:li(h),w=E==null?f:li(E),f=new y(x,m+"leave",h,n,c),f.target=O,f.relatedTarget=w,x=null,Ir(c)===l&&(y=new y(p,m+"enter",E,n,c),y.target=w,y.relatedTarget=O,x=y),O=x,h&&E)t:{for(y=h,p=E,m=0,w=y;w;w=Kr(w))m++;for(w=0,x=p;x;x=Kr(x))w++;for(;0<m-w;)y=Kr(y),m--;for(;0<w-m;)p=Kr(p),w--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=Kr(y),p=Kr(p)}y=null}else y=null;h!==null&&xh(d,f,h,y,!1),E!==null&&O!==null&&xh(d,O,E,y,!0)}}e:{if(f=l?li(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var k=Nw;else if(gh(f))if(iy)k=Dw;else{k=Aw;var L=Lw}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Mw);if(k&&(k=k(e,l))){ry(d,k,n,c);break e}L&&L(e,f,l),e==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&pf(f,"number",f.value)}switch(L=l?li(l):window,e){case"focusin":(gh(L)||L.contentEditable==="true")&&(ai=L,xf=l,Oo=null);break;case"focusout":Oo=xf=ai=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,bh(d,n,c);break;case"selectionchange":if(jw)break;case"keydown":case"keyup":bh(d,n,c)}var j;if(Dd)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else si?ty(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(ey&&n.locale!=="ko"&&(si||C!=="onCompositionStart"?C==="onCompositionEnd"&&si&&(j=Zg()):(Xn=c,Ld="value"in Xn?Xn.value:Xn.textContent,si=!0)),L=Pa(l,C),0<L.length&&(C=new ph(C,e,null,n,c),d.push({event:C,listeners:L}),j?C.data=j:(j=ny(n),j!==null&&(C.data=j)))),(j=Rw?kw(e,n):Pw(e,n))&&(l=Pa(l,"onBeforeInput"),0<l.length&&(c=new ph("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:l}),c.data=j))}hy(d,t)})}function Uo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ao(e,n),o!=null&&r.unshift(Uo(e,o,i)),o=Ao(e,t),o!=null&&r.push(Uo(e,o,i))),e=e.return}return r}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xh(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Ao(n,o),u!=null&&s.unshift(Uo(n,u,a))):i||(u=Ao(n,o),u!=null&&s.push(Uo(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ww=/\r\n?/g,zw=/\u0000|\uFFFD/g;function _h(e){return(typeof e=="string"?e:""+e).replace(Ww,`
`).replace(zw,"")}function Fs(e,t,n){if(t=_h(t),_h(e)!==t&&n)throw Error(H(425))}function Ia(){}var Rf=null,kf=null;function Pf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var If=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(e){return Rh.resolve(null).then(e).catch(Gw)}:If;function Gw(e){setTimeout(function(){throw e})}function Hl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vo(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),hn="__reactFiber$"+Bi,Bo="__reactProps$"+Bi,Nn="__reactContainer$"+Bi,Tf="__reactEvents$"+Bi,Xw="__reactListeners$"+Bi,Kw="__reactHandles$"+Bi;function Ir(e){var t=e[hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nn]||n[hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kh(e);e!==null;){if(n=e[hn])return n;e=kh(e)}return t}e=n,n=e.parentNode}return null}function os(e){return e=e[hn]||e[Nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function bu(e){return e[Bo]||null}var Nf=[],ci=-1;function yr(e){return{current:e}}function Oe(e){0>ci||(e.current=Nf[ci],Nf[ci]=null,ci--)}function Se(e,t){ci++,Nf[ci]=e.current,e.current=t}var pr={},ht=yr(pr),_t=yr(!1),Vr=pr;function Ti(e,t){var n=e.type.contextTypes;if(!n)return pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(e){return e=e.childContextTypes,e!=null}function Ta(){Oe(_t),Oe(ht)}function Ph(e,t,n){if(ht.current!==pr)throw Error(H(168));Se(ht,t),Se(_t,n)}function vy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,LS(e)||"Unknown",i));return Ne({},n,r)}function Na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Vr=ht.current,Se(ht,e),Se(_t,_t.current),!0}function Ih(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=vy(e,t,Vr),r.__reactInternalMemoizedMergedChildContext=e,Oe(_t),Oe(ht),Se(ht,e)):Oe(_t),Se(_t,n)}var On=null,Cu=!1,ql=!1;function gy(e){On===null?On=[e]:On.push(e)}function Qw(e){Cu=!0,gy(e)}function Er(){if(!ql&&On!==null){ql=!0;var e=0,t=he;try{var n=On;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}On=null,Cu=!1}catch(i){throw On!==null&&(On=On.slice(e+1)),Bg(Pd,Er),i}finally{he=t,ql=!1}}return null}var fi=[],di=0,La=null,Aa=0,Ut=[],Bt=0,$r=null,_n=1,Rn="";function Or(e,t){fi[di++]=Aa,fi[di++]=La,La=e,Aa=t}function yy(e,t,n){Ut[Bt++]=_n,Ut[Bt++]=Rn,Ut[Bt++]=$r,$r=e;var r=_n;e=Rn;var i=32-nn(r)-1;r&=~(1<<i),n+=1;var o=32-nn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_n=1<<32-nn(t)+i|n<<i|r,Rn=o+e}else _n=1<<o|n<<i|r,Rn=e}function $d(e){e.return!==null&&(Or(e,1),yy(e,1,0))}function jd(e){for(;e===La;)La=fi[--di],fi[di]=null,Aa=fi[--di],fi[di]=null;for(;e===$r;)$r=Ut[--Bt],Ut[Bt]=null,Rn=Ut[--Bt],Ut[Bt]=null,_n=Ut[--Bt],Ut[Bt]=null}var Nt=null,Tt=null,Re=!1,Yt=null;function Ey(e,t){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Th(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Tt=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$r!==null?{id:_n,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nt=e,Tt=null,!0):!1;default:return!1}}function Lf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Af(e){if(Re){var t=Tt;if(t){var n=t;if(!Th(e,t)){if(Lf(e))throw Error(H(418));t=tr(n.nextSibling);var r=Nt;t&&Th(e,t)?Ey(r,n):(e.flags=e.flags&-4097|2,Re=!1,Nt=e)}}else{if(Lf(e))throw Error(H(418));e.flags=e.flags&-4097|2,Re=!1,Nt=e}}}function Nh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Us(e){if(e!==Nt)return!1;if(!Re)return Nh(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pf(e.type,e.memoizedProps)),t&&(t=Tt)){if(Lf(e))throw Sy(),Error(H(418));for(;t;)Ey(e,t),t=tr(t.nextSibling)}if(Nh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tt=tr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Nt?tr(e.stateNode.nextSibling):null;return!0}function Sy(){for(var e=Tt;e;)e=tr(e.nextSibling)}function Ni(){Tt=Nt=null,Re=!1}function Fd(e){Yt===null?Yt=[e]:Yt.push(e)}var Jw=Dn.ReactCurrentBatchConfig;function Qt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ma=yr(null),Da=null,pi=null,Ud=null;function Bd(){Ud=pi=Da=null}function Wd(e){var t=Ma.current;Oe(Ma),e._currentValue=t}function Mf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){Da=e,Ud=pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Ht(e){var t=e._currentValue;if(Ud!==e)if(e={context:e,memoizedValue:t,next:null},pi===null){if(Da===null)throw Error(H(308));pi=e,Da.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return t}var Tr=null;function zd(e){Tr===null?Tr=[e]:Tr.push(e)}function wy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,zd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ln(e,r)}function Ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function Hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function by(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ln(e,n)}return i=r.interleaved,i===null?(t.next=t,zd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ln(e,n)}function ua(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Id(e,n)}}function Lh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var i=e.updateQueue;Wn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(o!==null){var d=i.baseState;s=0,c=l=u=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=e,y=a;switch(f=t,h=n,y.tag){case 1:if(E=y.payload,typeof E=="function"){d=E.call(h,d,f);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=y.payload,f=typeof E=="function"?E.call(h,d,f):E,f==null)break e;d=Ne({},d,f);break e;case 2:Wn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Fr|=s,e.lanes=s,e.memoizedState=d}}function Ah(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Cy=new wg.Component().refs;function Df(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ou={isMounted:function(e){return(e=e._reactInternals)?zr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),i=ir(e),o=kn(r,i);o.payload=t,n!=null&&(o.callback=n),t=nr(e,o,i),t!==null&&(rn(t,e,i,r),ua(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),i=ir(e),o=kn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=nr(e,o,i),t!==null&&(rn(t,e,i,r),ua(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=ir(e),i=kn(n,r);i.tag=2,t!=null&&(i.callback=t),t=nr(e,i,r),t!==null&&(rn(t,e,r,n),ua(t,e,r))}};function Mh(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!jo(n,r)||!jo(i,o):!0}function Oy(e,t,n){var r=!1,i=pr,o=t.contextType;return typeof o=="object"&&o!==null?o=Ht(o):(i=Rt(t)?Vr:ht.current,r=t.contextTypes,o=(r=r!=null)?Ti(e,i):pr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ou,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Dh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ou.enqueueReplaceState(t,t.state,null)}function Vf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Cy,Hd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ht(o):(o=Rt(t)?Vr:ht.current,i.context=Ti(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Df(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ou.enqueueReplaceState(i,i.state,null),Va(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function io(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===Cy&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Bs(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vh(e){var t=e._init;return t(e._payload)}function xy(e){function t(p,m){if(e){var w=p.deletions;w===null?(p.deletions=[m],p.flags|=16):w.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=or(p,m),p.index=0,p.sibling=null,p}function o(p,m,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<m?(p.flags|=2,m):w):(p.flags|=2,m)):(p.flags|=1048576,m)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,w,x){return m===null||m.tag!==6?(m=Zl(w,p.mode,x),m.return=p,m):(m=i(m,w),m.return=p,m)}function u(p,m,w,x){var k=w.type;return k===oi?c(p,m,w.props.children,x,w.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Bn&&Vh(k)===m.type)?(x=i(m,w.props),x.ref=io(p,m,w),x.return=p,x):(x=ha(w.type,w.key,w.props,null,p.mode,x),x.ref=io(p,m,w),x.return=p,x)}function l(p,m,w,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=ec(w,p.mode,x),m.return=p,m):(m=i(m,w.children||[]),m.return=p,m)}function c(p,m,w,x,k){return m===null||m.tag!==7?(m=Mr(w,p.mode,x,k),m.return=p,m):(m=i(m,w),m.return=p,m)}function d(p,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Zl(""+m,p.mode,w),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ts:return w=ha(m.type,m.key,m.props,null,p.mode,w),w.ref=io(p,null,m),w.return=p,w;case ii:return m=ec(m,p.mode,w),m.return=p,m;case Bn:var x=m._init;return d(p,x(m._payload),w)}if(vo(m)||Zi(m))return m=Mr(m,p.mode,w,null),m.return=p,m;Bs(p,m)}return null}function f(p,m,w,x){var k=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(p,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ts:return w.key===k?u(p,m,w,x):null;case ii:return w.key===k?l(p,m,w,x):null;case Bn:return k=w._init,f(p,m,k(w._payload),x)}if(vo(w)||Zi(w))return k!==null?null:c(p,m,w,x,null);Bs(p,w)}return null}function h(p,m,w,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(w)||null,a(m,p,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ts:return p=p.get(x.key===null?w:x.key)||null,u(m,p,x,k);case ii:return p=p.get(x.key===null?w:x.key)||null,l(m,p,x,k);case Bn:var L=x._init;return h(p,m,w,L(x._payload),k)}if(vo(x)||Zi(x))return p=p.get(w)||null,c(m,p,x,k,null);Bs(m,x)}return null}function E(p,m,w,x){for(var k=null,L=null,j=m,C=m=0,M=null;j!==null&&C<w.length;C++){j.index>C?(M=j,j=null):M=j.sibling;var V=f(p,j,w[C],x);if(V===null){j===null&&(j=M);break}e&&j&&V.alternate===null&&t(p,j),m=o(V,m,C),L===null?k=V:L.sibling=V,L=V,j=M}if(C===w.length)return n(p,j),Re&&Or(p,C),k;if(j===null){for(;C<w.length;C++)j=d(p,w[C],x),j!==null&&(m=o(j,m,C),L===null?k=j:L.sibling=j,L=j);return Re&&Or(p,C),k}for(j=r(p,j);C<w.length;C++)M=h(j,p,C,w[C],x),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?C:M.key),m=o(M,m,C),L===null?k=M:L.sibling=M,L=M);return e&&j.forEach(function(U){return t(p,U)}),Re&&Or(p,C),k}function y(p,m,w,x){var k=Zi(w);if(typeof k!="function")throw Error(H(150));if(w=k.call(w),w==null)throw Error(H(151));for(var L=k=null,j=m,C=m=0,M=null,V=w.next();j!==null&&!V.done;C++,V=w.next()){j.index>C?(M=j,j=null):M=j.sibling;var U=f(p,j,V.value,x);if(U===null){j===null&&(j=M);break}e&&j&&U.alternate===null&&t(p,j),m=o(U,m,C),L===null?k=U:L.sibling=U,L=U,j=M}if(V.done)return n(p,j),Re&&Or(p,C),k;if(j===null){for(;!V.done;C++,V=w.next())V=d(p,V.value,x),V!==null&&(m=o(V,m,C),L===null?k=V:L.sibling=V,L=V);return Re&&Or(p,C),k}for(j=r(p,j);!V.done;C++,V=w.next())V=h(j,p,C,V.value,x),V!==null&&(e&&V.alternate!==null&&j.delete(V.key===null?C:V.key),m=o(V,m,C),L===null?k=V:L.sibling=V,L=V);return e&&j.forEach(function($){return t(p,$)}),Re&&Or(p,C),k}function O(p,m,w,x){if(typeof w=="object"&&w!==null&&w.type===oi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ts:e:{for(var k=w.key,L=m;L!==null;){if(L.key===k){if(k=w.type,k===oi){if(L.tag===7){n(p,L.sibling),m=i(L,w.props.children),m.return=p,p=m;break e}}else if(L.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Bn&&Vh(k)===L.type){n(p,L.sibling),m=i(L,w.props),m.ref=io(p,L,w),m.return=p,p=m;break e}n(p,L);break}else t(p,L);L=L.sibling}w.type===oi?(m=Mr(w.props.children,p.mode,x,w.key),m.return=p,p=m):(x=ha(w.type,w.key,w.props,null,p.mode,x),x.ref=io(p,m,w),x.return=p,p=x)}return s(p);case ii:e:{for(L=w.key;m!==null;){if(m.key===L)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(p,m.sibling),m=i(m,w.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=ec(w,p.mode,x),m.return=p,p=m}return s(p);case Bn:return L=w._init,O(p,m,L(w._payload),x)}if(vo(w))return E(p,m,w,x);if(Zi(w))return y(p,m,w,x);Bs(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,w),m.return=p,p=m):(n(p,m),m=Zl(w,p.mode,x),m.return=p,p=m),s(p)):n(p,m)}return O}var Li=xy(!0),_y=xy(!1),ss={},yn=yr(ss),Wo=yr(ss),zo=yr(ss);function Nr(e){if(e===ss)throw Error(H(174));return e}function qd(e,t){switch(Se(zo,t),Se(Wo,e),Se(yn,ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mf(t,e)}Oe(yn),Se(yn,t)}function Ai(){Oe(yn),Oe(Wo),Oe(zo)}function Ry(e){Nr(zo.current);var t=Nr(yn.current),n=mf(t,e.type);t!==n&&(Se(Wo,e),Se(yn,n))}function Gd(e){Wo.current===e&&(Oe(yn),Oe(Wo))}var Ie=yr(0);function $a(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Xd(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var la=Dn.ReactCurrentDispatcher,Xl=Dn.ReactCurrentBatchConfig,jr=0,Te=null,Be=null,Xe=null,ja=!1,xo=!1,Ho=0,Yw=0;function it(){throw Error(H(321))}function Kd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Qd(e,t,n,r,i,o){if(jr=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=e===null||e.memoizedState===null?n1:r1,e=n(r,i),xo){o=0;do{if(xo=!1,Ho=0,25<=o)throw Error(H(301));o+=1,Xe=Be=null,t.updateQueue=null,la.current=i1,e=n(r,i)}while(xo)}if(la.current=Fa,t=Be!==null&&Be.next!==null,jr=0,Xe=Be=Te=null,ja=!1,t)throw Error(H(300));return e}function Jd(){var e=Ho!==0;return Ho=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Te.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function qt(){if(Be===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Xe===null?Te.memoizedState:Xe.next;if(t!==null)Xe=t,Be=e;else{if(e===null)throw Error(H(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Xe===null?Te.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function qo(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=qt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Be,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,l=o;do{var c=l.lane;if((jr&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,s=r):u=u.next=d,Te.lanes|=c,Fr|=c}l=l.next}while(l!==null&&l!==o);u===null?s=r:u.next=a,on(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Te.lanes|=o,Fr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ql(e){var t=qt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);on(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ky(){}function Py(e,t){var n=Te,r=qt(),i=t(),o=!on(r.memoizedState,i);if(o&&(r.memoizedState=i,xt=!0),r=r.queue,Yd(Ny.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Go(9,Ty.bind(null,n,r,i,t),void 0,null),Ke===null)throw Error(H(349));jr&30||Iy(n,t,i)}return i}function Iy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ty(e,t,n,r){t.value=n,t.getSnapshot=r,Ly(t)&&Ay(e)}function Ny(e,t,n){return n(function(){Ly(t)&&Ay(e)})}function Ly(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function Ay(e){var t=Ln(e,1);t!==null&&rn(t,e,1,-1)}function $h(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:e},t.queue=e,e=e.dispatch=t1.bind(null,Te,e),[t.memoizedState,e]}function Go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function My(){return qt().memoizedState}function ca(e,t,n,r){var i=pn();Te.flags|=e,i.memoizedState=Go(1|t,n,void 0,r===void 0?null:r)}function xu(e,t,n,r){var i=qt();r=r===void 0?null:r;var o=void 0;if(Be!==null){var s=Be.memoizedState;if(o=s.destroy,r!==null&&Kd(r,s.deps)){i.memoizedState=Go(t,n,o,r);return}}Te.flags|=e,i.memoizedState=Go(1|t,n,o,r)}function jh(e,t){return ca(8390656,8,e,t)}function Yd(e,t){return xu(2048,8,e,t)}function Dy(e,t){return xu(4,2,e,t)}function Vy(e,t){return xu(4,4,e,t)}function $y(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jy(e,t,n){return n=n!=null?n.concat([e]):null,xu(4,4,$y.bind(null,t,e),n)}function Zd(){}function Fy(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uy(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function By(e,t,n){return jr&21?(on(n,t)||(n=Hg(),Te.lanes|=n,Fr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function Zw(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=Xl.transition;Xl.transition={};try{e(!1),t()}finally{he=n,Xl.transition=r}}function Wy(){return qt().memoizedState}function e1(e,t,n){var r=ir(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zy(e))Hy(t,n);else if(n=wy(e,t,n,r),n!==null){var i=St();rn(n,e,r,i),qy(n,t,r)}}function t1(e,t,n){var r=ir(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zy(e))Hy(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,on(a,s)){var u=t.interleaved;u===null?(i.next=i,zd(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=wy(e,t,i,r),n!==null&&(i=St(),rn(n,e,r,i),qy(n,t,r))}}function zy(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Hy(e,t){xo=ja=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Id(e,n)}}var Fa={readContext:Ht,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},n1={readContext:Ht,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:jh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ca(4194308,4,$y.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return ca(4,2,e,t)},useMemo:function(e,t){var n=pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=e1.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:$h,useDebugValue:Zd,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=$h(!1),t=e[0];return e=Zw.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,i=pn();if(Re){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Ke===null)throw Error(H(349));jr&30||Iy(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jh(Ny.bind(null,r,o,e),[e]),r.flags|=2048,Go(9,Ty.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=pn(),t=Ke.identifierPrefix;if(Re){var n=Rn,r=_n;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ho++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},r1={readContext:Ht,useCallback:Fy,useContext:Ht,useEffect:Yd,useImperativeHandle:jy,useInsertionEffect:Dy,useLayoutEffect:Vy,useMemo:Uy,useReducer:Kl,useRef:My,useState:function(){return Kl(qo)},useDebugValue:Zd,useDeferredValue:function(e){var t=qt();return By(t,Be.memoizedState,e)},useTransition:function(){var e=Kl(qo)[0],t=qt().memoizedState;return[e,t]},useMutableSource:ky,useSyncExternalStore:Py,useId:Wy,unstable_isNewReconciler:!1},i1={readContext:Ht,useCallback:Fy,useContext:Ht,useEffect:Yd,useImperativeHandle:jy,useInsertionEffect:Dy,useLayoutEffect:Vy,useMemo:Uy,useReducer:Ql,useRef:My,useState:function(){return Ql(qo)},useDebugValue:Zd,useDeferredValue:function(e){var t=qt();return Be===null?t.memoizedState=e:By(t,Be.memoizedState,e)},useTransition:function(){var e=Ql(qo)[0],t=qt().memoizedState;return[e,t]},useMutableSource:ky,useSyncExternalStore:Py,useId:Wy,unstable_isNewReconciler:!1};function Mi(e,t){try{var n="",r=t;do n+=NS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $f(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var o1=typeof WeakMap=="function"?WeakMap:Map;function Gy(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ba||(Ba=!0,Xf=r),$f(e,t)},n}function Xy(e,t,n){n=kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){$f(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$f(e,t),typeof r!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Fh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new o1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=E1.bind(null,e,t,n),t.then(e,e))}function Uh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bh(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,nr(n,t,1))),n.lanes|=1),e)}var s1=Dn.ReactCurrentOwner,xt=!1;function vt(e,t,n,r){t.child=e===null?_y(t,null,n,r):Li(t,e.child,n,r)}function Wh(e,t,n,r,i){n=n.render;var o=t.ref;return Ci(t,i),r=Qd(e,t,n,r,o,i),n=Jd(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,An(e,t,i)):(Re&&n&&$d(t),t.flags|=1,vt(e,t,r,i),t.child)}function zh(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!ap(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Ky(e,t,o,r,i)):(e=ha(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(s,r)&&e.ref===t.ref)return An(e,t,i)}return t.flags|=1,e=or(o,r),e.ref=t.ref,e.return=t,t.child=e}function Ky(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(jo(o,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,An(e,t,i)}return jf(e,t,n,r,i)}function Qy(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(mi,It),It|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(mi,It),It|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Se(mi,It),It|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Se(mi,It),It|=r;return vt(e,t,i,n),t.child}function Jy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jf(e,t,n,r,i){var o=Rt(n)?Vr:ht.current;return o=Ti(t,o),Ci(t,i),n=Qd(e,t,n,r,o,i),r=Jd(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,An(e,t,i)):(Re&&r&&$d(t),t.flags|=1,vt(e,t,n,i),t.child)}function Hh(e,t,n,r,i){if(Rt(n)){var o=!0;Na(t)}else o=!1;if(Ci(t,i),t.stateNode===null)fa(e,t),Oy(t,n,r),Vf(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ht(l):(l=Rt(n)?Vr:ht.current,l=Ti(t,l));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&Dh(t,s,r,l),Wn=!1;var f=t.memoizedState;s.state=f,Va(t,r,s,i),u=t.memoizedState,a!==r||f!==u||_t.current||Wn?(typeof c=="function"&&(Df(t,n,c,r),u=t.memoizedState),(a=Wn||Mh(t,n,a,r,f,u,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,by(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Qt(t.type,a),s.props=l,d=t.pendingProps,f=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ht(u):(u=Rt(n)?Vr:ht.current,u=Ti(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Dh(t,s,r,u),Wn=!1,f=t.memoizedState,s.state=f,Va(t,r,s,i);var E=t.memoizedState;a!==d||f!==E||_t.current||Wn?(typeof h=="function"&&(Df(t,n,h,r),E=t.memoizedState),(l=Wn||Mh(t,n,l,r,f,E,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),s.props=r,s.state=E,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ff(e,t,n,r,o,i)}function Ff(e,t,n,r,i,o){Jy(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Ih(t,n,!1),An(e,t,o);r=t.stateNode,s1.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Li(t,e.child,null,o),t.child=Li(t,null,a,o)):vt(e,t,a,o),t.memoizedState=r.state,i&&Ih(t,n,!0),t.child}function Yy(e){var t=e.stateNode;t.pendingContext?Ph(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ph(e,t.context,!1),qd(e,t.containerInfo)}function qh(e,t,n,r,i){return Ni(),Fd(i),t.flags|=256,vt(e,t,n,r),t.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function Bf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zy(e,t,n){var r=t.pendingProps,i=Ie.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Se(Ie,i&1),e===null)return Af(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ku(s,r,0,null),e=Mr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bf(n),t.memoizedState=Uf,e):ep(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return a1(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=or(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=or(a,o):(o=Mr(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Bf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Uf,r}return o=e.child,e=o.sibling,r=or(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ep(e,t){return t=ku({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,n,r){return r!==null&&Fd(r),Li(t,e.child,null,n),e=ep(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a1(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Jl(Error(H(422))),Ws(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ku({mode:"visible",children:r.children},i,0,null),o=Mr(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Li(t,e.child,null,s),t.child.memoizedState=Bf(s),t.memoizedState=Uf,o);if(!(t.mode&1))return Ws(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Jl(o,r,void 0),Ws(e,t,s,r)}if(a=(s&e.childLanes)!==0,xt||a){if(r=Ke,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ln(e,i),rn(r,e,i,-1))}return sp(),r=Jl(Error(H(421))),Ws(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=S1.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Tt=tr(i.nextSibling),Nt=t,Re=!0,Yt=null,e!==null&&(Ut[Bt++]=_n,Ut[Bt++]=Rn,Ut[Bt++]=$r,_n=e.id,Rn=e.overflow,$r=t),t=ep(t,r.children),t.flags|=4096,t)}function Gh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Mf(e.return,t,n)}function Yl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function e0(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(vt(e,t,r.children,n),r=Ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gh(e,n,t);else if(e.tag===19)Gh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Ie,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$a(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$a(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yl(t,!0,n,null,o);break;case"together":Yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=or(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=or(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function u1(e,t,n){switch(t.tag){case 3:Yy(t),Ni();break;case 5:Ry(t);break;case 1:Rt(t.type)&&Na(t);break;case 4:qd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Se(Ma,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?Zy(e,t,n):(Se(Ie,Ie.current&1),e=An(e,t,n),e!==null?e.sibling:null);Se(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return e0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Qy(e,t,n)}return An(e,t,n)}var t0,Wf,n0,r0;t0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wf=function(){};n0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Nr(yn.current);var o=null;switch(n){case"input":i=ff(e,i),r=ff(e,r),o=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),o=[];break;case"textarea":i=hf(e,i),r=hf(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ia)}vf(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(No.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(No.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ce("scroll",e),o||a===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};r0=function(e,t,n,r){n!==r&&(t.flags|=4)};function oo(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function l1(e,t,n){var r=t.pendingProps;switch(jd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return Rt(t.type)&&Ta(),ot(t),null;case 3:return r=t.stateNode,Ai(),Oe(_t),Oe(ht),Xd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(Jf(Yt),Yt=null))),Wf(e,t),ot(t),null;case 5:Gd(t);var i=Nr(zo.current);if(n=t.type,e!==null&&t.stateNode!=null)n0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return ot(t),null}if(e=Nr(yn.current),Us(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hn]=t,r[Bo]=o,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<yo.length;i++)Ce(yo[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":nh(r,o),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",r);break;case"textarea":ih(r,o),Ce("invalid",r)}vf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Fs(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Fs(r.textContent,a,e),i=["children",""+a]):No.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Ns(r),rh(r,o,!0);break;case"textarea":Ns(r),oh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ia)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ig(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hn]=t,e[Bo]=r,t0(e,t,!1,!1),t.stateNode=e;e:{switch(s=gf(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),i=r;break;case"iframe":case"object":case"embed":Ce("load",e),i=r;break;case"video":case"audio":for(i=0;i<yo.length;i++)Ce(yo[i],e);i=r;break;case"source":Ce("error",e),i=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),i=r;break;case"details":Ce("toggle",e),i=r;break;case"input":nh(e,r),i=ff(e,r),Ce("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":ih(e,r),i=hf(e,r),Ce("invalid",e);break;default:i=r}vf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?Lg(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tg(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Lo(e,u):typeof u=="number"&&Lo(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(No.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ce("scroll",e):u!=null&&Od(e,o,u,s))}switch(n){case"input":Ns(e),rh(e,r,!1);break;case"textarea":Ns(e),oh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ei(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ei(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)r0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Nr(zo.current),Nr(yn.current),Us(t)){if(r=t.stateNode,n=t.memoizedProps,r[hn]=t,(o=r.nodeValue!==n)&&(e=Nt,e!==null))switch(e.tag){case 3:Fs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fs(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=t,t.stateNode=r}return ot(t),null;case 13:if(Oe(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Tt!==null&&t.mode&1&&!(t.flags&128))Sy(),Ni(),t.flags|=98560,o=!1;else if(o=Us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[hn]=t}else Ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),o=!1}else Yt!==null&&(Jf(Yt),Yt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?We===0&&(We=3):sp())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Ai(),Wf(e,t),e===null&&Fo(t.stateNode.containerInfo),ot(t),null;case 10:return Wd(t.type._context),ot(t),null;case 17:return Rt(t.type)&&Ta(),ot(t),null;case 19:if(Oe(Ie),o=t.memoizedState,o===null)return ot(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)oo(o,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$a(e),s!==null){for(t.flags|=128,oo(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Ie,Ie.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ve()>Di&&(t.flags|=128,r=!0,oo(o,!1),t.lanes=4194304)}else{if(!r)if(e=$a(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Re)return ot(t),null}else 2*Ve()-o.renderingStartTime>Di&&n!==1073741824&&(t.flags|=128,r=!0,oo(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ve(),t.sibling=null,n=Ie.current,Se(Ie,r?n&1|2:n&1),t):(ot(t),null);case 22:case 23:return op(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?It&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function c1(e,t){switch(jd(t),t.tag){case 1:return Rt(t.type)&&Ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ai(),Oe(_t),Oe(ht),Xd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gd(t),null;case 13:if(Oe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Ie),null;case 4:return Ai(),null;case 10:return Wd(t.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var zs=!1,pt=!1,f1=typeof WeakSet=="function"?WeakSet:Set,Z=null;function hi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function zf(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var Xh=!1;function d1(e,t){if(Rf=Ra,e=ay(),Vd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(u=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++l===i&&(a=s),f===o&&++c===r&&(u=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kf={focusedElem:e,selectionRange:n},Ra=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var y=E.memoizedProps,O=E.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qt(t.type,y),O);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(x){Ae(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return E=Xh,Xh=!1,E}function _o(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&zf(t,n,o)}i=i.next}while(i!==r)}}function _u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function i0(e){var t=e.alternate;t!==null&&(e.alternate=null,i0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hn],delete t[Bo],delete t[Tf],delete t[Xw],delete t[Kw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function o0(e){return e.tag===5||e.tag===3||e.tag===4}function Kh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(r!==4&&(e=e.child,e!==null))for(qf(e,t,n),e=e.sibling;e!==null;)qf(e,t,n),e=e.sibling}function Gf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gf(e,t,n),e=e.sibling;e!==null;)Gf(e,t,n),e=e.sibling}var tt=null,Jt=!1;function jn(e,t,n){for(n=n.child;n!==null;)s0(e,t,n),n=n.sibling}function s0(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(yu,n)}catch{}switch(n.tag){case 5:pt||hi(n,t);case 6:var r=tt,i=Jt;tt=null,jn(e,t,n),tt=r,Jt=i,tt!==null&&(Jt?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Jt?(e=tt,n=n.stateNode,e.nodeType===8?Hl(e.parentNode,n):e.nodeType===1&&Hl(e,n),Vo(e)):Hl(tt,n.stateNode));break;case 4:r=tt,i=Jt,tt=n.stateNode.containerInfo,Jt=!0,jn(e,t,n),tt=r,Jt=i;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&zf(n,t,s),i=i.next}while(i!==r)}jn(e,t,n);break;case 1:if(!pt&&(hi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ae(n,t,a)}jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,jn(e,t,n),pt=r):jn(e,t,n);break;default:jn(e,t,n)}}function Qh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new f1),t.forEach(function(r){var i=w1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,Jt=!1;break e;case 3:tt=a.stateNode.containerInfo,Jt=!0;break e;case 4:tt=a.stateNode.containerInfo,Jt=!0;break e}a=a.return}if(tt===null)throw Error(H(160));s0(o,s,i),tt=null,Jt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ae(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a0(t,e),t=t.sibling}function a0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),un(e),r&4){try{_o(3,e,e.return),_u(3,e)}catch(y){Ae(e,e.return,y)}try{_o(5,e,e.return)}catch(y){Ae(e,e.return,y)}}break;case 1:Xt(t,e),un(e),r&512&&n!==null&&hi(n,n.return);break;case 5:if(Xt(t,e),un(e),r&512&&n!==null&&hi(n,n.return),e.flags&32){var i=e.stateNode;try{Lo(i,"")}catch(y){Ae(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&kg(i,o),gf(a,s);var l=gf(a,o);for(s=0;s<u.length;s+=2){var c=u[s],d=u[s+1];c==="style"?Lg(i,d):c==="dangerouslySetInnerHTML"?Tg(i,d):c==="children"?Lo(i,d):Od(i,c,d,l)}switch(a){case"input":df(i,o);break;case"textarea":Pg(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Ei(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ei(i,!!o.multiple,o.defaultValue,!0):Ei(i,!!o.multiple,o.multiple?[]:"",!1))}i[Bo]=o}catch(y){Ae(e,e.return,y)}}break;case 6:if(Xt(t,e),un(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ae(e,e.return,y)}}break;case 3:if(Xt(t,e),un(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(t.containerInfo)}catch(y){Ae(e,e.return,y)}break;case 4:Xt(t,e),un(e);break;case 13:Xt(t,e),un(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(rp=Ve())),r&4&&Qh(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(l=pt)||c,Xt(t,e),pt=l):Xt(t,e),un(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Z=e,c=e.child;c!==null;){for(d=Z=c;Z!==null;){switch(f=Z,h=f.child,f.tag){case 0:case 11:case 14:case 15:_o(4,f,f.return);break;case 1:hi(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(y){Ae(r,n,y)}}break;case 5:hi(f,f.return);break;case 22:if(f.memoizedState!==null){Yh(d);continue}}h!==null?(h.return=f,Z=h):Yh(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,u=d.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Ng("display",s))}catch(y){Ae(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(y){Ae(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xt(t,e),un(e),r&4&&Qh(e);break;case 21:break;default:Xt(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(o0(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lo(i,""),r.flags&=-33);var o=Kh(e);Gf(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Kh(e);qf(e,a,s);break;default:throw Error(H(161))}}catch(u){Ae(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p1(e,t,n){Z=e,u0(e)}function u0(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||zs;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||pt;a=zs;var l=pt;if(zs=s,(pt=u)&&!l)for(Z=i;Z!==null;)s=Z,u=s.child,s.tag===22&&s.memoizedState!==null?Zh(i):u!==null?(u.return=s,Z=u):Zh(i);for(;o!==null;)Z=o,u0(o),o=o.sibling;Z=i,zs=a,pt=l}Jh(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Z=o):Jh(e)}}function Jh(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||_u(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ah(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ah(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Vo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}pt||t.flags&512&&Hf(t)}catch(f){Ae(t,t.return,f)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Yh(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Zh(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_u(4,t)}catch(u){Ae(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ae(t,i,u)}}var o=t.return;try{Hf(t)}catch(u){Ae(t,o,u)}break;case 5:var s=t.return;try{Hf(t)}catch(u){Ae(t,s,u)}}}catch(u){Ae(t,t.return,u)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var h1=Math.ceil,Ua=Dn.ReactCurrentDispatcher,tp=Dn.ReactCurrentOwner,zt=Dn.ReactCurrentBatchConfig,de=0,Ke=null,Fe=null,nt=0,It=0,mi=yr(0),We=0,Xo=null,Fr=0,Ru=0,np=0,Ro=null,Ot=null,rp=0,Di=1/0,Cn=null,Ba=!1,Xf=null,rr=null,Hs=!1,Kn=null,Wa=0,ko=0,Kf=null,da=-1,pa=0;function St(){return de&6?Ve():da!==-1?da:da=Ve()}function ir(e){return e.mode&1?de&2&&nt!==0?nt&-nt:Jw.transition!==null?(pa===0&&(pa=Hg()),pa):(e=he,e!==0||(e=window.event,e=e===void 0?16:Yg(e.type)),e):1}function rn(e,t,n,r){if(50<ko)throw ko=0,Kf=null,Error(H(185));rs(e,n,r),(!(de&2)||e!==Ke)&&(e===Ke&&(!(de&2)&&(Ru|=n),We===4&&Hn(e,nt)),kt(e,r),n===1&&de===0&&!(t.mode&1)&&(Di=Ve()+500,Cu&&Er()))}function kt(e,t){var n=e.callbackNode;JS(e,t);var r=_a(e,e===Ke?nt:0);if(r===0)n!==null&&uh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uh(n),t===1)e.tag===0?Qw(em.bind(null,e)):gy(em.bind(null,e)),qw(function(){!(de&6)&&Er()}),n=null;else{switch(qg(r)){case 1:n=Pd;break;case 4:n=Wg;break;case 16:n=xa;break;case 536870912:n=zg;break;default:n=xa}n=v0(n,l0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function l0(e,t){if(da=-1,pa=0,de&6)throw Error(H(327));var n=e.callbackNode;if(Oi()&&e.callbackNode!==n)return null;var r=_a(e,e===Ke?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=za(e,r);else{t=r;var i=de;de|=2;var o=f0();(Ke!==e||nt!==t)&&(Cn=null,Di=Ve()+500,Ar(e,t));do try{g1();break}catch(a){c0(e,a)}while(1);Bd(),Ua.current=o,de=i,Fe!==null?t=0:(Ke=null,nt=0,t=We)}if(t!==0){if(t===2&&(i=bf(e),i!==0&&(r=i,t=Qf(e,i))),t===1)throw n=Xo,Ar(e,0),Hn(e,r),kt(e,Ve()),n;if(t===6)Hn(e,r);else{if(i=e.current.alternate,!(r&30)&&!m1(i)&&(t=za(e,r),t===2&&(o=bf(e),o!==0&&(r=o,t=Qf(e,o))),t===1))throw n=Xo,Ar(e,0),Hn(e,r),kt(e,Ve()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:xr(e,Ot,Cn);break;case 3:if(Hn(e,r),(r&130023424)===r&&(t=rp+500-Ve(),10<t)){if(_a(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=If(xr.bind(null,e,Ot,Cn),t);break}xr(e,Ot,Cn);break;case 4:if(Hn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-nn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h1(r/1960))-r,10<r){e.timeoutHandle=If(xr.bind(null,e,Ot,Cn),r);break}xr(e,Ot,Cn);break;case 5:xr(e,Ot,Cn);break;default:throw Error(H(329))}}}return kt(e,Ve()),e.callbackNode===n?l0.bind(null,e):null}function Qf(e,t){var n=Ro;return e.current.memoizedState.isDehydrated&&(Ar(e,t).flags|=256),e=za(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&Jf(t)),e}function Jf(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function m1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!on(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hn(e,t){for(t&=~np,t&=~Ru,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),r=1<<n;e[n]=-1,t&=~r}}function em(e){if(de&6)throw Error(H(327));Oi();var t=_a(e,0);if(!(t&1))return kt(e,Ve()),null;var n=za(e,t);if(e.tag!==0&&n===2){var r=bf(e);r!==0&&(t=r,n=Qf(e,r))}if(n===1)throw n=Xo,Ar(e,0),Hn(e,t),kt(e,Ve()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,Ot,Cn),kt(e,Ve()),null}function ip(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Di=Ve()+500,Cu&&Er())}}function Ur(e){Kn!==null&&Kn.tag===0&&!(de&6)&&Oi();var t=de;de|=1;var n=zt.transition,r=he;try{if(zt.transition=null,he=1,e)return e()}finally{he=r,zt.transition=n,de=t,!(de&6)&&Er()}}function op(){It=mi.current,Oe(mi)}function Ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hw(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(jd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ta();break;case 3:Ai(),Oe(_t),Oe(ht),Xd();break;case 5:Gd(r);break;case 4:Ai();break;case 13:Oe(Ie);break;case 19:Oe(Ie);break;case 10:Wd(r.type._context);break;case 22:case 23:op()}n=n.return}if(Ke=e,Fe=e=or(e.current,null),nt=It=t,We=0,Xo=null,np=Ru=Fr=0,Ot=Ro=null,Tr!==null){for(t=0;t<Tr.length;t++)if(n=Tr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Tr=null}return e}function c0(e,t){do{var n=Fe;try{if(Bd(),la.current=Fa,ja){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ja=!1}if(jr=0,Xe=Be=Te=null,xo=!1,Ho=0,tp.current=null,n===null||n.return===null){We=1,Xo=t,Fe=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=nt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Uh(s);if(h!==null){h.flags&=-257,Bh(h,s,a,o,t),h.mode&1&&Fh(o,l,t),t=h,u=l;var E=t.updateQueue;if(E===null){var y=new Set;y.add(u),t.updateQueue=y}else E.add(u);break e}else{if(!(t&1)){Fh(o,l,t),sp();break e}u=Error(H(426))}}else if(Re&&a.mode&1){var O=Uh(s);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Bh(O,s,a,o,t),Fd(Mi(u,a));break e}}o=u=Mi(u,a),We!==4&&(We=2),Ro===null?Ro=[o]:Ro.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=Gy(o,u,t);Lh(o,p);break e;case 1:a=u;var m=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(rr===null||!rr.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=Xy(o,a,t);Lh(o,x);break e}}o=o.return}while(o!==null)}p0(n)}catch(k){t=k,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function f0(){var e=Ua.current;return Ua.current=Fa,e===null?Fa:e}function sp(){(We===0||We===3||We===2)&&(We=4),Ke===null||!(Fr&268435455)&&!(Ru&268435455)||Hn(Ke,nt)}function za(e,t){var n=de;de|=2;var r=f0();(Ke!==e||nt!==t)&&(Cn=null,Ar(e,t));do try{v1();break}catch(i){c0(e,i)}while(1);if(Bd(),de=n,Ua.current=r,Fe!==null)throw Error(H(261));return Ke=null,nt=0,We}function v1(){for(;Fe!==null;)d0(Fe)}function g1(){for(;Fe!==null&&!BS();)d0(Fe)}function d0(e){var t=m0(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?p0(e):Fe=t,tp.current=null}function p0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=c1(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Fe=null;return}}else if(n=l1(n,t,It),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);We===0&&(We=5)}function xr(e,t,n){var r=he,i=zt.transition;try{zt.transition=null,he=1,y1(e,t,n,r)}finally{zt.transition=i,he=r}return null}function y1(e,t,n,r){do Oi();while(Kn!==null);if(de&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(YS(e,o),e===Ke&&(Fe=Ke=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hs||(Hs=!0,v0(xa,function(){return Oi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zt.transition,zt.transition=null;var s=he;he=1;var a=de;de|=4,tp.current=null,d1(e,n),a0(n,e),$w(kf),Ra=!!Rf,kf=Rf=null,e.current=n,p1(n),WS(),de=a,he=s,zt.transition=o}else e.current=n;if(Hs&&(Hs=!1,Kn=e,Wa=i),o=e.pendingLanes,o===0&&(rr=null),qS(n.stateNode),kt(e,Ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ba)throw Ba=!1,e=Xf,Xf=null,e;return Wa&1&&e.tag!==0&&Oi(),o=e.pendingLanes,o&1?e===Kf?ko++:(ko=0,Kf=e):ko=0,Er(),null}function Oi(){if(Kn!==null){var e=qg(Wa),t=zt.transition,n=he;try{if(zt.transition=null,he=16>e?16:e,Kn===null)var r=!1;else{if(e=Kn,Kn=null,Wa=0,de&6)throw Error(H(331));var i=de;for(de|=4,Z=e.current;Z!==null;){var o=Z,s=o.child;if(Z.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Z=l;Z!==null;){var c=Z;switch(c.tag){case 0:case 11:case 15:_o(8,c,o)}var d=c.child;if(d!==null)d.return=c,Z=d;else for(;Z!==null;){c=Z;var f=c.sibling,h=c.return;if(i0(c),c===l){Z=null;break}if(f!==null){f.return=h,Z=f;break}Z=h}}}var E=o.alternate;if(E!==null){var y=E.child;if(y!==null){E.child=null;do{var O=y.sibling;y.sibling=null,y=O}while(y!==null)}}Z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Z=s;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_o(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Z=p;break e}Z=o.return}}var m=e.current;for(Z=m;Z!==null;){s=Z;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Z=w;else e:for(s=m;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_u(9,a)}}catch(k){Ae(a,a.return,k)}if(a===s){Z=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}if(de=i,Er(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(yu,e)}catch{}r=!0}return r}finally{he=n,zt.transition=t}}return!1}function tm(e,t,n){t=Mi(n,t),t=Gy(e,t,1),e=nr(e,t,1),t=St(),e!==null&&(rs(e,1,t),kt(e,t))}function Ae(e,t,n){if(e.tag===3)tm(e,e,n);else for(;t!==null;){if(t.tag===3){tm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rr===null||!rr.has(r))){e=Mi(n,e),e=Xy(t,e,1),t=nr(t,e,1),e=St(),t!==null&&(rs(t,1,e),kt(t,e));break}}t=t.return}}function E1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(nt&n)===n&&(We===4||We===3&&(nt&130023424)===nt&&500>Ve()-rp?Ar(e,0):np|=n),kt(e,t)}function h0(e,t){t===0&&(e.mode&1?(t=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):t=1);var n=St();e=Ln(e,t),e!==null&&(rs(e,t,n),kt(e,n))}function S1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),h0(e,n)}function w1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),h0(e,n)}var m0;m0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,u1(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Re&&t.flags&1048576&&yy(t,Aa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fa(e,t),e=t.pendingProps;var i=Ti(t,ht.current);Ci(t,n),i=Qd(null,t,r,e,i,n);var o=Jd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(r)?(o=!0,Na(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hd(t),i.updater=Ou,t.stateNode=i,i._reactInternals=t,Vf(t,r,e,n),t=Ff(null,t,r,!0,o,n)):(t.tag=0,Re&&o&&$d(t),vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=C1(r),e=Qt(r,e),i){case 0:t=jf(null,t,r,e,n);break e;case 1:t=Hh(null,t,r,e,n);break e;case 11:t=Wh(null,t,r,e,n);break e;case 14:t=zh(null,t,r,Qt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),jf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),Hh(e,t,r,i,n);case 3:e:{if(Yy(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,by(e,t),Va(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Mi(Error(H(423)),t),t=qh(e,t,r,n,i);break e}else if(r!==i){i=Mi(Error(H(424)),t),t=qh(e,t,r,n,i);break e}else for(Tt=tr(t.stateNode.containerInfo.firstChild),Nt=t,Re=!0,Yt=null,n=_y(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ni(),r===i){t=An(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return Ry(t),e===null&&Af(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Pf(r,i)?s=null:o!==null&&Pf(r,o)&&(t.flags|=32),Jy(e,t),vt(e,t,s,n),t.child;case 6:return e===null&&Af(t),null;case 13:return Zy(e,t,n);case 4:return qd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Li(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),Wh(e,t,r,i,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Se(Ma,r._currentValue),r._currentValue=s,o!==null)if(on(o.value,s)){if(o.children===i.children&&!_t.current){t=An(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=kn(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Mf(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Mf(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ci(t,n),i=Ht(i),r=r(i),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,i=Qt(r,t.pendingProps),i=Qt(r.type,i),zh(e,t,r,i,n);case 15:return Ky(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),fa(e,t),t.tag=1,Rt(r)?(e=!0,Na(t)):e=!1,Ci(t,n),Oy(t,r,i),Vf(t,r,i,n),Ff(null,t,r,!0,e,n);case 19:return e0(e,t,n);case 22:return Qy(e,t,n)}throw Error(H(156,t.tag))};function v0(e,t){return Bg(e,t)}function b1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,r){return new b1(e,t,n,r)}function ap(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C1(e){if(typeof e=="function")return ap(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_d)return 11;if(e===Rd)return 14}return 2}function or(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ha(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")ap(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case oi:return Mr(n.children,i,o,t);case xd:s=8,i|=8;break;case af:return e=Wt(12,n,t,i|2),e.elementType=af,e.lanes=o,e;case uf:return e=Wt(13,n,t,i),e.elementType=uf,e.lanes=o,e;case lf:return e=Wt(19,n,t,i),e.elementType=lf,e.lanes=o,e;case xg:return ku(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cg:s=10;break e;case Og:s=9;break e;case _d:s=11;break e;case Rd:s=14;break e;case Bn:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Wt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Mr(e,t,n,r){return e=Wt(7,e,r,t),e.lanes=n,e}function ku(e,t,n,r){return e=Wt(22,e,r,t),e.elementType=xg,e.lanes=n,e.stateNode={isHidden:!1},e}function Zl(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function ec(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function O1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function up(e,t,n,r,i,o,s,a,u){return e=new O1(e,t,n,a,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(o),e}function x1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function g0(e){if(!e)return pr;e=e._reactInternals;e:{if(zr(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Rt(n))return vy(e,n,t)}return t}function y0(e,t,n,r,i,o,s,a,u){return e=up(n,r,!0,e,i,o,s,a,u),e.context=g0(null),n=e.current,r=St(),i=ir(n),o=kn(r,i),o.callback=t??null,nr(n,o,i),e.current.lanes=i,rs(e,i,r),kt(e,r),e}function Pu(e,t,n,r){var i=t.current,o=St(),s=ir(i);return n=g0(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nr(i,t,s),e!==null&&(rn(e,i,s,o),ua(e,i,s)),s}function Ha(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lp(e,t){nm(e,t),(e=e.alternate)&&nm(e,t)}function _1(){return null}var E0=typeof reportError=="function"?reportError:function(e){console.error(e)};function cp(e){this._internalRoot=e}Iu.prototype.render=cp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Pu(e,t,null,null)};Iu.prototype.unmount=cp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){Pu(null,e,null,null)}),t[Nn]=null}};function Iu(e){this._internalRoot=e}Iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zn.length&&t!==0&&t<zn[n].priority;n++);zn.splice(n,0,e),n===0&&Jg(e)}};function fp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rm(){}function R1(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=Ha(s);o.call(l)}}var s=y0(t,r,e,0,null,!1,!1,"",rm);return e._reactRootContainer=s,e[Nn]=s.current,Fo(e.nodeType===8?e.parentNode:e),Ur(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Ha(u);a.call(l)}}var u=up(e,0,!1,null,null,!1,!1,"",rm);return e._reactRootContainer=u,e[Nn]=u.current,Fo(e.nodeType===8?e.parentNode:e),Ur(function(){Pu(t,u,n,r)}),u}function Nu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Ha(s);a.call(u)}}Pu(t,s,e,i)}else s=R1(n,t,e,i,r);return Ha(s)}Gg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=go(t.pendingLanes);n!==0&&(Id(t,n|1),kt(t,Ve()),!(de&6)&&(Di=Ve()+500,Er()))}break;case 13:Ur(function(){var r=Ln(e,1);if(r!==null){var i=St();rn(r,e,1,i)}}),lp(e,1)}};Td=function(e){if(e.tag===13){var t=Ln(e,134217728);if(t!==null){var n=St();rn(t,e,134217728,n)}lp(e,134217728)}};Xg=function(e){if(e.tag===13){var t=ir(e),n=Ln(e,t);if(n!==null){var r=St();rn(n,e,t,r)}lp(e,t)}};Kg=function(){return he};Qg=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};Ef=function(e,t,n){switch(t){case"input":if(df(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bu(r);if(!i)throw Error(H(90));Rg(r),df(r,i)}}}break;case"textarea":Pg(e,n);break;case"select":t=n.value,t!=null&&Ei(e,!!n.multiple,t,!1)}};Dg=ip;Vg=Ur;var k1={usingClientEntryPoint:!1,Events:[os,li,bu,Ag,Mg,ip]},so={findFiberByHostInstance:Ir,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},P1={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fg(e),e===null?null:e.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||_1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{yu=qs.inject(P1),gn=qs}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k1;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fp(t))throw Error(H(200));return x1(e,t,null,n)};Mt.createRoot=function(e,t){if(!fp(e))throw Error(H(299));var n=!1,r="",i=E0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=up(e,1,!1,null,null,n,!1,r,i),e[Nn]=t.current,Fo(e.nodeType===8?e.parentNode:e),new cp(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Fg(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return Ur(e)};Mt.hydrate=function(e,t,n){if(!Tu(t))throw Error(H(200));return Nu(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!fp(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=E0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=y0(t,null,e,1,n??null,i,!1,o,s),e[Nn]=t.current,Fo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Iu(t)};Mt.render=function(e,t,n){if(!Tu(t))throw Error(H(200));return Nu(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!Tu(e))throw Error(H(40));return e._reactRootContainer?(Ur(function(){Nu(null,null,e,!1,function(){e._reactRootContainer=null,e[Nn]=null})}),!0):!1};Mt.unstable_batchedUpdates=ip;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tu(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Nu(e,t,n,!1,r)};Mt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Mt})(_S);var im=To;rf.createRoot=im.createRoot,rf.hydrateRoot=im.hydrateRoot;/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const om="popstate";function I1(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return Yf("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:S0(i)}return N1(t,n,null,e)}function Qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T1(){return Math.random().toString(36).substr(2,8)}function sm(e,t){return{usr:e.state,key:e.key,idx:t}}function Yf(e,t,n,r){return n===void 0&&(n=null),Ko({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wi(t):t,{state:n,key:t&&t.key||r||T1()})}function S0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function N1(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Qn.Pop,u=null,l=c();l==null&&(l=0,s.replaceState(Ko({},s.state,{idx:l}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Qn.Pop;let O=c(),p=O==null?null:O-l;l=O,u&&u({action:a,location:y.location,delta:p})}function f(O,p){a=Qn.Push;let m=Yf(y.location,O,p);n&&n(m,O),l=c()+1;let w=sm(m,l),x=y.createHref(m);try{s.pushState(w,"",x)}catch{i.location.assign(x)}o&&u&&u({action:a,location:y.location,delta:1})}function h(O,p){a=Qn.Replace;let m=Yf(y.location,O,p);n&&n(m,O),l=c();let w=sm(m,l),x=y.createHref(m);s.replaceState(w,"",x),o&&u&&u({action:a,location:y.location,delta:0})}function E(O){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof O=="string"?O:S0(O);return Qe(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let y={get action(){return a},get location(){return e(i,s)},listen(O){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(om,d),u=O,()=>{i.removeEventListener(om,d),u=null}},createHref(O){return t(i,O)},createURL:E,encodeLocation(O){let p=E(O);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:h,go(O){return s.go(O)}};return y}var am;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(am||(am={}));function L1(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Wi(t):t,i=C0(r.pathname||"/",n);if(i==null)return null;let o=w0(e);A1(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=W1(o[a],q1(i));return s}function w0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Qe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Dr([r,u.relativePath]),c=n.concat(u);o.children&&o.children.length>0&&(Qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),w0(o.children,t,c,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:U1(l,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of b0(o.path))i(o,s,u)}),t}function b0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=b0(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function A1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:B1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const M1=/^:\w+$/,D1=3,V1=2,$1=1,j1=10,F1=-2,um=e=>e==="*";function U1(e,t){let n=e.split("/"),r=n.length;return n.some(um)&&(r+=F1),t&&(r+=V1),n.filter(i=>!um(i)).reduce((i,o)=>i+(M1.test(o)?D1:o===""?$1:j1),r)}function B1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function W1(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],u=s===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=z1({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:Dr([i,c.pathname]),pathnameBase:Y1(Dr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Dr([i,c.pathnameBase]))}return o}function z1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=H1(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return l[c]=G1(a[d]||"",c),l},{}),pathname:o,pathnameBase:s,pattern:e}}function H1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),dp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function q1(e){try{return decodeURI(e)}catch(t){return dp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function G1(e,t){try{return decodeURIComponent(e)}catch(n){return dp(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function C0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Wi(e):e;return{pathname:n?n.startsWith("/")?n:K1(n,t):t,search:Z1(r),hash:eb(i)}}function K1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function J1(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Wi(e):(i=Ko({},e),Qe(!i.pathname||!i.pathname.includes("?"),tc("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),tc("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),tc("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=t.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let u=X1(i,a),l=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Dr=e=>e.join("/").replace(/\/\/+/g,"/"),Y1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nb=["post","put","patch","delete"];[...nb];/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf.apply(this,arguments)}function rb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const ib=typeof Object.is=="function"?Object.is:rb,{useState:ob,useEffect:sb,useLayoutEffect:ab,useDebugValue:ub}=wa;function lb(e,t,n){const r=t(),[{inst:i},o]=ob({inst:{value:r,getSnapshot:t}});return ab(()=>{i.value=r,i.getSnapshot=t,nc(i)&&o({inst:i})},[e,r,t]),sb(()=>(nc(i)&&o({inst:i}),e(()=>{nc(i)&&o({inst:i})})),[e]),ub(r),r}function nc(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!ib(n,r)}catch{return!0}}function cb(e,t,n){return t()}const fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",db=!fb,pb=db?cb:lb;"useSyncExternalStore"in wa&&(e=>e.useSyncExternalStore)(wa);const O0=B.createContext(null),x0=B.createContext(null),pp=B.createContext(null),Lu=B.createContext(null),as=B.createContext({outlet:null,matches:[]}),_0=B.createContext(null);function Au(){return B.useContext(Lu)!=null}function R0(){return Au()||Qe(!1),B.useContext(Lu).location}function hb(){Au()||Qe(!1);let{basename:e,navigator:t}=B.useContext(pp),{matches:n}=B.useContext(as),{pathname:r}=R0(),i=JSON.stringify(Q1(n).map(a=>a.pathnameBase)),o=B.useRef(!1);return B.useEffect(()=>{o.current=!0}),B.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){t.go(a);return}let l=J1(a,JSON.parse(i),r,u.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:Dr([e,l.pathname])),(u.replace?t.replace:t.push)(l,u.state,u)},[e,t,i,r])}function mb(e,t){Au()||Qe(!1);let{navigator:n}=B.useContext(pp),r=B.useContext(x0),{matches:i}=B.useContext(as),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=R0(),l;if(t){var c;let y=typeof t=="string"?Wi(t):t;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Qe(!1),l=y}else l=u;let d=l.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=L1(e,{pathname:f}),E=Eb(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Dr([a,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Dr([a,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r||void 0);return t&&E?B.createElement(Lu.Provider,{value:{location:Zf({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Qn.Pop}},E):E}function vb(){let e=Cb(),t=tb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:i},n):null,o)}class gb extends B.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?B.createElement(as.Provider,{value:this.props.routeContext},B.createElement(_0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yb(e){let{routeContext:t,match:n,children:r}=e,i=B.useContext(O0);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(as.Provider,{value:t},r)}function Eb(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||Qe(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let u=s.route.id?i==null?void 0:i[s.route.id]:null,l=n?s.route.errorElement||B.createElement(vb,null):null,c=t.concat(r.slice(0,a+1)),d=()=>B.createElement(yb,{match:s,routeContext:{outlet:o,matches:c}},u?l:s.route.element!==void 0?s.route.element:o);return n&&(s.route.errorElement||a===0)?B.createElement(gb,{location:n.location,component:l,error:u,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var lm;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(lm||(lm={}));var qa;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(qa||(qa={}));function Sb(e){let t=B.useContext(x0);return t||Qe(!1),t}function wb(e){let t=B.useContext(as);return t||Qe(!1),t}function bb(e){let t=wb(),n=t.matches[t.matches.length-1];return n.route.id||Qe(!1),n.route.id}function Cb(){var e;let t=B.useContext(_0),n=Sb(qa.UseRouteError),r=bb(qa.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function ma(e){Qe(!1)}function Ob(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Qn.Pop,navigator:o,static:s=!1}=e;Au()&&Qe(!1);let a=t.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Wi(r));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,E=B.useMemo(()=>{let y=C0(l,a);return y==null?null:{pathname:y,search:c,hash:d,state:f,key:h}},[a,l,c,d,f,h]);return E==null?null:B.createElement(pp.Provider,{value:u},B.createElement(Lu.Provider,{children:n,value:{location:E,navigationType:i}}))}function xb(e){let{children:t,location:n}=e,r=B.useContext(O0),i=r&&!t?r.router.routes:ed(t);return mb(i,n)}var cm;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(cm||(cm={}));new Promise(()=>{});function ed(e,t){t===void 0&&(t=[]);let n=[];return B.Children.forEach(e,(r,i)=>{if(!B.isValidElement(r))return;if(r.type===B.Fragment){n.push.apply(n,ed(r.props.children,t));return}r.type!==ma&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o=[...t,i],s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=ed(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _b(e){let{basename:t,children:n,window:r}=e,i=B.useRef();i.current==null&&(i.current=I1({window:r,v5Compat:!0}));let o=i.current,[s,a]=B.useState({action:o.action,location:o.location});return B.useLayoutEffect(()=>o.listen(a),[o]),B.createElement(Ob,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var fm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(fm||(fm={}));var dm;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dm||(dm={}));function Rb(){return Q(ns,{children:Q("div",{children:"Lobby"})})}var td={},kb={get exports(){return td},set exports(e){td=e}},k0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=B;function Pb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ib=typeof Object.is=="function"?Object.is:Pb,Tb=Vi.useState,Nb=Vi.useEffect,Lb=Vi.useLayoutEffect,Ab=Vi.useDebugValue;function Mb(e,t){var n=t(),r=Tb({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Lb(function(){i.value=n,i.getSnapshot=t,rc(i)&&o({inst:i})},[e,n,t]),Nb(function(){return rc(i)&&o({inst:i}),e(function(){rc(i)&&o({inst:i})})},[e]),Ab(n),n}function rc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ib(e,n)}catch{return!0}}function Db(e,t){return t()}var Vb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Db:Mb;k0.useSyncExternalStore=Vi.useSyncExternalStore!==void 0?Vi.useSyncExternalStore:Vb;(function(e){e.exports=k0})(kb);var pm={},$b={get exports(){return pm},set exports(e){pm=e}},P0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=B,jb=td;function Fb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ub=typeof Object.is=="function"?Object.is:Fb,Bb=jb.useSyncExternalStore,Wb=Mu.useRef,zb=Mu.useEffect,Hb=Mu.useMemo,qb=Mu.useDebugValue;P0.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Wb(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Hb(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var E=s.value;if(i(E,h))return d=E}return d=h}if(E=d,Ub(c,h))return E;var y=r(h);return i!==void 0&&i(E,y)?E:(c=h,d=y)}var l=!1,c,d,f=n===void 0?null:n;return[function(){return u(t())},f===null?void 0:function(){return u(f())}]},[t,n,r,i]);var a=Bb(e,o[0],o[1]);return zb(function(){s.hasValue=!0,s.value=a},[a]),qb(a),a};(function(e){e.exports=P0})($b);function Gb(e){e()}let I0=Gb;const Xb=e=>I0=e,Kb=()=>I0,$i=B.createContext(null);function Qb(){return B.useContext($i)}var nd={},Jb={get exports(){return nd},set exports(e){nd=e}},me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je=typeof Symbol=="function"&&Symbol.for,hp=Je?Symbol.for("react.element"):60103,mp=Je?Symbol.for("react.portal"):60106,Du=Je?Symbol.for("react.fragment"):60107,Vu=Je?Symbol.for("react.strict_mode"):60108,$u=Je?Symbol.for("react.profiler"):60114,ju=Je?Symbol.for("react.provider"):60109,Fu=Je?Symbol.for("react.context"):60110,vp=Je?Symbol.for("react.async_mode"):60111,Uu=Je?Symbol.for("react.concurrent_mode"):60111,Bu=Je?Symbol.for("react.forward_ref"):60112,Wu=Je?Symbol.for("react.suspense"):60113,Yb=Je?Symbol.for("react.suspense_list"):60120,zu=Je?Symbol.for("react.memo"):60115,Hu=Je?Symbol.for("react.lazy"):60116,Zb=Je?Symbol.for("react.block"):60121,eC=Je?Symbol.for("react.fundamental"):60117,tC=Je?Symbol.for("react.responder"):60118,nC=Je?Symbol.for("react.scope"):60119;function Vt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hp:switch(e=e.type,e){case vp:case Uu:case Du:case $u:case Vu:case Wu:return e;default:switch(e=e&&e.$$typeof,e){case Fu:case Bu:case Hu:case zu:case ju:return e;default:return t}}case mp:return t}}}function T0(e){return Vt(e)===Uu}me.AsyncMode=vp;me.ConcurrentMode=Uu;me.ContextConsumer=Fu;me.ContextProvider=ju;me.Element=hp;me.ForwardRef=Bu;me.Fragment=Du;me.Lazy=Hu;me.Memo=zu;me.Portal=mp;me.Profiler=$u;me.StrictMode=Vu;me.Suspense=Wu;me.isAsyncMode=function(e){return T0(e)||Vt(e)===vp};me.isConcurrentMode=T0;me.isContextConsumer=function(e){return Vt(e)===Fu};me.isContextProvider=function(e){return Vt(e)===ju};me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hp};me.isForwardRef=function(e){return Vt(e)===Bu};me.isFragment=function(e){return Vt(e)===Du};me.isLazy=function(e){return Vt(e)===Hu};me.isMemo=function(e){return Vt(e)===zu};me.isPortal=function(e){return Vt(e)===mp};me.isProfiler=function(e){return Vt(e)===$u};me.isStrictMode=function(e){return Vt(e)===Vu};me.isSuspense=function(e){return Vt(e)===Wu};me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Du||e===Uu||e===$u||e===Vu||e===Wu||e===Yb||typeof e=="object"&&e!==null&&(e.$$typeof===Hu||e.$$typeof===zu||e.$$typeof===ju||e.$$typeof===Fu||e.$$typeof===Bu||e.$$typeof===eC||e.$$typeof===tC||e.$$typeof===nC||e.$$typeof===Zb)};me.typeOf=Vt;(function(e){e.exports=me})(Jb);var N0=nd,rC={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},L0={};L0[N0.ForwardRef]=rC;L0[N0.Memo]=iC;var hm={},oC={get exports(){return hm},set exports(e){hm=e}},ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=Symbol.for("react.element"),yp=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),Gu=Symbol.for("react.strict_mode"),Xu=Symbol.for("react.profiler"),Ku=Symbol.for("react.provider"),Qu=Symbol.for("react.context"),sC=Symbol.for("react.server_context"),Ju=Symbol.for("react.forward_ref"),Yu=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),el=Symbol.for("react.memo"),tl=Symbol.for("react.lazy"),aC=Symbol.for("react.offscreen"),A0;A0=Symbol.for("react.module.reference");function Gt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gp:switch(e=e.type,e){case qu:case Xu:case Gu:case Yu:case Zu:return e;default:switch(e=e&&e.$$typeof,e){case sC:case Qu:case Ju:case tl:case el:case Ku:return e;default:return t}}case yp:return t}}}ve.ContextConsumer=Qu;ve.ContextProvider=Ku;ve.Element=gp;ve.ForwardRef=Ju;ve.Fragment=qu;ve.Lazy=tl;ve.Memo=el;ve.Portal=yp;ve.Profiler=Xu;ve.StrictMode=Gu;ve.Suspense=Yu;ve.SuspenseList=Zu;ve.isAsyncMode=function(){return!1};ve.isConcurrentMode=function(){return!1};ve.isContextConsumer=function(e){return Gt(e)===Qu};ve.isContextProvider=function(e){return Gt(e)===Ku};ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gp};ve.isForwardRef=function(e){return Gt(e)===Ju};ve.isFragment=function(e){return Gt(e)===qu};ve.isLazy=function(e){return Gt(e)===tl};ve.isMemo=function(e){return Gt(e)===el};ve.isPortal=function(e){return Gt(e)===yp};ve.isProfiler=function(e){return Gt(e)===Xu};ve.isStrictMode=function(e){return Gt(e)===Gu};ve.isSuspense=function(e){return Gt(e)===Yu};ve.isSuspenseList=function(e){return Gt(e)===Zu};ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qu||e===Xu||e===Gu||e===Yu||e===Zu||e===aC||typeof e=="object"&&e!==null&&(e.$$typeof===tl||e.$$typeof===el||e.$$typeof===Ku||e.$$typeof===Qu||e.$$typeof===Ju||e.$$typeof===A0||e.getModuleId!==void 0)};ve.typeOf=Gt;(function(e){e.exports=ve})(oC);function uC(){const e=Kb();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const mm={notify(){},get:()=>[]};function lC(e,t){let n,r=mm;function i(d){return u(),r.subscribe(d)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return Boolean(n)}function u(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=uC())}function l(){n&&(n(),n=void 0,r.clear(),r=mm)}const c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const cC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fC=cC?B.useLayoutEffect:B.useEffect;function dC({store:e,context:t,children:n,serverState:r}){const i=B.useMemo(()=>{const a=lC(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),o=B.useMemo(()=>e.getState(),[e]);fC(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,o]);const s=t||$i;return ye.createElement(s.Provider,{value:i},n)}function M0(e=$i){const t=e===$i?Qb:()=>B.useContext(e);return function(){const{store:r}=t();return r}}const pC=M0();function hC(e=$i){const t=e===$i?pC:M0(e);return function(){return t().dispatch}}const mC=hC();Xb(To.unstable_batchedUpdates);var us=e=>e.type==="checkbox",vi=e=>e instanceof Date,gt=e=>e==null;const D0=e=>typeof e=="object";var ze=e=>!gt(e)&&!Array.isArray(e)&&D0(e)&&!vi(e),vC=e=>ze(e)&&e.target?us(e.target)?e.target.checked:e.target.value:e,gC=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yC=(e,t)=>e.has(gC(t)),ls=e=>Array.isArray(e)?e.filter(Boolean):[],je=e=>e===void 0,te=(e,t,n)=>{if(!t||!ze(e))return n;const r=ls(t.split(/[,[\].]+?/)).reduce((i,o)=>gt(i)?i:i[o],e);return je(r)||r===e?je(e[t])?n:e[t]:r};const vm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},en={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},EC=ye.createContext(null),SC=()=>ye.useContext(EC);var wC=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==en.all&&(t._proxyFormState[s]=!r||en.all),n&&(n[s]=!0),e[s]}});return i},Ft=e=>ze(e)&&!Object.keys(e).length,bC=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ft(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||en.all))},ic=e=>Array.isArray(e)?e:[e];function CC(e){const t=ye.useRef(e);t.current=e,ye.useEffect(()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var mn=e=>typeof e=="string",OC=(e,t,n,r,i)=>mn(e)?(r&&t.watch.add(e),te(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),te(n,o))):(r&&(t.watchAll=!0),n),xC=e=>{const t=e.constructor&&e.constructor.prototype;return ze(t)&&t.hasOwnProperty("isPrototypeOf")},Ep=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ep&&(e instanceof Blob||e instanceof FileList))&&(n||ze(e)))if(t=n?[]:{},!Array.isArray(e)&&!xC(e))t=e;else for(const r in e)t[r]=_r(e[r]);else return e;return t}var _C=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Sp=e=>/^\w*$/.test(e),V0=e=>ls(e.replace(/["|']|\]/g,"").split(/\.|\[/));function xe(e,t,n){let r=-1;const i=Sp(t)?[t]:V0(t),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let u=n;if(r!==s){const l=e[a];u=ze(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}e[a]=u,e=e[a]}return e}const rd=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=te(e,r);if(i){const{_f:o,...s}=i;if(o&&t(o.name)){if(o.ref.focus){o.ref.focus();break}else if(o.refs&&o.refs[0].focus){o.refs[0].focus();break}}else ze(s)&&rd(s,t)}}};var gm=e=>({isOnSubmit:!e||e===en.onSubmit,isOnBlur:e===en.onBlur,isOnChange:e===en.onChange,isOnAll:e===en.all,isOnTouch:e===en.onTouched}),ym=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),RC=(e,t,n)=>{const r=ls(te(e,n));return xe(r,"root",t[n]),xe(e,n,r),e},xi=e=>typeof e=="boolean",wp=e=>e.type==="file",_i=e=>typeof e=="function",Ga=e=>{if(!Ep)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},va=e=>mn(e)||ye.isValidElement(e),bp=e=>e.type==="radio",Xa=e=>e instanceof RegExp;const Em={value:!1,isValid:!1},Sm={value:!0,isValid:!0};var $0=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!je(e[0].attributes.value)?je(e[0].value)||e[0].value===""?Sm:{value:e[0].value,isValid:!0}:Sm:Em}return Em};const wm={isValid:!1,value:null};var j0=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,wm):wm;function bm(e,t,n="validate"){if(va(e)||Array.isArray(e)&&e.every(va)||xi(e)&&!e)return{type:n,message:va(e)?e:"",ref:t}}var Qr=e=>ze(e)&&!Xa(e)?e:{value:e,message:""},Cm=async(e,t,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:u,minLength:l,min:c,max:d,pattern:f,validate:h,name:E,valueAsNumber:y,mount:O,disabled:p}=e._f,m=te(t,E);if(!O||p)return{};const w=s?s[0]:o,x=$=>{r&&w.reportValidity&&(w.setCustomValidity(xi($)?"":$||""),w.reportValidity())},k={},L=bp(o),j=us(o),C=L||j,M=(y||wp(o))&&je(o.value)&&je(m)||Ga(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,V=_C.bind(null,E,n,k),U=($,v,_,T=wn.maxLength,b=wn.minLength)=>{const g=$?v:_;k[E]={type:$?T:b,message:g,ref:o,...V($?T:b,g)}};if(i?!Array.isArray(m)||!m.length:a&&(!C&&(M||gt(m))||xi(m)&&!m||j&&!$0(s).isValid||L&&!j0(s).isValid)){const{value:$,message:v}=va(a)?{value:!!a,message:a}:Qr(a);if($&&(k[E]={type:wn.required,message:v,ref:w,...V(wn.required,v)},!n))return x(v),k}if(!M&&(!gt(c)||!gt(d))){let $,v;const _=Qr(d),T=Qr(c);if(!gt(m)&&!isNaN(m)){const b=o.valueAsNumber||m&&+m;gt(_.value)||($=b>_.value),gt(T.value)||(v=b<T.value)}else{const b=o.valueAsDate||new Date(m),g=I=>new Date(new Date().toDateString()+" "+I),S=o.type=="time",N=o.type=="week";mn(_.value)&&m&&($=S?g(m)>g(_.value):N?m>_.value:b>new Date(_.value)),mn(T.value)&&m&&(v=S?g(m)<g(T.value):N?m<T.value:b<new Date(T.value))}if(($||v)&&(U(!!$,_.message,T.message,wn.max,wn.min),!n))return x(k[E].message),k}if((u||l)&&!M&&(mn(m)||i&&Array.isArray(m))){const $=Qr(u),v=Qr(l),_=!gt($.value)&&m.length>$.value,T=!gt(v.value)&&m.length<v.value;if((_||T)&&(U(_,$.message,v.message),!n))return x(k[E].message),k}if(f&&!M&&mn(m)){const{value:$,message:v}=Qr(f);if(Xa($)&&!m.match($)&&(k[E]={type:wn.pattern,message:v,ref:o,...V(wn.pattern,v)},!n))return x(v),k}if(h){if(_i(h)){const $=await h(m,t),v=bm($,w);if(v&&(k[E]={...v,...V(wn.validate,v.message)},!n))return x(v.message),k}else if(ze(h)){let $={};for(const v in h){if(!Ft($)&&!n)break;const _=bm(await h[v](m,t),w,v);_&&($={..._,...V(v,_.message)},x(_.message),n&&(k[E]=$))}if(!Ft($)&&(k[E]={ref:w,...$},!n))return k}}return x(!0),k};function kC(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=je(e)?r++:e[t[r++]];return e}function PC(e){for(const t in e)if(!je(e[t]))return!1;return!0}function et(e,t){const n=Array.isArray(t)?t:Sp(t)?[t]:V0(t),r=n.length===1?e:kC(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(ze(r)&&Ft(r)||Array.isArray(r)&&PC(r))&&et(e,n.slice(0,-1)),e}function oc(){let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}}var Ka=e=>gt(e)||!D0(e);function Lr(e,t){if(Ka(e)||Ka(t))return e===t;if(vi(e)&&vi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(vi(o)&&vi(s)||ze(o)&&ze(s)||Array.isArray(o)&&Array.isArray(s)?!Lr(o,s):o!==s)return!1}}return!0}var F0=e=>e.type==="select-multiple",IC=e=>bp(e)||us(e),sc=e=>Ga(e)&&e.isConnected,U0=e=>{for(const t in e)if(_i(e[t]))return!0;return!1};function Qa(e,t={}){const n=Array.isArray(e);if(ze(e)||n)for(const r in e)Array.isArray(e[r])||ze(e[r])&&!U0(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Qa(e[r],t[r])):gt(e[r])||(t[r]=!0);return t}function B0(e,t,n){const r=Array.isArray(e);if(ze(e)||r)for(const i in e)Array.isArray(e[i])||ze(e[i])&&!U0(e[i])?je(t)||Ka(n[i])?n[i]=Array.isArray(e[i])?Qa(e[i],[]):{...Qa(e[i])}:B0(e[i],gt(t)?{}:t[i],n[i]):Lr(e[i],t[i])?delete n[i]:n[i]=!0;return n}var ac=(e,t)=>B0(e,t,Qa(t)),W0=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>je(e)?e:t?e===""?NaN:e&&+e:n&&mn(e)?new Date(e):r?r(e):e;function uc(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return wp(t)?t.files:bp(t)?j0(e.refs).value:F0(t)?[...t.selectedOptions].map(({value:n})=>n):us(t)?$0(e.refs).value:W0(je(t.value)?e.ref.value:t.value,e)}var TC=(e,t,n,r)=>{const i={};for(const o of e){const s=te(t,o);s&&xe(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ao=e=>je(e)?e:Xa(e)?e.source:ze(e)?Xa(e.value)?e.value.source:e.value:e,NC=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Om(e,t,n){const r=te(e,n);if(r||Sp(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=te(t,o),a=te(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var LC=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,AC=(e,t)=>!ls(te(e,t)).length&&et(e,t);const MC={mode:en.onSubmit,reValidateMode:en.onChange,shouldFocusError:!0};function DC(e={},t){let n={...MC,...e};const r=e.resetOptions&&e.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},o={},s=ze(n.defaultValues)||ze(n.values)?_r(n.defaultValues||n.values)||{}:{},a=n.shouldUnregister?{}:_r(s),u={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:oc(),array:oc(),state:oc()},E=gm(n.mode),y=gm(n.reValidateMode),O=n.criteriaMode===en.all,p=R=>D=>{clearTimeout(d),d=window.setTimeout(R,D)},m=async R=>{if(f.isValid||R){const D=n.resolver?Ft((await M()).errors):await U(o,!0);D!==i.isValid&&h.state.next({isValid:D})}},w=R=>f.isValidating&&h.state.next({isValidating:R}),x=(R,D=[],A,J,ee=!0,q=!0)=>{if(J&&A){if(u.action=!0,q&&Array.isArray(te(o,R))){const re=A(te(o,R),J.argA,J.argB);ee&&xe(o,R,re)}if(q&&Array.isArray(te(i.errors,R))){const re=A(te(i.errors,R),J.argA,J.argB);ee&&xe(i.errors,R,re),AC(i.errors,R)}if(f.touchedFields&&q&&Array.isArray(te(i.touchedFields,R))){const re=A(te(i.touchedFields,R),J.argA,J.argB);ee&&xe(i.touchedFields,R,re)}f.dirtyFields&&(i.dirtyFields=ac(s,a)),h.state.next({name:R,isDirty:v(R,D),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else xe(a,R,D)},k=(R,D)=>{xe(i.errors,R,D),h.state.next({errors:i.errors})},L=(R,D,A,J)=>{const ee=te(o,R);if(ee){const q=te(a,R,je(A)?te(s,R):A);je(q)||J&&J.defaultChecked||D?xe(a,R,D?q:uc(ee._f)):b(R,q),u.mount&&m()}},j=(R,D,A,J,ee)=>{let q=!1,re=!1;const Pe={name:R};if(!A||J){f.isDirty&&(re=i.isDirty,i.isDirty=Pe.isDirty=v(),q=re!==Pe.isDirty);const we=Lr(te(s,R),D);re=te(i.dirtyFields,R),we?et(i.dirtyFields,R):xe(i.dirtyFields,R,!0),Pe.dirtyFields=i.dirtyFields,q=q||f.dirtyFields&&re!==!we}if(A){const we=te(i.touchedFields,R);we||(xe(i.touchedFields,R,A),Pe.touchedFields=i.touchedFields,q=q||f.touchedFields&&we!==A)}return q&&ee&&h.state.next(Pe),q?Pe:{}},C=(R,D,A,J)=>{const ee=te(i.errors,R),q=f.isValid&&xi(D)&&i.isValid!==D;if(e.delayError&&A?(c=p(()=>k(R,A)),c(e.delayError)):(clearTimeout(d),c=null,A?xe(i.errors,R,A):et(i.errors,R)),(A?!Lr(ee,A):ee)||!Ft(J)||q){const re={...J,...q&&xi(D)?{isValid:D}:{},errors:i.errors,name:R};i={...i,...re},h.state.next(re)}w(!1)},M=async R=>await n.resolver(a,n.context,TC(R||l.mount,o,n.criteriaMode,n.shouldUseNativeValidation)),V=async R=>{const{errors:D}=await M();if(R)for(const A of R){const J=te(D,A);J?xe(i.errors,A,J):et(i.errors,A)}else i.errors=D;return D},U=async(R,D,A={valid:!0})=>{for(const J in R){const ee=R[J];if(ee){const{_f:q,...re}=ee;if(q){const Pe=l.array.has(q.name),we=await Cm(ee,a,O,n.shouldUseNativeValidation,Pe);if(we[q.name]&&(A.valid=!1,D))break;!D&&(te(we,q.name)?Pe?RC(i.errors,we,q.name):xe(i.errors,q.name,we[q.name]):et(i.errors,q.name))}re&&await U(re,D,A)}}return A.valid},$=()=>{for(const R of l.unMount){const D=te(o,R);D&&(D._f.refs?D._f.refs.every(A=>!sc(A)):!sc(D._f.ref))&&P(R)}l.unMount=new Set},v=(R,D)=>(R&&D&&xe(a,R,D),!Lr(F(),s)),_=(R,D,A)=>OC(R,l,{...u.mount?a:je(D)?s:mn(R)?{[R]:D}:D},A,D),T=R=>ls(te(u.mount?a:s,R,e.shouldUnregister?te(s,R,[]):[])),b=(R,D,A={})=>{const J=te(o,R);let ee=D;if(J){const q=J._f;q&&(!q.disabled&&xe(a,R,W0(D,q)),ee=Ga(q.ref)&&gt(D)?"":D,F0(q.ref)?[...q.ref.options].forEach(re=>re.selected=ee.includes(re.value)):q.refs?us(q.ref)?q.refs.length>1?q.refs.forEach(re=>(!re.defaultChecked||!re.disabled)&&(re.checked=Array.isArray(ee)?!!ee.find(Pe=>Pe===re.value):ee===re.value)):q.refs[0]&&(q.refs[0].checked=!!ee):q.refs.forEach(re=>re.checked=re.value===ee):wp(q.ref)?q.ref.value="":(q.ref.value=ee,q.ref.type||h.watch.next({name:R})))}(A.shouldDirty||A.shouldTouch)&&j(R,ee,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&I(R)},g=(R,D,A)=>{for(const J in D){const ee=D[J],q=`${R}.${J}`,re=te(o,q);(l.array.has(R)||!Ka(ee)||re&&!re._f)&&!vi(ee)?g(q,ee,A):b(q,ee,A)}},S=(R,D,A={})=>{const J=te(o,R),ee=l.array.has(R),q=_r(D);xe(a,R,q),ee?(h.array.next({name:R,values:a}),(f.isDirty||f.dirtyFields)&&A.shouldDirty&&h.state.next({name:R,dirtyFields:ac(s,a),isDirty:v(R,q)})):J&&!J._f&&!gt(q)?g(R,q,A):b(R,q,A),ym(R,l)&&h.state.next({}),h.watch.next({name:R}),!u.mount&&t()},N=async R=>{const D=R.target;let A=D.name;const J=te(o,A),ee=()=>D.type?uc(J._f):vC(R);if(J){let q,re;const Pe=ee(),we=R.type===vm.BLUR||R.type===vm.FOCUS_OUT,kl=!NC(J._f)&&!n.resolver&&!te(i.errors,A)&&!J._f.deps||LC(we,te(i.touchedFields,A),i.isSubmitted,y,E),Ue=ym(A,l,we);xe(a,A,Pe),we?(J._f.onBlur&&J._f.onBlur(R),c&&c(0)):J._f.onChange&&J._f.onChange(R);const $e=j(A,Pe,we,!1),Ee=!Ft($e)||Ue;if(!we&&h.watch.next({name:A,type:R.type}),kl)return f.isValid&&m(),Ee&&h.state.next({name:A,...Ue?{}:$e});if(!we&&Ue&&h.state.next({}),w(!0),n.resolver){const{errors:ce}=await M([A]),Pt=Om(i.errors,o,A),Kp=Om(ce,o,Pt.name||A);q=Kp.error,A=Kp.name,re=Ft(ce)}else q=(await Cm(J,a,O,n.shouldUseNativeValidation))[A],q?re=!1:f.isValid&&(re=await U(o,!0));J._f.deps&&I(J._f.deps),C(A,re,q,$e)}},I=async(R,D={})=>{let A,J;const ee=ic(R);if(w(!0),n.resolver){const q=await V(je(R)?R:ee);A=Ft(q),J=R?!ee.some(re=>te(q,re)):A}else R?(J=(await Promise.all(ee.map(async q=>{const re=te(o,q);return await U(re&&re._f?{[q]:re}:re)}))).every(Boolean),!(!J&&!i.isValid)&&m()):J=A=await U(o);return h.state.next({...!mn(R)||f.isValid&&A!==i.isValid?{}:{name:R},...n.resolver||!R?{isValid:A}:{},errors:i.errors,isValidating:!1}),D.shouldFocus&&!J&&rd(o,q=>q&&te(i.errors,q),R?ee:l.mount),J},F=R=>{const D={...s,...u.mount?a:{}};return je(R)?D:mn(R)?te(D,R):R.map(A=>te(D,A))},W=(R,D)=>({invalid:!!te((D||i).errors,R),isDirty:!!te((D||i).dirtyFields,R),isTouched:!!te((D||i).touchedFields,R),error:te((D||i).errors,R)}),Y=R=>{R&&ic(R).forEach(D=>et(i.errors,D)),h.state.next({errors:R?i.errors:{}})},G=(R,D,A)=>{const J=(te(o,R,{_f:{}})._f||{}).ref;xe(i.errors,R,{...D,ref:J}),h.state.next({name:R,errors:i.errors,isValid:!1}),A&&A.shouldFocus&&J&&J.focus&&J.focus()},oe=(R,D)=>_i(R)?h.watch.subscribe({next:A=>R(_(void 0,D),A)}):_(R,D,!0),P=(R,D={})=>{for(const A of R?ic(R):l.mount)l.mount.delete(A),l.array.delete(A),te(o,A)&&(D.keepValue||(et(o,A),et(a,A)),!D.keepError&&et(i.errors,A),!D.keepDirty&&et(i.dirtyFields,A),!D.keepTouched&&et(i.touchedFields,A),!n.shouldUnregister&&!D.keepDefaultValue&&et(s,A));h.watch.next({}),h.state.next({...i,...D.keepDirty?{isDirty:v()}:{}}),!D.keepIsValid&&m()},se=(R,D={})=>{let A=te(o,R);const J=xi(D.disabled);return xe(o,R,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:R}},name:R,mount:!0,...D}}),l.mount.add(R),A?J&&xe(a,R,D.disabled?void 0:te(a,R,uc(A._f))):L(R,!0,D.value),{...J?{disabled:D.disabled}:{},...n.shouldUseNativeValidation?{required:!!D.required,min:ao(D.min),max:ao(D.max),minLength:ao(D.minLength),maxLength:ao(D.maxLength),pattern:ao(D.pattern)}:{},name:R,onChange:N,onBlur:N,ref:ee=>{if(ee){se(R,D),A=te(o,R);const q=je(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,re=IC(q),Pe=A._f.refs||[];if(re?Pe.find(we=>we===q):q===A._f.ref)return;xe(o,R,{_f:{...A._f,...re?{refs:[...Pe.filter(sc),q,...Array.isArray(te(s,R))?[{}]:[]],ref:{type:q.type,name:R}}:{ref:q}}}),L(R,!1,void 0,q)}else A=te(o,R,{}),A._f&&(A._f.mount=!1),(n.shouldUnregister||D.shouldUnregister)&&!(yC(l.array,R)&&u.action)&&l.unMount.add(R)}}},ne=()=>n.shouldFocusError&&rd(o,R=>R&&te(i.errors,R),l.mount),Me=(R,D)=>async A=>{A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let J=_r(a);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:ee,values:q}=await M();i.errors=ee,J=q}else await U(o);et(i.errors,"root"),Ft(i.errors)?(h.state.next({errors:{}}),await R(J,A)):(D&&await D({...i.errors},A),ne()),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ft(i.errors),submitCount:i.submitCount+1,errors:i.errors})},ke=(R,D={})=>{te(o,R)&&(je(D.defaultValue)?S(R,te(s,R)):(S(R,D.defaultValue),xe(s,R,D.defaultValue)),D.keepTouched||et(i.touchedFields,R),D.keepDirty||(et(i.dirtyFields,R),i.isDirty=D.defaultValue?v(R,te(s,R)):v()),D.keepError||(et(i.errors,R),f.isValid&&m()),h.state.next({...i}))},K=(R,D={})=>{const A=R||s,J=_r(A),ee=R&&!Ft(R)?J:s;if(D.keepDefaultValues||(s=A),!D.keepValues){if(D.keepDirtyValues||r)for(const q of l.mount)te(i.dirtyFields,q)?xe(ee,q,te(a,q)):S(q,te(ee,q));else{if(Ep&&je(R))for(const q of l.mount){const re=te(o,q);if(re&&re._f){const Pe=Array.isArray(re._f.refs)?re._f.refs[0]:re._f.ref;if(Ga(Pe)){const we=Pe.closest("form");if(we){we.reset();break}}}}o={}}a=e.shouldUnregister?D.keepDefaultValues?_r(s):{}:J,h.array.next({values:ee}),h.watch.next({values:ee})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&t(),u.mount=!f.isValid||!!D.keepIsValid,u.watch=!!e.shouldUnregister,h.state.next({submitCount:D.keepSubmitCount?i.submitCount:0,isDirty:D.keepDirty||D.keepDirtyValues?i.isDirty:!!(D.keepDefaultValues&&!Lr(R,s)),isSubmitted:D.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:D.keepDirty||D.keepDirtyValues?i.dirtyFields:D.keepDefaultValues&&R?ac(s,R):{},touchedFields:D.keepTouched?i.touchedFields:{},errors:D.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},qe=(R,D)=>K(_i(R)?R(a):R,D),ie=(R,D={})=>{const A=te(o,R),J=A&&A._f;if(J){const ee=J.refs?J.refs[0]:J.ref;ee.focus&&(ee.focus(),D.shouldSelect&&ee.select())}},z=R=>{i={...i,...R}};return _i(n.defaultValues)&&n.defaultValues().then(R=>{qe(R,n.resetOptions),h.state.next({isLoading:!1})}),{control:{register:se,unregister:P,getFieldState:W,_executeSchema:M,_focusError:ne,_getWatch:_,_getDirty:v,_updateValid:m,_removeUnmounted:$,_updateFieldArray:x,_getFieldArray:T,_reset:K,_updateFormState:z,_subjects:h,_proxyFormState:f,get _fields(){return o},get _formValues(){return a},get _stateFlags(){return u},set _stateFlags(R){u=R},get _defaultValues(){return s},get _names(){return l},set _names(R){l=R},get _formState(){return i},set _formState(R){i=R},get _options(){return n},set _options(R){n={...n,...R}}},trigger:I,register:se,handleSubmit:Me,watch:oe,setValue:S,getValues:F,reset:qe,resetField:ke,clearErrors:Y,unregister:P,setError:G,setFocus:ie,getFieldState:W}}function VC(e={}){const t=ye.useRef(),[n,r]=ye.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:_i(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...DC(e,()=>r(o=>({...o}))),formState:n});const i=t.current.control;return i._options=e,CC({subject:i._subjects.state,next:o=>{bC(o,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),ye.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),ye.useEffect(()=>{e.values&&!Lr(e.values,i._defaultValues)&&i._reset(e.values,i._options.resetOptions)},[e.values,i]),ye.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),t.current.formState=wC(n,i),t.current}var z0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xm=ye.createContext&&ye.createContext(z0),sr=globalThis&&globalThis.__assign||function(){return sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},sr.apply(this,arguments)},$C=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function H0(e){return e&&e.map(function(t,n){return ye.createElement(t.tag,sr({key:n},t.attr),H0(t.child))})}function jC(e){return function(t){return ye.createElement(FC,sr({attr:sr({},e.attr)},t),H0(e.child))}}function FC(e){var t=function(n){var r=e.attr,i=e.size,o=e.title,s=$C(e,["attr","size","title"]),a=i||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),ye.createElement("svg",sr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:sr(sr({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ye.createElement("title",null,o),e.children)};return xm!==void 0?ye.createElement(xm.Consumer,null,function(n){return t(n)}):t(z0)}function UC(e){return jC({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}}]})(e)}var _m=function(e){var t=e.as,n=e.errors,r=e.name,i=e.message,o=e.render,s=function(f,h){if(f==null)return{};var E,y,O={},p=Object.keys(f);for(y=0;y<p.length;y++)h.indexOf(E=p[y])>=0||(O[E]=f[E]);return O}(e,["as","errors","name","message","render"]),a=SC(),u=te(n||a.formState.errors,r);if(!u)return null;var l=u.message,c=u.types,d=Object.assign({},s,{children:l||i});return B.isValidElement(t)?B.cloneElement(t,d):o?o({message:l||i,messages:c}):B.createElement(t||B.Fragment,d)};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var q0=zC,Rm=HC,BC=decodeURIComponent,WC=encodeURIComponent,Gs=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function zC(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(";"),o=r.decode||BC,s=0;s<i.length;s++){var a=i[s],u=a.indexOf("=");if(!(u<0)){var l=a.substring(0,u).trim();if(n[l]==null){var c=a.substring(u+1,a.length).trim();c[0]==='"'&&(c=c.slice(1,-1)),n[l]=qC(c,o)}}}return n}function HC(e,t,n){var r=n||{},i=r.encode||WC;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Gs.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!Gs.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(r.maxAge!=null){var a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(r.domain){if(!Gs.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!Gs.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite){var u=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(u){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function qC(e,t){try{return t(e)}catch{return e}}function GC(){return typeof document=="object"&&typeof document.cookie=="string"}function XC(e,t){return typeof e=="string"?q0(e,t):typeof e=="object"&&e!==null?e:{}}function KC(e,t){return typeof t>"u"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function km(e,t){t===void 0&&(t={});var n=QC(e);if(KC(n,t.doNotParse))try{return JSON.parse(n)}catch{}return e}function QC(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var Pr=globalThis&&globalThis.__assign||function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pr.apply(this,arguments)},JC=function(){function e(t,n){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=XC(t,n),new Promise(function(){r.HAS_DOCUMENT_COOKIE=GC()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){this.HAS_DOCUMENT_COOKIE&&(this.cookies=q0(document.cookie,t))},e.prototype._emitChange=function(t){for(var n=0;n<this.changeListeners.length;++n)this.changeListeners[n](t)},e.prototype.get=function(t,n,r){return n===void 0&&(n={}),this._updateBrowserValues(r),km(this.cookies[t],n)},e.prototype.getAll=function(t,n){t===void 0&&(t={}),this._updateBrowserValues(n);var r={};for(var i in this.cookies)r[i]=km(this.cookies[i],t);return r},e.prototype.set=function(t,n,r){var i;typeof n=="object"&&(n=JSON.stringify(n)),this.cookies=Pr(Pr({},this.cookies),(i={},i[t]=n,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Rm(t,n,r)),this._emitChange({name:t,value:n,options:r})},e.prototype.remove=function(t,n){var r=n=Pr(Pr({},n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Pr({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Rm(t,"",r)),this._emitChange({name:t,value:void 0,options:n})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var n=this.changeListeners.indexOf(t);n>=0&&this.changeListeners.splice(n,1)},e}();const Cp=JC;var G0=B.createContext(new Cp),YC=G0.Provider;G0.Consumer;var ZC=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eO=function(e){ZC(t,e);function t(n){var r=e.call(this,n)||this;return n.cookies?r.cookies=n.cookies:r.cookies=new Cp,r}return t.prototype.render=function(){return B.createElement(YC,{value:this.cookies},this.props.children)},t}(B.Component);const tO=eO;var id={},nO={get exports(){return id},set exports(e){id=e}},Ja={},rO={get exports(){return Ja},set exports(e){Ja=e}},X0=function(t,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(n,i)}},iO=X0,Hr=Object.prototype.toString;function Op(e){return Hr.call(e)==="[object Array]"}function od(e){return typeof e>"u"}function oO(e){return e!==null&&!od(e)&&e.constructor!==null&&!od(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function sO(e){return Hr.call(e)==="[object ArrayBuffer]"}function aO(e){return typeof FormData<"u"&&e instanceof FormData}function uO(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function lO(e){return typeof e=="string"}function cO(e){return typeof e=="number"}function K0(e){return e!==null&&typeof e=="object"}function ga(e){if(Hr.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function fO(e){return Hr.call(e)==="[object Date]"}function dO(e){return Hr.call(e)==="[object File]"}function pO(e){return Hr.call(e)==="[object Blob]"}function Q0(e){return Hr.call(e)==="[object Function]"}function hO(e){return K0(e)&&Q0(e.pipe)}function mO(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function vO(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function gO(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function xp(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Op(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function sd(){var e={};function t(i,o){ga(e[o])&&ga(i)?e[o]=sd(e[o],i):ga(i)?e[o]=sd({},i):Op(i)?e[o]=i.slice():e[o]=i}for(var n=0,r=arguments.length;n<r;n++)xp(arguments[n],t);return e}function yO(e,t,n){return xp(t,function(i,o){n&&typeof i=="function"?e[o]=iO(i,n):e[o]=i}),e}function EO(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var $t={isArray:Op,isArrayBuffer:sO,isBuffer:oO,isFormData:aO,isArrayBufferView:uO,isString:lO,isNumber:cO,isObject:K0,isPlainObject:ga,isUndefined:od,isDate:fO,isFile:dO,isBlob:pO,isFunction:Q0,isStream:hO,isURLSearchParams:mO,isStandardBrowserEnv:gO,forEach:xp,merge:sd,extend:yO,trim:vO,stripBOM:EO},Jr=$t;function Pm(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var J0=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(Jr.isURLSearchParams(n))i=n.toString();else{var o=[];Jr.forEach(n,function(u,l){u===null||typeof u>"u"||(Jr.isArray(u)?l=l+"[]":u=[u],Jr.forEach(u,function(d){Jr.isDate(d)?d=d.toISOString():Jr.isObject(d)&&(d=JSON.stringify(d)),o.push(Pm(l)+"="+Pm(d))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},SO=$t;function nl(){this.handlers=[]}nl.prototype.use=function(t,n){return this.handlers.push({fulfilled:t,rejected:n}),this.handlers.length-1};nl.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};nl.prototype.forEach=function(t){SO.forEach(this.handlers,function(r){r!==null&&t(r)})};var wO=nl,bO=$t,CO=function(t,n,r){return bO.forEach(r,function(o){t=o(t,n)}),t},lc,Im;function Y0(){return Im||(Im=1,lc=function(t){return!!(t&&t.__CANCEL__)}),lc}var OO=$t,xO=function(t,n){OO.forEach(t,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[o])})},cc,Tm;function _O(){return Tm||(Tm=1,cc=function(t,n,r,i,o){return t.config=n,r&&(t.code=r),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}),cc}var fc,Nm;function Z0(){if(Nm)return fc;Nm=1;var e=_O();return fc=function(n,r,i,o,s){var a=new Error(n);return e(a,r,i,o,s)},fc}var dc,Lm;function RO(){if(Lm)return dc;Lm=1;var e=Z0();return dc=function(n,r,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):r(e("Request failed with status code "+i.status,i.config,null,i.request,i))},dc}var pc,Am;function kO(){if(Am)return pc;Am=1;var e=$t;return pc=e.isStandardBrowserEnv()?function(){return{write:function(r,i,o,s,a,u){var l=[];l.push(r+"="+encodeURIComponent(i)),e.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),e.isString(s)&&l.push("path="+s),e.isString(a)&&l.push("domain="+a),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),pc}var hc,Mm;function PO(){return Mm||(Mm=1,hc=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}),hc}var mc,Dm;function IO(){return Dm||(Dm=1,mc=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}),mc}var vc,Vm;function TO(){if(Vm)return vc;Vm=1;var e=PO(),t=IO();return vc=function(r,i){return r&&!e(i)?t(r,i):i},vc}var gc,$m;function NO(){if($m)return gc;$m=1;var e=$t,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return gc=function(r){var i={},o,s,a;return r&&e.forEach(r.split(`
`),function(l){if(a=l.indexOf(":"),o=e.trim(l.substr(0,a)).toLowerCase(),s=e.trim(l.substr(a+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([s]):i[o]=i[o]?i[o]+", "+s:s}}),i},gc}var yc,jm;function LO(){if(jm)return yc;jm=1;var e=$t;return yc=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function o(s){var a=s;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=o(window.location.href),function(a){var u=e.isString(a)?o(a):a;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),yc}var Ec,Fm;function Um(){if(Fm)return Ec;Fm=1;var e=$t,t=RO(),n=kO(),r=J0,i=TO(),o=NO(),s=LO(),a=Z0();return Ec=function(l){return new Promise(function(d,f){var h=l.data,E=l.headers;e.isFormData(h)&&delete E["Content-Type"];var y=new XMLHttpRequest;if(l.auth){var O=l.auth.username||"",p=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";E.Authorization="Basic "+btoa(O+":"+p)}var m=i(l.baseURL,l.url);if(y.open(l.method.toUpperCase(),r(m,l.params,l.paramsSerializer),!0),y.timeout=l.timeout,y.onreadystatechange=function(){if(!(!y||y.readyState!==4)&&!(y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0))){var k="getAllResponseHeaders"in y?o(y.getAllResponseHeaders()):null,L=!l.responseType||l.responseType==="text"?y.responseText:y.response,j={data:L,status:y.status,statusText:y.statusText,headers:k,config:l,request:y};t(d,f,j),y=null}},y.onabort=function(){y&&(f(a("Request aborted",l,"ECONNABORTED",y)),y=null)},y.onerror=function(){f(a("Network Error",l,null,y)),y=null},y.ontimeout=function(){var k="timeout of "+l.timeout+"ms exceeded";l.timeoutErrorMessage&&(k=l.timeoutErrorMessage),f(a(k,l,"ECONNABORTED",y)),y=null},e.isStandardBrowserEnv()){var w=(l.withCredentials||s(m))&&l.xsrfCookieName?n.read(l.xsrfCookieName):void 0;w&&(E[l.xsrfHeaderName]=w)}if("setRequestHeader"in y&&e.forEach(E,function(k,L){typeof h>"u"&&L.toLowerCase()==="content-type"?delete E[L]:y.setRequestHeader(L,k)}),e.isUndefined(l.withCredentials)||(y.withCredentials=!!l.withCredentials),l.responseType)try{y.responseType=l.responseType}catch(x){if(l.responseType!=="json")throw x}typeof l.onDownloadProgress=="function"&&y.addEventListener("progress",l.onDownloadProgress),typeof l.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",l.onUploadProgress),l.cancelToken&&l.cancelToken.promise.then(function(k){y&&(y.abort(),f(k),y=null)}),h||(h=null),y.send(h)})},Ec}var Ct=$t,Bm=xO,AO={"Content-Type":"application/x-www-form-urlencoded"};function Wm(e,t){!Ct.isUndefined(e)&&Ct.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function MO(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Um()),e}var rl={adapter:MO(),transformRequest:[function(t,n){return Bm(n,"Accept"),Bm(n,"Content-Type"),Ct.isFormData(t)||Ct.isArrayBuffer(t)||Ct.isBuffer(t)||Ct.isStream(t)||Ct.isFile(t)||Ct.isBlob(t)?t:Ct.isArrayBufferView(t)?t.buffer:Ct.isURLSearchParams(t)?(Wm(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Ct.isObject(t)?(Wm(n,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if(typeof t=="string")try{t=JSON.parse(t)}catch{}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};rl.headers={common:{Accept:"application/json, text/plain, */*"}};Ct.forEach(["delete","get","head"],function(t){rl.headers[t]={}});Ct.forEach(["post","put","patch"],function(t){rl.headers[t]=Ct.merge(AO)});var eE=rl,zm=$t,Sc=CO,DO=Y0(),VO=eE;function wc(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var $O=function(t){wc(t),t.headers=t.headers||{},t.data=Sc(t.data,t.headers,t.transformRequest),t.headers=zm.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),zm.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||VO.adapter;return n(t).then(function(i){return wc(t),i.data=Sc(i.data,i.headers,t.transformResponse),i},function(i){return DO(i)||(wc(t),i&&i.response&&(i.response.data=Sc(i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},st=$t,tE=function(t,n){n=n||{};var r={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(f,h){return st.isPlainObject(f)&&st.isPlainObject(h)?st.merge(f,h):st.isPlainObject(h)?st.merge({},h):st.isArray(h)?h.slice():h}function l(f){st.isUndefined(n[f])?st.isUndefined(t[f])||(r[f]=u(void 0,t[f])):r[f]=u(t[f],n[f])}st.forEach(i,function(h){st.isUndefined(n[h])||(r[h]=u(void 0,n[h]))}),st.forEach(o,l),st.forEach(s,function(h){st.isUndefined(n[h])?st.isUndefined(t[h])||(r[h]=u(void 0,t[h])):r[h]=u(void 0,n[h])}),st.forEach(a,function(h){h in n?r[h]=u(t[h],n[h]):h in t&&(r[h]=u(void 0,t[h]))});var c=i.concat(o).concat(s).concat(a),d=Object.keys(t).concat(Object.keys(n)).filter(function(h){return c.indexOf(h)===-1});return st.forEach(d,l),r},nE=$t,jO=J0,Hm=wO,FO=$O,il=tE;function cs(e){this.defaults=e,this.interceptors={request:new Hm,response:new Hm}}cs.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=il(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=[FO,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(o){n.unshift(o.fulfilled,o.rejected)}),this.interceptors.response.forEach(function(o){n.push(o.fulfilled,o.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r};cs.prototype.getUri=function(t){return t=il(this.defaults,t),jO(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};nE.forEach(["delete","get","head","options"],function(t){cs.prototype[t]=function(n,r){return this.request(il(r||{},{method:t,url:n,data:(r||{}).data}))}});nE.forEach(["post","put","patch"],function(t){cs.prototype[t]=function(n,r,i){return this.request(il(i||{},{method:t,url:n,data:r}))}});var UO=cs,bc,qm;function rE(){if(qm)return bc;qm=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,bc=e,bc}var Cc,Gm;function BO(){if(Gm)return Cc;Gm=1;var e=rE();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(s){r=s});var i=this;n(function(s){i.reason||(i.reason=new e(s),r(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.source=function(){var r,i=new t(function(s){r=s});return{token:i,cancel:r}},Cc=t,Cc}var Oc,Xm;function WO(){return Xm||(Xm=1,Oc=function(t){return function(r){return t.apply(null,r)}}),Oc}var xc,Km;function zO(){return Km||(Km=1,xc=function(t){return typeof t=="object"&&t.isAxiosError===!0}),xc}var Qm=$t,HO=X0,ya=UO,qO=tE,GO=eE;function iE(e){var t=new ya(e),n=HO(ya.prototype.request,t);return Qm.extend(n,ya.prototype,t),Qm.extend(n,t),n}var sn=iE(GO);sn.Axios=ya;sn.create=function(t){return iE(qO(sn.defaults,t))};sn.Cancel=rE();sn.CancelToken=BO();sn.isCancel=Y0();sn.all=function(t){return Promise.all(t)};sn.spread=WO();sn.isAxiosError=zO();rO.exports=sn;Ja.default=sn;(function(e){e.exports=Ja})(nO);const Ya=fg(id),XO=300*1e3,KO="http://3.35.166.44:9000/api",Jm={status:!1,json:{error:["연결이 원활하지 않습니다. 잠시 후 다시 시도해 주세요"]}},QO=(e,t)=>Ya({url:e,data:t.body,method:t.method,withCredentials:!0}),JO=()=>new Promise((e,t)=>setTimeout(()=>t(new Error("timeout")),XO)),YO=async(e,t)=>await Promise.race([QO(e,t),JO()]),ZO=async e=>{const t={method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:e},n=await YO(KO+"/auth/login",t).catch(()=>Jm);if(console.log("data "+n),parseInt(Number(n.status)/100)===2){const r=n.statusText=="",i=n.status,o=n.data.length?n.data:"";return{headers:n.headers,data:n,status:r,code:i,json:o}}else return Jm},ex=new Cp,tx=e=>{const t=new Date,n=t.setDate(t.getDate()+7);return console.log("setRefreshToken "+e),ex.set(e,{sameSite:"strict",path:"/",httpOnly:!1,expires:new Date(n),secure:!1,signed:!0})};function tn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function hr(e){return!!e&&!!e[_e]}function Mn(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===cx}(e)||Array.isArray(e)||!!e[iv]||!!(!((t=e.constructor)===null||t===void 0)&&t[iv])||_p(e)||Rp(e))}function Br(e,t,n){n===void 0&&(n=!1),zi(e)===0?(n?Object.keys:ki)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function zi(e){var t=e[_e];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:_p(e)?2:Rp(e)?3:0}function Ri(e,t){return zi(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nx(e,t){return zi(e)===2?e.get(t):e[t]}function oE(e,t,n){var r=zi(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function sE(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function _p(e){return ux&&e instanceof Map}function Rp(e){return lx&&e instanceof Set}function Rr(e){return e.o||e.t}function kp(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=uE(e);delete t[_e];for(var n=ki(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Pp(e,t){return t===void 0&&(t=!1),Ip(e)||hr(e)||!Mn(e)||(zi(e)>1&&(e.set=e.add=e.clear=e.delete=rx),Object.freeze(e),t&&Br(e,function(n,r){return Pp(r,!0)},!0)),e}function rx(){tn(2)}function Ip(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function En(e){var t=cd[e];return t||tn(18,e),t}function ix(e,t){cd[e]||(cd[e]=t)}function ad(){return Qo}function _c(e,t){t&&(En("Patches"),e.u=[],e.s=[],e.v=t)}function Za(e){ud(e),e.p.forEach(ox),e.p=null}function ud(e){e===Qo&&(Qo=e.l)}function Ym(e){return Qo={p:[],l:Qo,h:e,m:!0,_:0}}function ox(e){var t=e[_e];t.i===0||t.i===1?t.j():t.O=!0}function Rc(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||En("ES5").S(t,e,r),r?(n[_e].P&&(Za(t),tn(4)),Mn(e)&&(e=eu(t,e),t.l||tu(t,e)),t.u&&En("Patches").M(n[_e].t,e,t.u,t.s)):e=eu(t,n,[]),Za(t),t.u&&t.v(t.u,t.s),e!==aE?e:void 0}function eu(e,t,n){if(Ip(t))return t;var r=t[_e];if(!r)return Br(t,function(a,u){return Zm(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return tu(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=kp(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Br(o,function(a,u){return Zm(e,r,i,a,u,n,s)}),tu(e,i,!1),n&&e.u&&En("Patches").N(r,n,e.u,e.s)}return r.o}function Zm(e,t,n,r,i,o,s){if(hr(i)){var a=eu(e,i,o&&t&&t.i!==3&&!Ri(t.R,r)?o.concat(r):void 0);if(oE(n,r,a),!hr(a))return;e.m=!1}else s&&n.add(i);if(Mn(i)&&!Ip(i)){if(!e.h.D&&e._<1)return;eu(e,i),t&&t.A.l||tu(e,i)}}function tu(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Pp(t,n)}function kc(e,t){var n=e[_e];return(n?Rr(n):e)[t]}function ev(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function qn(e){e.P||(e.P=!0,e.l&&qn(e.l))}function Pc(e){e.o||(e.o=kp(e.t))}function ld(e,t,n){var r=_p(t)?En("MapSet").F(t,n):Rp(t)?En("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:ad(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},u=a,l=Jo;s&&(u=[a],l=Eo);var c=Proxy.revocable(u,l),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):En("ES5").J(t,n);return(n?n.A:ad()).p.push(r),r}function sx(e){return hr(e)||tn(22,e),function t(n){if(!Mn(n))return n;var r,i=n[_e],o=zi(n);if(i){if(!i.P&&(i.i<4||!En("ES5").K(i)))return i.t;i.I=!0,r=tv(n,o),i.I=!1}else r=tv(n,o);return Br(r,function(s,a){i&&nx(i.t,s)===a||oE(r,s,t(a))}),o===3?new Set(r):r}(e)}function tv(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return kp(e)}function ax(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var u=this[_e];return Jo.get(u,o)},set:function(u){var l=this[_e];Jo.set(l,o,u)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][_e];if(!a.P)switch(a.i){case 5:r(a)&&qn(a);break;case 4:n(a)&&qn(a)}}}function n(o){for(var s=o.t,a=o.k,u=ki(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==_e){var d=s[c];if(d===void 0&&!Ri(s,c))return!0;var f=a[c],h=f&&f[_e];if(h?h.t!==d:!sE(f,d))return!0}}var E=!!s[_e];return u.length!==ki(s).length+(E?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var u=0;u<s.length;u++)if(!s.hasOwnProperty(u))return!0;return!1}var i={};ix("ES5",{J:function(o,s){var a=Array.isArray(o),u=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var E=uE(d);delete E[_e];for(var y=ki(E),O=0;O<y.length;O++){var p=y[O];E[p]=e(p,c||!!E[p].enumerable)}return Object.create(Object.getPrototypeOf(d),E)}(a,o),l={i:a?5:4,A:s?s.A:ad(),P:!1,I:!1,R:{},l:s,t:o,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,_e,{value:l,writable:!0}),u},S:function(o,s,a){a?hr(s)&&s[_e].A===o&&t(o.p):(o.u&&function u(l){if(l&&typeof l=="object"){var c=l[_e];if(c){var d=c.t,f=c.k,h=c.R,E=c.i;if(E===4)Br(f,function(w){w!==_e&&(d[w]!==void 0||Ri(d,w)?h[w]||u(f[w]):(h[w]=!0,qn(c)))}),Br(d,function(w){f[w]!==void 0||Ri(f,w)||(h[w]=!1,qn(c))});else if(E===5){if(r(c)&&(qn(c),h.length=!0),f.length<d.length)for(var y=f.length;y<d.length;y++)h[y]=!1;else for(var O=d.length;O<f.length;O++)h[O]=!0;for(var p=Math.min(f.length,d.length),m=0;m<p;m++)f.hasOwnProperty(m)||(h[m]=!0),h[m]===void 0&&u(f[m])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var nv,Qo,Tp=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ux=typeof Map<"u",lx=typeof Set<"u",rv=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",aE=Tp?Symbol.for("immer-nothing"):((nv={})["immer-nothing"]=!0,nv),iv=Tp?Symbol.for("immer-draftable"):"__$immer_draftable",_e=Tp?Symbol.for("immer-state"):"__$immer_state",cx=""+Object.prototype.constructor,ki=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,uE=Object.getOwnPropertyDescriptors||function(e){var t={};return ki(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},cd={},Jo={get:function(e,t){if(t===_e)return e;var n=Rr(e);if(!Ri(n,t))return function(i,o,s){var a,u=ev(o,s);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Mn(r)?r:r===kc(e.t,t)?(Pc(e),e.o[t]=ld(e.A.h,r,e)):r},has:function(e,t){return t in Rr(e)},ownKeys:function(e){return Reflect.ownKeys(Rr(e))},set:function(e,t,n){var r=ev(Rr(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=kc(Rr(e),t),o=i==null?void 0:i[_e];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(sE(n,i)&&(n!==void 0||Ri(e.t,t)))return!0;Pc(e),qn(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return kc(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Pc(e),qn(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Rr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){tn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){tn(12)}},Eo={};Br(Jo,function(e,t){Eo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Eo.deleteProperty=function(e,t){return Eo.set.call(this,e,t,void 0)},Eo.set=function(e,t,n){return Jo.set.call(this,e[0],t,n,e[0])};var fx=function(){function e(n){var r=this;this.g=rv,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var u=r;return function(y){var O=this;y===void 0&&(y=a);for(var p=arguments.length,m=Array(p>1?p-1:0),w=1;w<p;w++)m[w-1]=arguments[w];return u.produce(y,function(x){var k;return(k=o).call.apply(k,[O,x].concat(m))})}}var l;if(typeof o!="function"&&tn(6),s!==void 0&&typeof s!="function"&&tn(7),Mn(i)){var c=Ym(r),d=ld(r,i,void 0),f=!0;try{l=o(d),f=!1}finally{f?Za(c):ud(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(y){return _c(c,s),Rc(y,c)},function(y){throw Za(c),y}):(_c(c,s),Rc(l,c))}if(!i||typeof i!="object"){if((l=o(i))===void 0&&(l=i),l===aE&&(l=void 0),r.D&&Pp(l,!0),s){var h=[],E=[];En("Patches").M(i,l,h,E),s(h,E)}return l}tn(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(l){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(d))})};var s,a,u=r.produce(i,o,function(l,c){s=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,s,a]}):[u,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Mn(n)||tn(8),hr(n)&&(n=sx(n));var r=Ym(this),i=ld(this,n,void 0);return i[_e].C=!0,ud(r),i},t.finishDraft=function(n,r){var i=n&&n[_e],o=i.A;return _c(o,r),Rc(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!rv&&tn(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=En("Patches").$;return hr(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),At=new fx,lE=At.produce;At.produceWithPatches.bind(At);At.setAutoFreeze.bind(At);At.setUseProxies.bind(At);At.applyPatches.bind(At);At.createDraft.bind(At);At.finishDraft.bind(At);function Yo(e){return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function dx(e,t){if(Yo(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function px(e){var t=dx(e,"string");return Yo(t)==="symbol"?t:String(t)}function hx(e,t,n){return t=px(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ov(Object(n),!0).forEach(function(r){hx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ov(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var av=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ic=function(){return Math.random().toString(36).substring(7).split("").join(".")},nu={INIT:"@@redux/INIT"+Ic(),REPLACE:"@@redux/REPLACE"+Ic(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ic()}};function mx(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function cE(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(dt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(dt(1));return n(cE)(e,t)}if(typeof e!="function")throw new Error(dt(2));var i=e,o=t,s=[],a=s,u=!1;function l(){a===s&&(a=s.slice())}function c(){if(u)throw new Error(dt(3));return o}function d(y){if(typeof y!="function")throw new Error(dt(4));if(u)throw new Error(dt(5));var O=!0;return l(),a.push(y),function(){if(O){if(u)throw new Error(dt(6));O=!1,l();var m=a.indexOf(y);a.splice(m,1),s=null}}}function f(y){if(!mx(y))throw new Error(dt(7));if(typeof y.type>"u")throw new Error(dt(8));if(u)throw new Error(dt(9));try{u=!0,o=i(o,y)}finally{u=!1}for(var O=s=a,p=0;p<O.length;p++){var m=O[p];m()}return y}function h(y){if(typeof y!="function")throw new Error(dt(10));i=y,f({type:nu.REPLACE})}function E(){var y,O=d;return y={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(dt(11));function w(){m.next&&m.next(c())}w();var x=O(w);return{unsubscribe:x}}},y[av]=function(){return this},y}return f({type:nu.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[av]=E,r}function vx(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:nu.INIT});if(typeof r>"u")throw new Error(dt(12));if(typeof n(void 0,{type:nu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dt(13))})}function gx(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{vx(n)}catch(a){s=a}return function(u,l){if(u===void 0&&(u={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var h=o[f],E=n[h],y=u[h],O=E(y,l);if(typeof O>"u")throw l&&l.type,new Error(dt(14));d[h]=O,c=c||O!==y}return c=c||o.length!==Object.keys(u).length,c?d:u}}function ru(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function yx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(dt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(u){return u(s)});return o=ru.apply(void 0,a)(i.dispatch),sv(sv({},i),{},{dispatch:o})}}}function fE(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var dE=fE();dE.withExtraArgument=fE;const uv=dE;var Ex=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sx=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},iu=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},wx=Object.defineProperty,bx=Object.defineProperties,Cx=Object.getOwnPropertyDescriptors,lv=Object.getOwnPropertySymbols,Ox=Object.prototype.hasOwnProperty,xx=Object.prototype.propertyIsEnumerable,cv=function(e,t,n){return t in e?wx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ar=function(e,t){for(var n in t||(t={}))Ox.call(t,n)&&cv(e,n,t[n]);if(lv)for(var r=0,i=lv(t);r<i.length;r++){var n=i[r];xx.call(t,n)&&cv(e,n,t[n])}return e},Tc=function(e,t){return bx(e,Cx(t))},_x=function(e,t,n){return new Promise(function(r,i){var o=function(u){try{a(n.next(u))}catch(l){i(l)}},s=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(o,s)};a((n=n.apply(e,t)).next())})},Rx=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ru:ru.apply(null,arguments)};function kx(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var Px=function(e){Ex(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,iu([void 0],n[0].concat(this)))):new(t.bind.apply(t,iu([void 0],n.concat(this))))},t}(Array);function fd(e){return Mn(e)?lE(e,function(){}):e}function Ix(e){return typeof e=="boolean"}function Tx(){return function(t){return Nx(t)}}function Nx(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new Px;return n&&(Ix(n)?r.push(uv):r.push(uv.withExtraArgument(n.extraArgument))),r}var Lx=!0;function Ax(e){var t=Tx(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(kx(i))h=gx(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var E=s;typeof E=="function"&&(E=E(t));var y=yx.apply(void 0,E),O=ru;u&&(O=Rx(ar({trace:!Lx},typeof u=="object"&&u)));var p=[y];Array.isArray(f)?p=iu([y],f):typeof f=="function"&&(p=f(p));var m=O.apply(void 0,p);return cE(h,c,m)}function ur(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return ar(ar({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function pE(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function Mx(e){return typeof e=="function"}function Dx(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?pE(t):[t,n,r],o=i[0],s=i[1],a=i[2],u;if(Mx(e))u=function(){return fd(e())};else{var l=fd(e);u=function(){return l}}function c(d,f){d===void 0&&(d=u());var h=iu([o[f.type]],s.filter(function(E){var y=E.matcher;return y(f)}).map(function(E){var y=E.reducer;return y}));return h.filter(function(E){return!!E}).length===0&&(h=[a]),h.reduce(function(E,y){if(y)if(hr(E)){var O=E,p=y(O,f);return p===void 0?E:p}else{if(Mn(E))return lE(E,function(m){return y(m,f)});var p=y(E,f);if(p===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}return E},d)}return c.getInitialState=u,c}function Vx(e,t){return e+"/"+t}function $x(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:fd(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=Vx(t,c),h,E;"reducer"in d?(h=d.reducer,E=d.prepare):h=d,o[c]=h,s[f]=h,a[c]=E?ur(f,E):ur(f)});function u(){var c=typeof e.extraReducers=="function"?pE(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],E=h===void 0?[]:h,y=c[2],O=y===void 0?void 0:y,p=ar(ar({},f),s);return Dx(n,function(m){for(var w in p)m.addCase(w,p[w]);for(var x=0,k=E;x<k.length;x++){var L=k[x];m.addMatcher(L.matcher,L.reducer)}O&&m.addDefaultCase(O)})}var l;return{name:t,reducer:function(c,d){return l||(l=u()),l(c,d)},actions:a,caseReducers:o,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var jx="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fx=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=jx[Math.random()*64|0];return t},Ux=["name","message","stack","code"],Nc=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),fv=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Bx=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=Ux;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=ur(t+"/fulfilled",function(l,c,d,f){return{payload:l,meta:Tc(ar({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=ur(t+"/pending",function(l,c,d){return{payload:void 0,meta:Tc(ar({},d||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),s=ur(t+"/rejected",function(l,c,d,f,h){return{payload:f,error:(r&&r.serializeError||Bx)(l||"Rejected"),meta:Tc(ar({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(l):Fx(),E=new a,y;function O(m){y=m,E.abort()}var p=function(){return _x(this,null,function(){var m,w,x,k,L,j,C;return Sx(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),k=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,l,{getState:d,extra:f}),zx(k)?[4,k]:[3,2];case 1:k=M.sent(),M.label=2;case 2:if(k===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return L=new Promise(function(V,U){return E.signal.addEventListener("abort",function(){return U({name:"AbortError",message:y||"Aborted"})})}),c(o(h,l,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:l},{getState:d,extra:f}))),[4,Promise.race([L,Promise.resolve(n(l,{dispatch:c,getState:d,extra:f,requestId:h,signal:E.signal,abort:O,rejectWithValue:function(V,U){return new Nc(V,U)},fulfillWithValue:function(V,U){return new fv(V,U)}})).then(function(V){if(V instanceof Nc)throw V;return V instanceof fv?i(V.payload,h,l,V.meta):i(V,h,l)})])];case 3:return x=M.sent(),[3,5];case 4:return j=M.sent(),x=j instanceof Nc?s(null,h,l,j.payload,j.meta):s(j,h,l),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&s.match(x)&&x.meta.condition,C||c(x),[2,x]}})})}();return Object.assign(p,{abort:O,requestId:h,arg:l,unwrap:function(){return p.then(Wx)}})}}return Object.assign(u,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Wx(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function zx(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Np="listenerMiddleware";ur(Np+"/add");ur(Np+"/removeAll");ur(Np+"/remove");var dv;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);ax();const Hx=600*1e3,hE=$x({name:"authToken",initialState:{authenticated:!1,accessToken:null,expireTime:null},reducers:{SET_TOKEN:(e,t)=>{e.authenticated=!0,e.accessToken=t.payload,e.expireTime=new Date().getTime()+Hx},DELETE_TOKEN:e=>{e.authenticated=!1,e.accessToken=null,e.expireTime=null}}}),{SET_TOKEN:qx,DELETE_TOKEN:tT}=hE.actions,Gx=hE.reducer;function Xx(){const e=hb(),t=mC(),{register:n,setValue:r,formState:{errors:i},handleSubmit:o}=VC();return Q(ns,{children:Q("div",{className:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:yt("div",{className:"max-w-md w-full space-y-8",children:[yt("div",{children:[Q("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Q("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),yt("form",{className:"mt-8 space-y-6",onSubmit:o(async({email:a,password:u})=>{const l=await ZO({email:a,password:u});if(console.log("response head"+JSON.stringify(l.headers)),l.status)return document.cookie=l,console.log("dc   "+document.cookie),tx(document.cookie),t(qx(l.json.accessToken)),e("/");console.log(l),r("password","")}),children:[Q("input",{type:"hidden",name:"remember",defaultValue:"true"}),yt("div",{className:"rounded-md shadow-sm -space-y-px",children:[yt("div",{children:[Q("label",{htmlFor:"email",className:"sr-only",children:"User ID"}),Q("input",{...n("email",{required:"Please Enter Your ID"}),type:"text",placeholder:"User ID"}),Q(_m,{name:"email",errors:i,render:({message:a})=>Q("p",{className:"text-sm font-medium text-rose-500",children:a})})]}),yt("div",{children:[Q("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Q("input",{...n("password",{required:"Please Enter Your Password"}),type:"text",placeholder:"Password"}),Q(_m,{name:"email",errors:i,render:({message:a})=>Q("p",{className:"text-sm font-medium text-rose-500",children:a})})]})]}),Q("div",{children:yt("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Q("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Q(UC,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Sign in"]})})]})]})})})}function Kx(){return Q(ns,{children:Q("div",{children:"로그아웃 되었습니다. 감사합니다."})})}var mE={},Lp={};(function(e){var t=X&&X.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])},r(i,o)};return function(i,o){r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();function n(r){if(!r)return n.__;Array.prototype.reduce||(Array.prototype.reduce=function(s,a){for(var u=a,l=0;l<this.length;l++)u=s(u,this[l],l,this);return u});var i="",o=("."+r).split(".").reduce(function(s,a,u,l){i?i+="."+a:i=a;var c=s["__"+i];return c===void 0&&(n.Logger.prototype=s,c=new n.Logger(i),s["__"+i]=c),c},n.__);return o}(function(r){r.requestId="",r.entryId=0,r._createXMLHttpRequest=function(){return new XMLHttpRequest},r._getTime=function(){return new Date().getTime()},r._console=console,r._appenderNames=[];function i(b,g,S){if(g[b]!==void 0){if(g[b]===null){delete S[b];return}S[b]=g[b]}}function o(b){if(r.enabled!=null&&!r.enabled)return!1;try{if(b.userAgentRegex&&!new RegExp(b.userAgentRegex).test(navigator.userAgent))return!1}catch{}try{if(b.ipRegex&&r.clientIP&&!new RegExp(b.ipRegex).test(r.clientIP))return!1}catch{}return!0}function s(b,g){try{if(b.disallow&&new RegExp(b.disallow).test(g))return!1}catch{}return!0}function a(b){return typeof b=="function"?b instanceof RegExp?b.toString():b():b}var u=function(){function b(g,S,N){this.msg=g,this.meta=S,this.finalString=N}return b}();function l(b){var g=a(b),S;switch(typeof g){case"string":return new u(g,null,g);case"number":return S=g.toString(),new u(S,null,S);case"boolean":return S=g.toString(),new u(S,null,S);case"undefined":return new u("undefined",null,"undefined");case"object":return g instanceof RegExp||g instanceof String||g instanceof Number||g instanceof Boolean?(S=g.toString(),new u(S,null,S)):(typeof r.serialize=="function"?S=r.serialize.call(this,g):S=JSON.stringify(g),new u("",g,S));default:return new u("unknown",null,"unknown")}}function c(b){return i("enabled",b,this),i("maxMessages",b,this),i("defaultAjaxUrl",b,this),i("clientIP",b,this),i("requestId",b,this),i("defaultBeforeSend",b,this),i("serialize",b,this),this}r.setOptions=c;function d(){return-2147483648}r.getAllLevel=d;function f(){return 1e3}r.getTraceLevel=f;function h(){return 2e3}r.getDebugLevel=h;function E(){return 3e3}r.getInfoLevel=E;function y(){return 4e3}r.getWarnLevel=y;function O(){return 5e3}r.getErrorLevel=O;function p(){return 6e3}r.getFatalLevel=p;function m(){return 2147483647}r.getOffLevel=m;function w(b){return b<=1e3?"trace":b<=2e3?"debug":b<=3e3?"info":b<=4e3?"warn":b<=5e3?"error":"fatal"}var x=function(){function b(g,S){this.inner=S,this.name="JL.Exception",this.message=l(g).finalString}return b}();r.Exception=x,x.prototype=new Error;var k=function(){function b(g,S,N,I,F){this.l=g,this.m=S,this.n=N,this.t=I,this.u=F}return b}();r.LogItem=k;function L(b,g,S){return r.entryId++,new k(b,g,S,r._getTime(),r.entryId)}function j(b){b.id&&(clearTimeout(b.id),b.id=null)}function C(b,g,S){var N=this;b.id||(b.id=setTimeout(function(){S.call(N)},g))}var M=function(){function b(g,S){this.appenderName=g,this.sendLogItems=S,this.level=r.getTraceLevel(),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.maxBatchSize=20,this.batchTimeout=2147483647,this.sendTimeout=5e3,this.buffer=[],this.batchBuffer=[],this.batchTimeoutTimer={id:null},this.sendTimeoutTimer={id:null},this.nbrLogItemsSkipped=0,this.nbrLogItemsBeingSent=0;var N="Trying to create an appender without a name or with an empty name";if(g==null)throw N;if(r._appenderNames.indexOf(g)!=-1)throw g?"Multiple appenders use the same name "+g:N;r._appenderNames.push(g)}return b.prototype.addLogItemsToBuffer=function(g){if(this.batchBuffer.length>=this.maxBatchSize){this.nbrLogItemsSkipped+=g.length;return}if(r.maxMessages!=null){if(r.maxMessages<1)return;r.maxMessages-=g.length}this.batchBuffer=this.batchBuffer.concat(g);var S=this;C(this.batchTimeoutTimer,this.batchTimeout,function(){S.sendBatch.call(S)})},b.prototype.batchBufferHasOverdueMessages=function(){for(var g=0;g<this.batchBuffer.length;g++){var S=r._getTime()-this.batchBuffer[g].t;if(S>this.batchTimeout)return!0}return!1},b.prototype.batchBufferHasStrandedMessage=function(){return r.maxMessages!=null&&r.maxMessages<1&&this.batchBuffer.length>0},b.prototype.sendBatchIfComplete=function(){(this.batchBuffer.length>=this.batchSize||this.batchBufferHasOverdueMessages()||this.batchBufferHasStrandedMessage())&&this.sendBatch()},b.prototype.onSendingEnded=function(){j(this.sendTimeoutTimer),this.nbrLogItemsBeingSent=0,this.sendBatchIfComplete()},b.prototype.setOptions=function(g){if(i("level",g,this),i("ipRegex",g,this),i("userAgentRegex",g,this),i("disallow",g,this),i("sendWithBufferLevel",g,this),i("storeInBufferLevel",g,this),i("bufferSize",g,this),i("batchSize",g,this),i("maxBatchSize",g,this),i("batchTimeout",g,this),i("sendTimeout",g,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this.maxBatchSize<this.batchSize)throw new r.Exception({message:"maxBatchSize cannot be smaller than batchSize",maxBatchSize:this.maxBatchSize,batchSize:this.batchSize});return this},b.prototype.log=function(g,S,N,I,F,W,Y){var G;if(o(this)&&s(this,W)&&!(F<this.storeInBufferLevel)){if(G=L(F,W,Y),F<this.level){this.bufferSize>0&&(this.buffer.push(G),this.buffer.length>this.bufferSize&&this.buffer.shift());return}this.addLogItemsToBuffer([G]),F>=this.sendWithBufferLevel&&this.buffer.length&&(this.addLogItemsToBuffer(this.buffer),this.buffer.length=0),this.sendBatchIfComplete()}},b.prototype.sendBatch=function(){if(!(this.nbrLogItemsBeingSent>0)&&(j(this.batchTimeoutTimer),this.batchBuffer.length!=0)){this.nbrLogItemsBeingSent=this.batchBuffer.length;var g=this;C(this.sendTimeoutTimer,this.sendTimeout,function(){g.onSendingEnded.call(g)}),this.sendLogItems(this.batchBuffer,function(){g.batchBuffer.splice(0,g.nbrLogItemsBeingSent),g.nbrLogItemsSkipped>0&&(g.batchBuffer.push(L(y(),"Lost "+g.nbrLogItemsSkipped+" messages. Either connection with the server was down or logging was disabled via the enabled option. Reduce lost messages by increasing the ajaxAppender option maxBatchSize.",g.appenderName)),g.nbrLogItemsSkipped=0),g.onSendingEnded.call(g)})}},b}();r.Appender=M;var V=function(b){t(g,b);function g(S){return b.call(this,S,g.prototype.sendLogItemsAjax)||this}return g.prototype.setOptions=function(S){return i("url",S,this),i("beforeSend",S,this),b.prototype.setOptions.call(this,S),this},g.prototype.sendLogItemsAjax=function(S,N){try{if(!o(this))return;this.xhr&&this.xhr.readyState!=0&&this.xhr.readyState!=4&&this.xhr.abort(),this.xhr=r._createXMLHttpRequest();var I="/jsnlog.logger";r.defaultAjaxUrl!=null&&(I=r.defaultAjaxUrl),this.url&&(I=this.url),this.xhr.open("POST",I),this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("JSNLog-RequestId",r.requestId);var F=this;this.xhr.onreadystatechange=function(){F.xhr.readyState==4&&F.xhr.status>=200&&F.xhr.status<300&&N()};var W={r:r.requestId,lg:S};typeof this.beforeSend=="function"?this.beforeSend.call(this,this.xhr,W):typeof r.defaultBeforeSend=="function"&&r.defaultBeforeSend.call(this,this.xhr,W);var Y=JSON.stringify(W);this.xhr.send(Y)}catch{}},g}(M);r.AjaxAppender=V;var U=function(b){t(g,b);function g(S){return b.call(this,S,g.prototype.sendLogItemsConsole)||this}return g.prototype.clog=function(S){r._console.log(S)},g.prototype.cerror=function(S){r._console.error?r._console.error(S):this.clog(S)},g.prototype.cwarn=function(S){r._console.warn?r._console.warn(S):this.clog(S)},g.prototype.cinfo=function(S){r._console.info?r._console.info(S):this.clog(S)},g.prototype.cdebug=function(S){r._console.debug?r._console.debug(S):this.cinfo(S)},g.prototype.sendLogItemsConsole=function(S,N){try{if(!o(this)||!r._console)return;var I;for(I=0;I<S.length;++I){var F=S[I],W=F.n+": "+F.m;typeof window>"u"&&(W=new Date(F.t)+" | "+W),F.l<=r.getDebugLevel()?this.cdebug(W):F.l<=r.getInfoLevel()?this.cinfo(W):F.l<=r.getWarnLevel()?this.cwarn(W):this.cerror(W)}}catch{}N()},g}(M);r.ConsoleAppender=U;var $=function(){function b(g){this.loggerName=g,this.seenRegexes=[]}return b.prototype.setOptions=function(g){return i("level",g,this),i("userAgentRegex",g,this),i("disallow",g,this),i("ipRegex",g,this),i("appenders",g,this),i("onceOnly",g,this),this.seenRegexes=[],this},b.prototype.buildExceptionObject=function(g){var S={};return g.stack?S.stack=g.stack:S.e=g,g.message&&(S.message=g.message),g.name&&(S.name=g.name),g.data&&(S.data=g.data),g.inner&&(S.inner=this.buildExceptionObject(g.inner)),S},b.prototype.log=function(g,S,N){var I=0,F,W;if(!this.appenders)return this;if(g>=this.level&&o(this)&&(N?(W=this.buildExceptionObject(N),W.logData=a(S)):W=S,F=l(W),s(this,F.finalString))){if(this.onceOnly)for(I=this.onceOnly.length-1;I>=0;){if(new RegExp(this.onceOnly[I]).test(F.finalString)){if(this.seenRegexes[I])return this;this.seenRegexes[I]=!0}I--}for(F.meta=F.meta||{},I=this.appenders.length-1;I>=0;)this.appenders[I].log(w(g),F.msg,F.meta,function(){},g,F.finalString,this.loggerName),I--}return this},b.prototype.trace=function(g){return this.log(f(),g)},b.prototype.debug=function(g){return this.log(h(),g)},b.prototype.info=function(g){return this.log(E(),g)},b.prototype.warn=function(g){return this.log(y(),g)},b.prototype.error=function(g){return this.log(O(),g)},b.prototype.fatal=function(g){return this.log(p(),g)},b.prototype.fatalException=function(g,S){return this.log(p(),g,S)},b}();r.Logger=$;function v(b){return new V(b)}r.createAjaxAppender=v;function _(b){return new U(b)}r.createConsoleAppender=_;var T;typeof window<"u"?T=new V(""):T=new U(""),r.__=new r.Logger(""),r.__.setOptions({level:r.getDebugLevel(),appenders:[T]})})(n||(n={})),e.__esModule=!0,e.JL=n,typeof __jsnlog_configure=="function"&&__jsnlog_configure(n),typeof window<"u"&&!window.onerror&&(window.onerror=function(r,i,o,s,a){return n("onerrorLogger").fatalException({msg:"Uncaught Exception",errorMsg:r?r.message||r:"",url:i,"line number":o,column:s},a),!1}),typeof window<"u"&&!window.onunhandledrejection&&(window.onunhandledrejection=function(r){n("onerrorLogger").fatalException({msg:"unhandledrejection",errorMsg:r.reason?r.reason.message:r.message||null},r.reason)})})(Lp);var ol={},fs={},Ap={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LocalRecorderState=void 0,function(t){t.READY="READY",t.RECORDING="RECORDING",t.PAUSED="PAUSED",t.FINISHED="FINISHED"}(e.LocalRecorderState||(e.LocalRecorderState={}))})(Ap);var He={},sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.ConsoleLogger=void 0;var Qx=function(){function e(t){this.logger=t,this.log=t.log,this.info=t.info,this.debug=t.debug,this.warn=t.warn,this.error=t.error}return e}();sl.ConsoleLogger=Qx;var Mp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OpenViduLoggerConfiguration=void 0,function(t){t.disabled="disabled",t.debug="debug",t.debug_app="debug_app"}(e.OpenViduLoggerConfiguration||(e.OpenViduLoggerConfiguration={}))})(Mp);Object.defineProperty(He,"__esModule",{value:!0});He.OpenViduLogger=void 0;var jt=Lp,Jx=sl,Lc=Mp,Yx=function(){function e(){this.JSNLOG_URL="/openvidu/elk/openvidu-browser-logs",this.MAX_JSNLOG_BATCH_LOG_MESSAGES=100,this.MAX_MSECONDS_BATCH_MESSAGES=5e3,this.MAX_LENGTH_STRING_JSON=1e3,this.defaultConsoleLogger=new Jx.ConsoleLogger(globalThis.console),this.isProdMode=!1,this.isJSNLogSetup=!1}return e.configureJSNLog=function(t,n){var r=this;try{if(globalThis.LOG_JSNLOG_RESULTS||this.instance&&t.isAtLeastPro&&this.instance.isOpenViduBrowserLogsDebugActive(t)&&this.instance.canConfigureJSNLog(t,this.instance)){t.sendBrowserLogs===Lc.OpenViduLoggerConfiguration.debug_app&&this.instance.replaceWindowConsole(),this.instance.isJSNLogSetup=!1,this.instance.info("Configuring JSNLogs.");var i=t.finalUserId,o=t.session.sessionId,s=function(u){var l=u.onreadystatechange;u.onreadystatechange=function(){r.isInvalidResponse(u)&&(Object.defineProperty(u,"readyState",{value:4}),Object.defineProperty(u,"status",{value:200}),r.instance.disableLogger()),l()},u.setRequestHeader("Authorization","Basic "+btoa("".concat(i,"%/%").concat(o)+":"+n)),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.setRequestHeader("OV-Final-User-Id",i),u.setRequestHeader("OV-Session-Id",o),u.setRequestHeader("OV-Token",n)};this.instance.currentAppender=jt.JL.createAjaxAppender("appender-".concat(i,"-").concat(o)),this.instance.currentAppender.setOptions({beforeSend:s,maxBatchSize:1e3,batchSize:this.instance.MAX_JSNLOG_BATCH_LOG_MESSAGES,batchTimeout:this.instance.MAX_MSECONDS_BATCH_MESSAGES});var a=function(u){var l=function(){var d=new WeakSet;return function(f,h){if(typeof h=="object"&&h!=null){if(d.has(h)||globalThis.HTMLElement&&h instanceof HTMLElement)return;d.add(h)}return h}},c=JSON.stringify(u,l());return c.length>r.instance.MAX_LENGTH_STRING_JSON&&(c="".concat(c.substring(0,r.instance.MAX_LENGTH_STRING_JSON),"...")),globalThis.LOG_JSNLOG_RESULTS&&console.log(c),c};jt.JL.setOptions({defaultAjaxUrl:t.httpUri+this.instance.JSNLOG_URL,serialize:a,enabled:!0}),(0,jt.JL)().setOptions({appenders:[this.instance.currentAppender]}),this.instance.isJSNLogSetup=!0,this.instance.loggingSessionId=o,this.instance.info("JSNLog configured.")}}catch(u){console.error("Error configuring JSNLog: "),console.error(u),this.instance.disableLogger()}},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.isInvalidResponse=function(t){return t.status==401||t.status==403||t.status==404||t.status==0},e.prototype.canConfigureJSNLog=function(t,n){return t.session.sessionId!=n.loggingSessionId},e.prototype.isOpenViduBrowserLogsDebugActive=function(t){return t.sendBrowserLogs===Lc.OpenViduLoggerConfiguration.debug||t.sendBrowserLogs===Lc.OpenViduLoggerConfiguration.debug_app},e.prototype.getConsoleWithJSNLog=function(){return function(t){return{log:function(){t.defaultConsoleLogger.log.apply(t.defaultConsoleLogger.logger,arguments),t.isJSNLogSetup&&(0,jt.JL)().info(arguments)},info:function(){t.defaultConsoleLogger.info.apply(t.defaultConsoleLogger.logger,arguments),t.isJSNLogSetup&&(0,jt.JL)().info(arguments)},debug:function(){t.defaultConsoleLogger.debug.apply(t.defaultConsoleLogger.logger,arguments)},warn:function(){t.defaultConsoleLogger.warn.apply(t.defaultConsoleLogger.logger,arguments),t.isJSNLogSetup&&(0,jt.JL)().warn(arguments)},error:function(){t.defaultConsoleLogger.error.apply(t.defaultConsoleLogger.logger,arguments),t.isJSNLogSetup&&(0,jt.JL)().error(arguments)}}}(this)},e.prototype.replaceWindowConsole=function(){globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.getConsoleWithJSNLog().log,globalThis.console.info=this.getConsoleWithJSNLog().info,globalThis.console.debug=this.getConsoleWithJSNLog().debug,globalThis.console.warn=this.getConsoleWithJSNLog().warn,globalThis.console.error=this.getConsoleWithJSNLog().error},e.prototype.disableLogger=function(){jt.JL.setOptions({enabled:!1}),this.isJSNLogSetup=!1,this.loggingSessionId=void 0,this.currentAppender=void 0,globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.defaultConsoleLogger.log,globalThis.console.info=this.defaultConsoleLogger.info,globalThis.console.debug=this.defaultConsoleLogger.debug,globalThis.console.warn=this.defaultConsoleLogger.warn,globalThis.console.error=this.defaultConsoleLogger.error},e.prototype.log=function(){this.isProdMode||this.defaultConsoleLogger.log.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,jt.JL)().info(arguments)},e.prototype.debug=function(){this.isProdMode||this.defaultConsoleLogger.debug.apply(this.defaultConsoleLogger.logger,arguments)},e.prototype.info=function(){this.isProdMode||this.defaultConsoleLogger.info.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,jt.JL)().info(arguments)},e.prototype.warn=function(){this.defaultConsoleLogger.warn.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,jt.JL)().warn(arguments)},e.prototype.error=function(){this.defaultConsoleLogger.error.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,jt.JL)().error(arguments)},e.prototype.flush=function(){this.isJSNLogSetup&&this.currentAppender!=null&&this.currentAppender.sendBatch()},e.prototype.enableProdMode=function(){this.isProdMode=!0},e}();He.OpenViduLogger=Yx;var an={},ou={},Zx={get exports(){return ou},set exports(e){ou=e}};/*!
 * Platform.js v1.3.6
 * Copyright 2014-2020 Benjamin Tan
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license
 */(function(e,t){(function(){var n={function:!0,object:!0},r=n[typeof window]&&window||this,i=t,o=e&&!e.nodeType&&e,s=i&&o&&typeof X=="object"&&X;s&&(s.global===s||s.window===s||s.self===s)&&(r=s);var a=Math.pow(2,53)-1,u=/\bOpera/,l=Object.prototype,c=l.hasOwnProperty,d=l.toString;function f(C){return C=String(C),C.charAt(0).toUpperCase()+C.slice(1)}function h(C,M,V){var U={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return M&&V&&/^Win/i.test(C)&&!/^Windows Phone /i.test(C)&&(U=U[/[\d.]+$/.exec(C)])&&(C="Windows "+U),C=String(C),M&&V&&(C=C.replace(RegExp(M,"i"),V)),C=y(C.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),C}function E(C,M){var V=-1,U=C?C.length:0;if(typeof U=="number"&&U>-1&&U<=a)for(;++V<U;)M(C[V],V,C);else O(C,M)}function y(C){return C=k(C),/^(?:webOS|i(?:OS|P))/.test(C)?C:f(C)}function O(C,M){for(var V in C)c.call(C,V)&&M(C[V],V,C)}function p(C){return C==null?f(C):d.call(C).slice(8,-1)}function m(C,M){var V=C!=null?typeof C[M]:"number";return!/^(?:boolean|number|string|undefined)$/.test(V)&&(V=="object"?!!C[M]:!0)}function w(C){return String(C).replace(/([ -])(?!$)/g,"$1?")}function x(C,M){var V=null;return E(C,function(U,$){V=M(V,U,$,C)}),V}function k(C){return String(C).replace(/^ +| +$/g,"")}function L(C){var M=r,V=C&&typeof C=="object"&&p(C)!="String";V&&(M=C,C=null);var U=M.navigator||{},$=U.userAgent||"";C||(C=$);var v=V?!!U.likeChrome:/\bChrome\b/.test(C)&&!/internal|\n/i.test(d.toString()),_="Object",T=V?_:"ScriptBridgingProxyObject",b=V?_:"Environment",g=V&&M.java?"JavaPackage":p(M.java),S=V?_:"RuntimeObject",N=/\bJava/.test(g)&&M.java,I=N&&p(M.environment)==b,F=N?"a":"α",W=N?"b":"β",Y=M.document||{},G=M.operamini||M.opera,oe=u.test(oe=V&&G?G["[[Class]]"]:p(G))?oe:G=null,P,se=C,ne=[],Me=null,ke=C==$,K=ke&&G&&typeof G.version=="function"&&G.version(),qe,ie=J([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),z=q(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),R=Pe([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),D=ee({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),A=re(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function J($e){return x($e,function(Ee,ce){return Ee||RegExp("\\b"+(ce.pattern||w(ce))+"\\b","i").exec(C)&&(ce.label||ce)})}function ee($e){return x($e,function(Ee,ce,Pt){return Ee||(ce[R]||ce[/^[a-z]+(?: +[a-z]+\b)*/i.exec(R)]||RegExp("\\b"+w(Pt)+"(?:\\b|\\w*\\d)","i").exec(C))&&Pt})}function q($e){return x($e,function(Ee,ce){return Ee||RegExp("\\b"+(ce.pattern||w(ce))+"\\b","i").exec(C)&&(ce.label||ce)})}function re($e){return x($e,function(Ee,ce){var Pt=ce.pattern||w(ce);return!Ee&&(Ee=RegExp("\\b"+Pt+"(?:/[\\d.]+|[ \\w.]*)","i").exec(C))&&(Ee=h(Ee,Pt,ce.label||ce)),Ee})}function Pe($e){return x($e,function(Ee,ce){var Pt=ce.pattern||w(ce);return!Ee&&(Ee=RegExp("\\b"+Pt+" *\\d+[.\\w_]*","i").exec(C)||RegExp("\\b"+Pt+" *\\w+-[\\w]*","i").exec(C)||RegExp("\\b"+Pt+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(C))&&((Ee=String(ce.label&&!RegExp(Pt,"i").test(ce.label)?ce.label:Ee).split("/"))[1]&&!/[\d.]+/.test(Ee[0])&&(Ee[0]+=" "+Ee[1]),ce=ce.label||ce,Ee=y(Ee[0].replace(RegExp(Pt,"i"),ce).replace(RegExp("; *(?:"+ce+"[_-])?","i")," ").replace(RegExp("("+ce+")[-_.]?(\\w)","i"),"$1 $2"))),Ee})}function we($e){return x($e,function(Ee,ce){return Ee||(RegExp(ce+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(C)||0)[1]||null})}function kl(){return this.description||""}if(ie&&(ie=[ie]),/\bAndroid\b/.test(A)&&!R&&(P=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(C))&&(R=k(P[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),D&&!R?R=Pe([D]):D&&R&&(R=R.replace(RegExp("^("+w(D)+")[-_.\\s]","i"),D+" ").replace(RegExp("^("+w(D)+")[-_.]?(\\w)","i"),D+" $2")),(P=/\bGoogle TV\b/.exec(R))&&(R=P[0]),/\bSimulator\b/i.test(C)&&(R=(R?R+" ":"")+"Simulator"),z=="Opera Mini"&&/\bOPiOS\b/.test(C)&&ne.push("running in Turbo/Uncompressed mode"),z=="IE"&&/\blike iPhone OS\b/.test(C)?(P=L(C.replace(/like iPhone OS/,"")),D=P.manufacturer,R=P.product):/^iP/.test(R)?(z||(z="Safari"),A="iOS"+((P=/ OS ([\d_]+)/i.exec(C))?" "+P[1].replace(/_/g,"."):"")):z=="Konqueror"&&/^Linux\b/i.test(A)?A="Kubuntu":D&&D!="Google"&&(/Chrome/.test(z)&&!/\bMobile Safari\b/i.test(C)||/\bVita\b/.test(R))||/\bAndroid\b/.test(A)&&/^Chrome/.test(z)&&/\bVersion\//i.test(C)?(z="Android Browser",A=/\bAndroid\b/.test(A)?A:"Android"):z=="Silk"?(/\bMobi/i.test(C)||(A="Android",ne.unshift("desktop mode")),/Accelerated *= *true/i.test(C)&&ne.unshift("accelerated")):z=="UC Browser"&&/\bUCWEB\b/.test(C)?ne.push("speed mode"):z=="PaleMoon"&&(P=/\bFirefox\/([\d.]+)\b/.exec(C))?ne.push("identifying as Firefox "+P[1]):z=="Firefox"&&(P=/\b(Mobile|Tablet|TV)\b/i.exec(C))?(A||(A="Firefox OS"),R||(R=P[1])):!z||(P=!/\bMinefield\b/i.test(C)&&/\b(?:Firefox|Safari)\b/.exec(z))?(z&&!R&&/[\/,]|^[^(]+?\)/.test(C.slice(C.indexOf(P+"/")+8))&&(z=null),(P=R||D||A)&&(R||D||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(A))&&(z=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(A)?A:P)+" Browser")):z=="Electron"&&(P=(/\bChrome\/([\d.]+)\b/.exec(C)||0)[1])&&ne.push("Chromium "+P),K||(K=we(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",w(z),"(?:Firefox|Minefield|NetFront)"])),(P=ie=="iCab"&&parseFloat(K)>3&&"WebKit"||/\bOpera\b/.test(z)&&(/\bOPR\b/.test(C)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(C)&&!/^(?:Trident|EdgeHTML)$/.test(ie)&&"WebKit"||!ie&&/\bMSIE\b/i.test(C)&&(A=="Mac OS"?"Tasman":"Trident")||ie=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(z)&&"NetFront")&&(ie=[P]),z=="IE"&&(P=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(C)||0)[1])?(z+=" Mobile",A="Windows Phone "+(/\+$/.test(P)?P:P+".x"),ne.unshift("desktop mode")):/\bWPDesktop\b/i.test(C)?(z="IE Mobile",A="Windows Phone 8.x",ne.unshift("desktop mode"),K||(K=(/\brv:([\d.]+)/.exec(C)||0)[1])):z!="IE"&&ie=="Trident"&&(P=/\brv:([\d.]+)/.exec(C))&&(z&&ne.push("identifying as "+z+(K?" "+K:"")),z="IE",K=P[1]),ke){if(m(M,"global"))if(N&&(P=N.lang.System,se=P.getProperty("os.arch"),A=A||P.getProperty("os.name")+" "+P.getProperty("os.version")),I){try{K=M.require("ringo/engine").version.join("."),z="RingoJS"}catch{(P=M.system)&&P.global.system==M.system&&(z="Narwhal",A||(A=P[0].os||null))}z||(z="Rhino")}else typeof M.process=="object"&&!M.process.browser&&(P=M.process)&&(typeof P.versions=="object"&&(typeof P.versions.electron=="string"?(ne.push("Node "+P.versions.node),z="Electron",K=P.versions.electron):typeof P.versions.nw=="string"&&(ne.push("Chromium "+K,"Node "+P.versions.node),z="NW.js",K=P.versions.nw)),z||(z="Node.js",se=P.arch,A=P.platform,K=/[\d.]+/.exec(P.version),K=K?K[0]:null));else p(P=M.runtime)==T?(z="Adobe AIR",A=P.flash.system.Capabilities.os):p(P=M.phantom)==S?(z="PhantomJS",K=(P=P.version||null)&&P.major+"."+P.minor+"."+P.patch):typeof Y.documentMode=="number"&&(P=/\bTrident\/(\d+)/i.exec(C))?(K=[K,Y.documentMode],(P=+P[1]+4)!=K[1]&&(ne.push("IE "+K[1]+" mode"),ie&&(ie[1]=""),K[1]=P),K=z=="IE"?String(K[1].toFixed(1)):K[0]):typeof Y.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(z)&&(ne.push("masking as "+z+" "+K),z="IE",K="11.0",ie=["Trident"],A="Windows");A=A&&y(A)}if(K&&(P=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(K)||/(?:alpha|beta)(?: ?\d)?/i.exec(C+";"+(ke&&U.appMinorVersion))||/\bMinefield\b/i.test(C)&&"a")&&(Me=/b/i.test(P)?"beta":"alpha",K=K.replace(RegExp(P+"\\+?$"),"")+(Me=="beta"?W:F)+(/\d+\+?/.exec(P)||"")),z=="Fennec"||z=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(A))z="Firefox Mobile";else if(z=="Maxthon"&&K)K=K.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(R))R=="Xbox 360"&&(A=null),R=="Xbox 360"&&/\bIEMobile\b/.test(C)&&ne.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(z)||z&&!R&&!/Browser|Mobi/.test(z))&&(A=="Windows CE"||/Mobi/i.test(C)))z+=" Mobile";else if(z=="IE"&&ke)try{M.external===null&&ne.unshift("platform preview")}catch{ne.unshift("embedded")}else(/\bBlackBerry\b/.test(R)||/\bBB10\b/.test(C))&&(P=(RegExp(R.replace(/ +/g," *")+"/([.\\d]+)","i").exec(C)||0)[1]||K)?(P=[P,/BB10/.test(C)],A=(P[1]?(R=null,D="BlackBerry"):"Device Software")+" "+P[0],K=null):this!=O&&R!="Wii"&&(ke&&G||/Opera/.test(z)&&/\b(?:MSIE|Firefox)\b/i.test(C)||z=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(A)||z=="IE"&&(A&&!/^Win/.test(A)&&K>5.5||/\bWindows XP\b/.test(A)&&K>8||K==8&&!/\bTrident\b/.test(C)))&&!u.test(P=L.call(O,C.replace(u,"")+";"))&&P.name&&(P="ing as "+P.name+((P=P.version)?" "+P:""),u.test(z)?(/\bIE\b/.test(P)&&A=="Mac OS"&&(A=null),P="identify"+P):(P="mask"+P,oe?z=y(oe.replace(/([a-z])([A-Z])/g,"$1 $2")):z="Opera",/\bIE\b/.test(P)&&(A=null),ke||(K=null)),ie=["Presto"],ne.push(P));(P=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(C)||0)[1])&&(P=[parseFloat(P.replace(/\.(\d)$/,".0$1")),P],z=="Safari"&&P[1].slice(-1)=="+"?(z="WebKit Nightly",Me="alpha",K=P[1].slice(0,-1)):(K==P[1]||K==(P[2]=(/\bSafari\/([\d.]+\+?)/i.exec(C)||0)[1]))&&(K=null),P[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(C)||0)[1],P[0]==537.36&&P[2]==537.36&&parseFloat(P[1])>=28&&ie=="WebKit"&&(ie=["Blink"]),!ke||!v&&!P[1]?(ie&&(ie[1]="like Safari"),P=(P=P[0],P<400?1:P<500?2:P<526?3:P<533?4:P<534?"4+":P<535?5:P<537?6:P<538?7:P<601?8:P<602?9:P<604?10:P<606?11:P<608?12:"12")):(ie&&(ie[1]="like Chrome"),P=P[1]||(P=P[0],P<530?1:P<532?2:P<532.05?3:P<533?4:P<534.03?5:P<534.07?6:P<534.1?7:P<534.13?8:P<534.16?9:P<534.24?10:P<534.3?11:P<535.01?12:P<535.02?"13+":P<535.07?15:P<535.11?16:P<535.19?17:P<536.05?18:P<536.1?19:P<537.01?20:P<537.11?"21+":P<537.13?23:P<537.18?24:P<537.24?25:P<537.36?26:ie!="Blink"?"27":"28")),ie&&(ie[1]+=" "+(P+=typeof P=="number"?".x":/[.+]/.test(P)?"":"+")),z=="Safari"&&(!K||parseInt(K)>45)?K=P:z=="Chrome"&&/\bHeadlessChrome/i.test(C)&&ne.unshift("headless")),z=="Opera"&&(P=/\bzbov|zvav$/.exec(A))?(z+=" ",ne.unshift("desktop mode"),P=="zvav"?(z+="Mini",K=null):z+="Mobile",A=A.replace(RegExp(" *"+P+"$"),"")):z=="Safari"&&/\bChrome\b/.exec(ie&&ie[1])?(ne.unshift("desktop mode"),z="Chrome Mobile",K=null,/\bOS X\b/.test(A)?(D="Apple",A="iOS 4.3+"):A=null):/\bSRWare Iron\b/.test(z)&&!K&&(K=we("Chrome")),K&&K.indexOf(P=/[\d.]+$/.exec(A))==0&&C.indexOf("/"+P+"-")>-1&&(A=k(A.replace(P,""))),A&&A.indexOf(z)!=-1&&!RegExp(z+" OS").test(A)&&(A=A.replace(RegExp(" *"+w(z)+" *"),"")),ie&&!/\b(?:Avant|Nook)\b/.test(z)&&(/Browser|Lunascape|Maxthon/.test(z)||z!="Safari"&&/^iOS/.test(A)&&/\bSafari\b/.test(ie[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(z)&&ie[1])&&(P=ie[ie.length-1])&&ne.push(P),ne.length&&(ne=["("+ne.join("; ")+")"]),D&&R&&R.indexOf(D)<0&&ne.push("on "+D),R&&ne.push((/^on /.test(ne[ne.length-1])?"":"on ")+R),A&&(P=/ ([\d.+]+)$/.exec(A),qe=P&&A.charAt(A.length-P[0].length-1)=="/",A={architecture:32,family:P&&!qe?A.replace(P[0],""):A,version:P?P[1]:null,toString:function(){var $e=this.version;return this.family+($e&&!qe?" "+$e:"")+(this.architecture==64?" 64-bit":"")}}),(P=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(se))&&!/\bi686\b/i.test(se)?(A&&(A.architecture=64,A.family=A.family.replace(RegExp(" *"+P),"")),z&&(/\bWOW64\b/i.test(C)||ke&&/\w(?:86|32)$/.test(U.cpuClass||U.platform)&&!/\bWin64; x64\b/i.test(C))&&ne.unshift("32-bit")):A&&/^OS X/.test(A.family)&&z=="Chrome"&&parseFloat(K)>=39&&(A.architecture=64),C||(C=null);var Ue={};return Ue.description=C,Ue.layout=ie&&ie[0],Ue.manufacturer=D,Ue.name=z,Ue.prerelease=Me,Ue.product=R,Ue.ua=C,Ue.version=z&&K,Ue.os=A||{architecture:null,family:null,version:null,toString:function(){return"null"}},Ue.parse=L,Ue.toString=kl,Ue.version&&ne.unshift(K),Ue.name&&ne.unshift(z),A&&z&&!(A==String(A).split(" ")[0]&&(A==z.split(" ")[0]||R))&&ne.push(R?"("+A+")":"on "+A),ne.length&&(Ue.description=ne.join(" ")),Ue}var j=L();i&&o?O(j,function(C,M){i[M]=C}):r.platform=j}).call(X)})(Zx,ou);Object.defineProperty(an,"__esModule",{value:!0});an.PlatformUtils=void 0;var ae=ou,e_=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),e.instance},e.prototype.isChromeBrowser=function(){return ae.name==="Chrome"},e.prototype.isSafariBrowser=function(){return ae.name==="Safari"},e.prototype.isChromeMobileBrowser=function(){return ae.name==="Chrome Mobile"},e.prototype.isFirefoxBrowser=function(){return ae.name==="Firefox"},e.prototype.isFirefoxMobileBrowser=function(){return ae.name==="Firefox Mobile"||ae.name==="Firefox for iOS"},e.prototype.isOperaBrowser=function(){return ae.name==="Opera"},e.prototype.isOperaMobileBrowser=function(){return ae.name==="Opera Mobile"},e.prototype.isEdgeBrowser=function(){var t=ae!=null&&ae.version?parseFloat(ae.version):-1;return ae.name==="Microsoft Edge"&&t>=80},e.prototype.isEdgeMobileBrowser=function(){var t,n,r=ae!=null&&ae.version?parseFloat(ae.version):-1;return ae.name==="Microsoft Edge"&&(((t=ae.os)===null||t===void 0?void 0:t.family)==="Android"||((n=ae.os)===null||n===void 0?void 0:n.family)==="iOS")&&r>45},e.prototype.isAndroidBrowser=function(){return ae.name==="Android Browser"},e.prototype.isElectron=function(){return ae.name==="Electron"},e.prototype.isNodeJs=function(){return ae.name==="Node.js"},e.prototype.isSamsungBrowser=function(){return ae.name==="Samsung Internet Mobile"||ae.name==="Samsung Internet"},e.prototype.isIPhoneOrIPad=function(){var t=ae.ua?ae.ua:navigator.userAgent,n="ontouchend"in document,r=/\b(\w*Macintosh\w*)\b/.test(t)&&n,i=/\b(\w*iPhone\w*)\b/.test(t)&&/\b(\w*Mobile\w*)\b/.test(t)&&n;return r||i},e.prototype.isIOSWithSafari=function(){var t=ae.ua?ae.ua:navigator.userAgent;return this.isIPhoneOrIPad()&&/\b(\w*Apple\w*)\b/.test(navigator.vendor)&&/\b(\w*Safari\w*)\b/.test(t)&&!/\b(\w*CriOS\w*)\b/.test(t)&&!/\b(\w*FxiOS\w*)\b/.test(t)},e.prototype.isIonicIos=function(){return this.isIPhoneOrIPad()&&ae.ua.indexOf("Safari")===-1},e.prototype.isIonicAndroid=function(){return ae.os.family==="Android"&&ae.name=="Android Browser"},e.prototype.isMobileDevice=function(){return ae.os.family==="iOS"||ae.os.family==="Android"},e.prototype.isReactNative=function(){return!1},e.prototype.isChromium=function(){return this.isChromeBrowser()||this.isChromeMobileBrowser()||this.isOperaBrowser()||this.isOperaMobileBrowser()||this.isEdgeBrowser()||this.isEdgeMobileBrowser()||this.isSamsungBrowser()||this.isIonicAndroid()||this.isIonicIos()||this.isElectron()},e.prototype.canScreenShare=function(){var t=ae!=null&&ae.version?parseFloat(ae.version):-1;return this.isMobileDevice()?!1:this.isChromeBrowser()||this.isFirefoxBrowser()||this.isOperaBrowser()||this.isElectron()||this.isEdgeBrowser()||this.isSafariBrowser()&&t>=13},e.prototype.getName=function(){return ae.name||""},e.prototype.getVersion=function(){return ae.version||""},e.prototype.getFamily=function(){return ae.os.family||""},e.prototype.getDescription=function(){return ae.description||""},e}();an.PlatformUtils=e_;function al(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}al.prototype.define=function(e,t){for(let n in e){let r=e[n].map(function(i){return i.toLowerCase()});n=n.toLowerCase();for(let i=0;i<r.length;i++){const o=r[i];if(o[0]!=="*"){if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+n+'".');this._types[o]=n}}if(t||!this._extensions[n]){const i=r[0];this._extensions[n]=i[0]!=="*"?i:i.substr(1)}}};al.prototype.getType=function(e){e=String(e);let t=e.replace(/^.*[/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length;return(n.length<t.length-1||!r)&&this._types[n]||null};al.prototype.getExtension=function(e){return e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1,e&&this._extensions[e.toLowerCase()]||null};var t_=al,n_={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let r_=t_;var i_=new r_(n_);Object.defineProperty(fs,"__esModule",{value:!0});fs.LocalRecorder=void 0;var Ge=Ap,o_=He,s_=an,pv=i_,wr=o_.OpenViduLogger.getInstance(),hv,a_=function(){function e(t){this.stream=t,this.chunks=[],hv=s_.PlatformUtils.getInstance(),this.connectionId=this.stream.connection?this.stream.connection.connectionId:"default-connection",this.id=this.stream.streamId+"_"+this.connectionId+"_localrecord",this.state=Ge.LocalRecorderState.READY}return e.prototype.record=function(t){var n=this;return new Promise(function(r,i){try{if(typeof t=="string"||t instanceof String)return i(`When calling LocalRecorder.record(options) parameter 'options' cannot be a string. Must be an object like { mimeType: "`.concat(t,'" }'));if(typeof MediaRecorder>"u")throw wr.error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder"),Error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder");if(n.state!==Ge.LocalRecorderState.READY)throw Error("'LocalRecord.record()' needs 'LocalRecord.state' to be 'READY' (current value: '"+n.state+"'). Call 'LocalRecorder.clean()' or init a new LocalRecorder before");wr.log("Starting local recording of stream '"+n.stream.streamId+"' of connection '"+n.connectionId+"'"),t?t.mimeType||(t.mimeType="video/webm"):t={mimeType:"video/webm"},n.mediaRecorder=new MediaRecorder(n.stream.getMediaStream(),t),n.mediaRecorder.start()}catch(o){return i(o)}return n.mediaRecorder.ondataavailable=function(o){o.data.size>0&&n.chunks.push(o.data)},n.mediaRecorder.onerror=function(o){wr.error("MediaRecorder error: ",o)},n.mediaRecorder.onstart=function(){wr.log("MediaRecorder started (state="+n.mediaRecorder.state+")")},n.mediaRecorder.onstop=function(){n.onStopDefault()},n.mediaRecorder.onpause=function(){wr.log("MediaRecorder paused (state="+n.mediaRecorder.state+")")},n.mediaRecorder.onresume=function(){wr.log("MediaRecorder resumed (state="+n.mediaRecorder.state+")")},n.state=Ge.LocalRecorderState.RECORDING,r()})},e.prototype.stop=function(){var t=this;return new Promise(function(n,r){try{if(t.state===Ge.LocalRecorderState.READY||t.state===Ge.LocalRecorderState.FINISHED)throw Error("'LocalRecord.stop()' needs 'LocalRecord.state' to be 'RECORDING' or 'PAUSED' (current value: '"+t.state+"'). Call 'LocalRecorder.start()' before");t.mediaRecorder.onstop=function(){return t.onStopDefault(),n()},t.mediaRecorder.stop()}catch(i){return r(i)}})},e.prototype.pause=function(){var t=this;return new Promise(function(n,r){try{return t.state!==Ge.LocalRecorderState.RECORDING?r(Error("'LocalRecord.pause()' needs 'LocalRecord.state' to be 'RECORDING' (current value: '"+t.state+"'). Call 'LocalRecorder.start()' or 'LocalRecorder.resume()' before")):(t.mediaRecorder.pause(),t.state=Ge.LocalRecorderState.PAUSED,n())}catch(i){return r(i)}})},e.prototype.resume=function(){var t=this;return new Promise(function(n,r){try{if(t.state!==Ge.LocalRecorderState.PAUSED)throw Error("'LocalRecord.resume()' needs 'LocalRecord.state' to be 'PAUSED' (current value: '"+t.state+"'). Call 'LocalRecorder.pause()' before");return t.mediaRecorder.resume(),t.state=Ge.LocalRecorderState.RECORDING,n()}catch(i){return r(i)}})},e.prototype.preview=function(t){if(this.state!==Ge.LocalRecorderState.FINISHED)throw Error("'LocalRecord.preview()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");if(this.videoPreview=document.createElement("video"),this.videoPreview.id=this.id,this.videoPreview.autoplay=!0,hv.isSafariBrowser()&&(this.videoPreview.playsInline=!0),typeof t=="string"){var n=document.getElementById(t);n&&(this.videoPreview=n.appendChild(this.videoPreview))}else this.videoPreview=t.appendChild(this.videoPreview);return this.videoPreview.src=this.videoPreviewSrc,this.videoPreview},e.prototype.clean=function(){var t=this,n=function(){delete t.blob,t.chunks=[],t.state=Ge.LocalRecorderState.READY};this.state===Ge.LocalRecorderState.RECORDING||this.state===Ge.LocalRecorderState.PAUSED?this.stop().then(function(){return n()}).catch(function(){return n()}):n()},e.prototype.download=function(){if(this.state!==Ge.LocalRecorderState.FINISHED)throw Error("'LocalRecord.download()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");var t=document.createElement("a");t.style.display="none",document.body.appendChild(t);var n=globalThis.URL.createObjectURL(this.blob);t.href=n,t.download=this.id+"."+pv.getExtension(this.blob.type),t.click(),globalThis.URL.revokeObjectURL(n),document.body.removeChild(t)},e.prototype.getBlob=function(){if(this.state!==Ge.LocalRecorderState.FINISHED)throw Error("Call 'LocalRecord.stop()' before getting Blob file");return this.blob},e.prototype.uploadAsBinary=function(t,n){var r=this;return new Promise(function(i,o){if(r.state!==Ge.LocalRecorderState.FINISHED)return o(Error("'LocalRecord.uploadAsBinary()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+r.state+"'). Call 'LocalRecorder.stop()' before"));var s=new XMLHttpRequest;if(s.open("POST",t,!0),typeof n=="object")for(var a=0,u=Object.keys(n);a<u.length;a++){var l=u[a];s.setRequestHeader(l,n[l])}s.onreadystatechange=function(){if(s.readyState===4)return s.status.toString().charAt(0)==="2"?i(s.responseText):o(s.status)},s.send(r.blob)})},e.prototype.uploadAsMultipartfile=function(t,n){var r=this;return new Promise(function(i,o){if(r.state!==Ge.LocalRecorderState.FINISHED)return o(Error("'LocalRecord.uploadAsMultipartfile()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+r.state+"'). Call 'LocalRecorder.stop()' before"));var s=new XMLHttpRequest;if(s.open("POST",t,!0),typeof n=="object")for(var a=0,u=Object.keys(n);a<u.length;a++){var l=u[a];s.setRequestHeader(l,n[l])}var c=new FormData;c.append("file",r.blob,r.id+"."+pv.getExtension(r.blob.type)),s.onreadystatechange=function(){if(s.readyState===4)return s.status.toString().charAt(0)==="2"?i(s.responseText):o(s.status)},s.send(c)})},e.prototype.onStopDefault=function(){wr.log("MediaRecorder stopped  (state="+this.mediaRecorder.state+")"),this.blob=new Blob(this.chunks,{type:this.mediaRecorder.mimeType}),this.chunks=[],this.videoPreviewSrc=globalThis.URL.createObjectURL(this.blob),this.state=Ge.LocalRecorderState.FINISHED},e}();fs.LocalRecorder=a_;var uo={},lo={},ds={},Hi={},qi={},Vn={},Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.Event=void 0;var u_=function(){function e(t,n,r){this.hasBeenPrevented=!1,this.cancelable=t,this.target=n,this.type=r}return e.prototype.isDefaultPrevented=function(){return this.hasBeenPrevented},e.prototype.preventDefault=function(){this.callDefaultBehavior=function(){},this.hasBeenPrevented=!0},e}();Ye.Event=u_;var l_=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Vn,"__esModule",{value:!0});Vn.StreamPropertyChangedEvent=void 0;var c_=Ye,f_=function(e){l_(t,e);function t(n,r,i,o,s,a){var u=e.call(this,!1,n,"streamPropertyChanged")||this;return u.stream=r,u.changedProperty=i,u.newValue=o,u.oldValue=s,u.reason=a,u}return t.prototype.callDefaultBehavior=function(){},t}(c_.Event);Vn.StreamPropertyChangedEvent=f_;var qr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OpenViduError=e.OpenViduErrorName=void 0,function(n){n.BROWSER_NOT_SUPPORTED="BROWSER_NOT_SUPPORTED",n.DEVICE_ACCESS_DENIED="DEVICE_ACCESS_DENIED",n.DEVICE_ALREADY_IN_USE="DEVICE_ALREADY_IN_USE",n.SCREEN_CAPTURE_DENIED="SCREEN_CAPTURE_DENIED",n.SCREEN_SHARING_NOT_SUPPORTED="SCREEN_SHARING_NOT_SUPPORTED",n.SCREEN_EXTENSION_NOT_INSTALLED="SCREEN_EXTENSION_NOT_INSTALLED",n.SCREEN_EXTENSION_DISABLED="SCREEN_EXTENSION_DISABLED",n.INPUT_VIDEO_DEVICE_NOT_FOUND="INPUT_VIDEO_DEVICE_NOT_FOUND",n.INPUT_AUDIO_DEVICE_NOT_FOUND="INPUT_AUDIO_DEVICE_NOT_FOUND",n.INPUT_AUDIO_DEVICE_GENERIC_ERROR="INPUT_AUDIO_DEVICE_GENERIC_ERROR",n.NO_INPUT_SOURCE_SET="NO_INPUT_SOURCE_SET",n.PUBLISHER_PROPERTIES_ERROR="PUBLISHER_PROPERTIES_ERROR",n.OPENVIDU_PERMISSION_DENIED="OPENVIDU_PERMISSION_DENIED",n.OPENVIDU_NOT_CONNECTED="OPENVIDU_NOT_CONNECTED",n.VIRTUAL_BACKGROUND_ERROR="VIRTUAL_BACKGROUND_ERROR",n.GENERIC_ERROR="GENERIC_ERROR"}(e.OpenViduErrorName||(e.OpenViduErrorName={}));var t=function(){function n(r,i){this.name=r,this.message=i}return n}();e.OpenViduError=t})(qr);Object.defineProperty(qi,"__esModule",{value:!0});qi.Filter=void 0;var mv=Vn,at=qr,d_=He,ln=d_.OpenViduLogger.getInstance(),p_=function(){function e(t,n){this.handlers=new Map,this.type=t,this.options=n}return e.prototype.execMethod=function(t,n){var r=this;return new Promise(function(i,o){var s;ln.info("Executing filter method to stream "+r.stream.streamId);var a,u=function(d){ln.info("Filter method successfully executed on Stream "+r.stream.streamId);var f=Object.assign({},r.stream.filter);return r.stream.filter.lastExecMethod={method:t,params:a},d&&(r.stream.session.emitEvent("streamPropertyChanged",[new mv.StreamPropertyChangedEvent(r.stream.session,r.stream,"filter",r.stream.filter,f,"execFilterMethod")]),r.stream.streamManager.emitEvent("streamPropertyChanged",[new mv.StreamPropertyChangedEvent(r.stream.streamManager,r.stream,"filter",r.stream.filter,f,"execFilterMethod")])),i()};if(r.type.startsWith("VB:")){if(typeof n=="string")try{n=JSON.parse(n)}catch(d){return o(new at.OpenViduError(at.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Wrong params syntax: "+d))}if(a=n,t==="update")if(!((s=r.stream.virtualBackgroundSinkElements)===null||s===void 0)&&s.VB)r.stream.virtualBackgroundSinkElements.VB.updateValues(n).then(function(){return u(!1)}).catch(function(d){return d.name===at.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?o(new at.OpenViduError(d.name,d.message)):o(new at.OpenViduError(at.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Error updating values on Virtual Background filter: "+d))});else return o(new at.OpenViduError(at.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"There is no Virtual Background filter applied"));else return o(new at.OpenViduError(at.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Unknown Virtual Background method "'.concat(t,'"')))}else{var l=void 0;if(typeof n!="string")try{l=JSON.stringify(n)}catch{var c="'params' property must be a JSON formatted object";return ln.error(c),o(c)}else l=n;a=l,r.stream.session.openvidu.sendRequest("execFilterMethod",{streamId:r.stream.streamId,method:t,params:l},function(d,f){return d?(ln.error("Error executing filter method for Stream "+r.stream.streamId,d),d.code===401?o(new at.OpenViduError(at.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to execute a filter method")):o(d)):u(!0)})}})},e.prototype.addEventListener=function(t,n){var r=this;return new Promise(function(i,o){ln.info("Adding filter event listener to event "+t+" to stream "+r.stream.streamId),r.stream.session.openvidu.sendRequest("addFilterEventListener",{streamId:r.stream.streamId,eventType:t},function(s,a){return s?(ln.error("Error adding filter event listener to event "+t+"for Stream "+r.stream.streamId,s),s.code===401?o(new at.OpenViduError(at.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):o(s)):(r.handlers.set(t,n),ln.info("Filter event listener to event "+t+" successfully applied on Stream "+r.stream.streamId),i())})})},e.prototype.removeEventListener=function(t){var n=this;return new Promise(function(r,i){ln.info("Removing filter event listener to event "+t+" to stream "+n.stream.streamId),n.stream.session.openvidu.sendRequest("removeFilterEventListener",{streamId:n.stream.streamId,eventType:t},function(o,s){return o?(ln.error("Error removing filter event listener to event "+t+"for Stream "+n.stream.streamId,o),o.code===401?i(new at.OpenViduError(at.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):i(o)):(n.handlers.delete(t),ln.info("Filter event listener to event "+t+" successfully removed on Stream "+n.stream.streamId),r())})})},e}();qi.Filter=p_;var Gi={},Xi={},Ki={},Zo={},h_={get exports(){return Zo},set exports(e){Zo=e}};/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(e){(function(t){function n(){}var r=n.prototype,i=t.EventEmitter;function o(u,l){for(var c=u.length;c--;)if(u[c].listener===l)return c;return-1}function s(u){return function(){return this[u].apply(this,arguments)}}r.getListeners=function(l){var c=this._getEvents(),d,f;if(l instanceof RegExp){d={};for(f in c)c.hasOwnProperty(f)&&l.test(f)&&(d[f]=c[f])}else d=c[l]||(c[l]=[]);return d},r.flattenListeners=function(l){var c=[],d;for(d=0;d<l.length;d+=1)c.push(l[d].listener);return c},r.getListenersAsObject=function(l){var c=this.getListeners(l),d;return c instanceof Array&&(d={},d[l]=c),d||c};function a(u){return typeof u=="function"||u instanceof RegExp?!0:u&&typeof u=="object"?a(u.listener):!1}r.addListener=function(l,c){if(!a(c))throw new TypeError("listener must be a function");var d=this.getListenersAsObject(l),f=typeof c=="object",h;for(h in d)d.hasOwnProperty(h)&&o(d[h],c)===-1&&d[h].push(f?c:{listener:c,once:!1});return this},r.on=s("addListener"),r.addOnceListener=function(l,c){return this.addListener(l,{listener:c,once:!0})},r.once=s("addOnceListener"),r.defineEvent=function(l){return this.getListeners(l),this},r.defineEvents=function(l){for(var c=0;c<l.length;c+=1)this.defineEvent(l[c]);return this},r.removeListener=function(l,c){var d=this.getListenersAsObject(l),f,h;for(h in d)d.hasOwnProperty(h)&&(f=o(d[h],c),f!==-1&&d[h].splice(f,1));return this},r.off=s("removeListener"),r.addListeners=function(l,c){return this.manipulateListeners(!1,l,c)},r.removeListeners=function(l,c){return this.manipulateListeners(!0,l,c)},r.manipulateListeners=function(l,c,d){var f,h,E=l?this.removeListener:this.addListener,y=l?this.removeListeners:this.addListeners;if(typeof c=="object"&&!(c instanceof RegExp))for(f in c)c.hasOwnProperty(f)&&(h=c[f])&&(typeof h=="function"?E.call(this,f,h):y.call(this,f,h));else for(f=d.length;f--;)E.call(this,c,d[f]);return this},r.removeEvent=function(l){var c=typeof l,d=this._getEvents(),f;if(c==="string")delete d[l];else if(l instanceof RegExp)for(f in d)d.hasOwnProperty(f)&&l.test(f)&&delete d[f];else delete this._events;return this},r.removeAllListeners=s("removeEvent"),r.emitEvent=function(l,c){var d=this.getListenersAsObject(l),f,h,E,y,O;for(y in d)if(d.hasOwnProperty(y))for(f=d[y].slice(0),E=0;E<f.length;E++)h=f[E],h.once===!0&&this.removeListener(l,h.listener),O=h.listener.apply(this,c||[]),O===this._getOnceReturnValue()&&this.removeListener(l,h.listener);return this},r.trigger=s("emitEvent"),r.emit=function(l){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(l,c)},r.setOnceReturnValue=function(l){return this._onceReturnValue=l,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},n.noConflict=function(){return t.EventEmitter=i,n},e.exports?e.exports=n:t.EventEmitter=n})(typeof window<"u"?window:X||{})})(h_);Object.defineProperty(Ki,"__esModule",{value:!0});Ki.EventDispatcher=void 0;var m_=He,v_=Zo,Xs=m_.OpenViduLogger.getInstance(),g_=function(){function e(){this.userHandlerArrowHandler=new WeakMap,this.ee=new v_}return e.prototype.onAux=function(t,n,r){var i=function(o){o?Xs.debug(n,o):Xs.debug(n),r(o)};return this.userHandlerArrowHandler.set(r,i),this.ee.on(t,i),this},e.prototype.onceAux=function(t,n,r){var i=this,o=function(s){s?Xs.debug(n,s):Xs.debug(n),r(s),i.userHandlerArrowHandler.delete(r)};return this.userHandlerArrowHandler.set(r,o),this.ee.once(t,o),this},e.prototype.offAux=function(t,n){if(!n)this.ee.removeAllListeners(t);else{var r=this.userHandlerArrowHandler.get(n);r&&this.ee.off(t,r),this.userHandlerArrowHandler.delete(n)}return this},e}();Ki.EventDispatcher=g_;var Qi={},y_=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.StreamManagerEvent=void 0;var E_=Ye,S_=function(e){y_(t,e);function t(n,r,i){var o=e.call(this,!1,n,r)||this;return o.value=i,o}return t.prototype.callDefaultBehavior=function(){},t}(E_.Event);Qi.StreamManagerEvent=S_;var ps={},w_=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ps,"__esModule",{value:!0});ps.VideoElementEvent=void 0;var b_=Ye,C_=function(e){w_(t,e);function t(n,r,i){var o=e.call(this,!1,r,i)||this;return o.element=n,o}return t.prototype.callDefaultBehavior=function(){},t}(b_.Event);ps.VideoElementEvent=C_;var Gr={};(function(e){var t=X&&X.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(a[l]=u[l])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEvent=e.ExceptionEventName=void 0;var n=Ye;(function(i){i.ICE_CANDIDATE_ERROR="ICE_CANDIDATE_ERROR",i.ICE_CONNECTION_FAILED="ICE_CONNECTION_FAILED",i.ICE_CONNECTION_DISCONNECTED="ICE_CONNECTION_DISCONNECTED",i.NO_STREAM_PLAYING_EVENT="NO_STREAM_PLAYING_EVENT",i.SPEECH_TO_TEXT_DISCONNECTED="SPEECH_TO_TEXT_DISCONNECTED"})(e.ExceptionEventName||(e.ExceptionEventName={}));var r=function(i){t(o,i);function o(s,a,u,l,c){var d=i.call(this,!1,s,"exception")||this;return d.name=a,d.origin=u,d.message=l,d.data=c,d}return o.prototype.callDefaultBehavior=function(){},o}(n.Event);e.ExceptionEvent=r})(Gr);var hs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoInsertMode=void 0,function(t){t.AFTER="AFTER",t.APPEND="APPEND",t.BEFORE="BEFORE",t.PREPEND="PREPEND",t.REPLACE="REPLACE"}(e.VideoInsertMode||(e.VideoInsertMode={}))})(hs);var O_=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Xi,"__esModule",{value:!0});Xi.StreamManager=void 0;var x_=Ki,Ac=Qi,Ks=ps,vv=Gr,br=hs,__=He,R_=an,Mc=__.OpenViduLogger.getInstance(),mt,k_=function(e){O_(t,e);function t(n,r){var i=e.call(this)||this;if(i.videos=[],i.lazyLaunchVideoElementCreatedEvent=!1,mt=R_.PlatformUtils.getInstance(),i.stream=n,i.stream.streamManager=i,i.remote=!i.stream.isLocal(),r){var o=void 0;typeof r=="string"?o=document.getElementById(r):r instanceof HTMLElement&&(o=r),o&&(i.firstVideoElement={targetElement:o,video:document.createElement("video"),id:"",canplayListenerAdded:!1},(mt.isSafariBrowser()||mt.isIPhoneOrIPad()&&(mt.isChromeMobileBrowser()||mt.isEdgeMobileBrowser()||mt.isOperaMobileBrowser()||mt.isFirefoxMobileBrowser()))&&(i.firstVideoElement.video.playsInline=!0),i.targetElement=o,i.element=o)}return i.canPlayListener=function(){i.deactivateStreamPlayingEventExceptionTimeout(),i.ee.emitEvent("streamPlaying",[new Ac.StreamManagerEvent(i,"streamPlaying",void 0)])},i}return t.prototype.on=function(n,r){return e.prototype.onAux.call(this,n,"Event '"+n+"' triggered by '"+(this.remote?"Subscriber":"Publisher")+"'",r),n==="videoElementCreated"&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&(this.ee.emitEvent("videoElementCreated",[new Ks.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!1),n==="streamPlaying"&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&this.videos[0].video.paused===!1&&this.videos[0].video.ended===!1&&this.videos[0].video.readyState===4&&this.ee.emitEvent("streamPlaying",[new Ac.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&(n==="publisherStartSpeaking"&&this.stream.enableHarkSpeakingEvent(),n==="publisherStopSpeaking"&&this.stream.enableHarkStoppedSpeakingEvent(),n==="streamAudioVolumeChange"&&this.stream.enableHarkVolumeChangeEvent(!1)),this},t.prototype.once=function(n,r){return e.prototype.onceAux.call(this,n,"Event '"+n+"' triggered once by '"+(this.remote?"Subscriber":"Publisher")+"'",r),n==="videoElementCreated"&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&this.ee.emitEvent("videoElementCreated",[new Ks.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),n==="streamPlaying"&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&this.videos[0].video.paused===!1&&this.videos[0].video.ended===!1&&this.videos[0].video.readyState===4&&this.ee.emitEvent("streamPlaying",[new Ac.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&(n==="publisherStartSpeaking"&&this.stream.enableOnceHarkSpeakingEvent(),n==="publisherStopSpeaking"&&this.stream.enableOnceHarkStoppedSpeakingEvent(),n==="streamAudioVolumeChange"&&this.stream.enableOnceHarkVolumeChangeEvent(!1)),this},t.prototype.off=function(n,r){if(e.prototype.offAux.call(this,n,r),n==="publisherStartSpeaking"){var i=this.ee.getListeners(n).length+this.stream.session.ee.getListeners(n).length;i===0&&this.stream.disableHarkSpeakingEvent(!1)}if(n==="publisherStopSpeaking"){var o=this.ee.getListeners(n).length+this.stream.session.ee.getListeners(n).length;o===0&&this.stream.disableHarkStoppedSpeakingEvent(!1)}if(n==="streamAudioVolumeChange"){var s=this.ee.getListeners(n).length;s===0&&this.stream.disableHarkVolumeChangeEvent(!1)}return this},t.prototype.addVideoElement=function(n){this.initializeVideoProperties(n),!this.remote&&this.stream.displayMyRemote()&&n.srcObject!==this.stream.getMediaStream()&&(n.srcObject=this.stream.getMediaStream());for(var r=0,i=this.videos;r<i.length;r++){var o=i[r];if(o.video===n)return 0}for(var s=1,a=0,u=this.stream.session.streamManagers;a<u.length;a++){var l=u[a];if(l.disassociateVideo(n)){s=-1;break}}return this.stream.session.streamManagers.forEach(function(c){c.disassociateVideo(n)}),this.pushNewStreamManagerVideo({video:n,id:n.id,canplayListenerAdded:!1}),Mc.info("New video element associated to ",this),s},t.prototype.createVideoElement=function(n,r){var i;if(typeof n=="string"){if(i=document.getElementById(n),!i)throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+n)}else if(n instanceof HTMLElement)i=n;else throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+n);var o=this.createVideo();this.initializeVideoProperties(o);var s=r||br.VideoInsertMode.APPEND;switch(s){case br.VideoInsertMode.AFTER:i.parentNode.insertBefore(o,i.nextSibling);break;case br.VideoInsertMode.APPEND:i.appendChild(o);break;case br.VideoInsertMode.BEFORE:i.parentNode.insertBefore(o,i);break;case br.VideoInsertMode.PREPEND:i.insertBefore(o,i.childNodes[0]);break;case br.VideoInsertMode.REPLACE:i.parentNode.replaceChild(o,i);break;default:s=br.VideoInsertMode.APPEND,i.appendChild(o);break}var a={targetElement:i,video:o,insertMode:s,id:o.id,canplayListenerAdded:!1};return this.pushNewStreamManagerVideo(a),this.ee.emitEvent("videoElementCreated",[new Ks.VideoElementEvent(a.video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!!this.firstVideoElement,o},t.prototype.updatePublisherSpeakingEventsOptions=function(n){var r=this.stream.harkOptions?this.stream.harkOptions:this.stream.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{},i=typeof n.interval=="number"?n.interval:typeof r.interval=="number"?r.interval:100,o=typeof n.threshold=="number"?n.threshold:typeof r.threshold=="number"?r.threshold:-50;this.stream.harkOptions={interval:i,threshold:o},this.stream.speechEvent&&(this.stream.speechEvent.setInterval(i),this.stream.speechEvent.setThreshold(o))},t.prototype.initializeVideoProperties=function(n){!this.remote&&this.stream.displayMyRemote()||n.srcObject!==this.stream.getMediaStream()&&(n.srcObject=this.stream.getMediaStream()),n.autoplay=!0,n.controls=!1,(mt.isSafariBrowser()||mt.isIPhoneOrIPad()&&(mt.isChromeMobileBrowser()||mt.isEdgeMobileBrowser()||mt.isOperaMobileBrowser()||mt.isFirefoxMobileBrowser()))&&(n.playsInline=!0),n.id||(n.id=(this.remote?"remote-":"local-")+"video-"+this.stream.streamId,!this.id&&this.targetElement&&(this.id=n.id)),this.remote&&this.isMirroredVideo(n)?this.removeMirrorVideo(n):!this.remote&&!this.stream.displayMyRemote()&&(n.muted=!0,this.isMirroredVideo(n)&&!this.stream.outboundStreamOpts.publisherProperties.mirror?this.removeMirrorVideo(n):this.stream.outboundStreamOpts.publisherProperties.mirror&&!this.stream.isSendScreen()&&this.mirrorVideo(n))},t.prototype.removeAllVideos=function(){for(var n=this,r=this.stream.session.streamManagers.length-1;r>=0;--r)this.stream.session.streamManagers[r]===this&&this.stream.session.streamManagers.splice(r,1);this.videos.forEach(function(i){i.video&&i.video.removeEventListener&&i.video.removeEventListener("canplay",n.canPlayListener),i.canplayListenerAdded=!1,i.targetElement&&(i.video.parentNode.removeChild(i.video),n.ee.emitEvent("videoElementDestroyed",[new Ks.VideoElementEvent(i.video,n,"videoElementDestroyed")])),n.removeSrcObject(i),n.videos.filter(function(o){return!o.targetElement})})},t.prototype.disassociateVideo=function(n){for(var r=!1,i=0;i<this.videos.length;i++)if(this.videos[i].video===n){this.videos[i].video.removeEventListener("canplay",this.canPlayListener),this.videos.splice(i,1),r=!0,Mc.info("Video element disassociated from ",this);break}return r},t.prototype.addPlayEventToFirstVideo=function(){this.videos[0]&&this.videos[0].video&&!this.videos[0].canplayListenerAdded&&(this.activateStreamPlayingEventExceptionTimeout(),this.videos[0].video.addEventListener("canplay",this.canPlayListener),this.videos[0].canplayListenerAdded=!0)},t.prototype.updateMediaStream=function(n){this.videos.forEach(function(r){if(r.video.srcObject=n,mt.isIonicIos()){var i=r.video.parentElement,o=r.video;i.replaceChild(o,r.video),r.video=o}})},t.prototype.emitEvent=function(n,r){this.ee.emitEvent(n,r)},t.prototype.createVideo=function(){return document.createElement("video")},t.prototype.removeSrcObject=function(n){n.video.srcObject=null,this.deactivateStreamPlayingEventExceptionTimeout()},t.prototype.pushNewStreamManagerVideo=function(n){this.videos.push(n),this.addPlayEventToFirstVideo(),this.stream.session.streamManagers.indexOf(this)===-1&&this.stream.session.streamManagers.push(this)},t.prototype.mirrorVideo=function(n){mt.isIonicIos()||(n.style.transform="rotateY(180deg)",n.style.webkitTransform="rotateY(180deg)")},t.prototype.removeMirrorVideo=function(n){n.style.transform="unset",n.style.webkitTransform="unset"},t.prototype.isMirroredVideo=function(n){return n.style.transform==="rotateY(180deg)"||n.style.webkitTransform==="rotateY(180deg)"},t.prototype.activateStreamPlayingEventExceptionTimeout=function(){var n=this;if(this.remote&&this.streamPlayingEventExceptionTimeout==null){var r=this.stream.session.openvidu.advancedConfiguration.noStreamPlayingEventExceptionTimeout||4e3;this.streamPlayingEventExceptionTimeout=setTimeout(function(){var i="StreamManager of Stream "+n.stream.streamId+" ("+(n.remote?"Subscriber":"Publisher")+') did not trigger "streamPlaying" event in '+r+" ms";Mc.warn(i),n.stream.session.emitEvent("exception",[new vv.ExceptionEvent(n.stream.session,vv.ExceptionEventName.NO_STREAM_PLAYING_EVENT,n,i)]),delete n.streamPlayingEventExceptionTimeout},r)}},t.prototype.deactivateStreamPlayingEventExceptionTimeout=function(){clearTimeout(this.streamPlayingEventExceptionTimeout),delete this.streamPlayingEventExceptionTimeout},t}(x_.EventDispatcher);Xi.StreamManager=k_;var P_=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.Subscriber=void 0;var I_=Xi,T_=He,gv=T_.OpenViduLogger.getInstance(),N_=function(e){P_(t,e);function t(n,r,i){var o=e.call(this,n,r)||this;return o.element=o.targetElement,o.stream=n,o.properties=i,o}return t.prototype.subscribeToAudio=function(n){return this.stream.getMediaStream().getAudioTracks().forEach(function(r){r.enabled=n}),this.stream.audioActive=n,gv.info("'Subscriber' has "+(n?"subscribed to":"unsubscribed from")+" its audio stream"),this},t.prototype.subscribeToVideo=function(n){return this.stream.getMediaStream().getVideoTracks().forEach(function(r){r.enabled=n}),this.stream.videoActive=n,gv.info("'Subscriber' has "+(n?"subscribed to":"unsubscribed from")+" its video stream"),this},t.prototype.replaceTrackInMediaStream=function(n,r){var i=this.stream.getMediaStream(),o;n.kind==="video"?(o=i.getVideoTracks()[0],r&&(this.stream.lastVideoTrackConstraints=n.getConstraints())):o=i.getAudioTracks()[0],i.removeTrack(o),o.stop(),i.addTrack(n)},t}(I_.StreamManager);Gi.Subscriber=N_;var vn={},yv=["stun:","turn:"],L_=function(e){var t=(e||{}).url||e,n,r,i={};return typeof t!="string"&&!(t instanceof String)||(t=t.trim(),n=yv[yv.indexOf(t.slice(0,5))],!n)?e:(t=t.slice(5),r=t.split("@"),i.username=e.username,i.credential=e.credential,r.length>1&&(t=r[1],r=r[0].split(":"),i.username=r[0],i.credential=(e||{}).credential||r[1]||""),i.url=n+t,i.urls=[i.url],i)};const A_=["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com","stun.voxgratia.org"],M_=[];var D_=L_,V_=function(e){var t={stun:(e||{}).stun||A_,turn:(e||{}).turn||M_},n=(e||{}).stunCount||2,r=(e||{}).turnCount||0,i;function o(s,a){for(var u=[],l=[].concat(t[s]),c;l.length&&u.length<a;)c=Math.random()*l.length|0,u=u.concat(l.splice(c,1));return u.map(function(d){return typeof d!="string"&&!(d instanceof String)?d:D_(s+":"+d)})}return i=[].concat(o("stun",n)),r&&(i=i.concat(o("turn",r))),i},$_=V_,Dp={},ul={},ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.default=F_;let Qs;const j_=new Uint8Array(16);function F_(){if(!Qs&&(Qs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qs(j_)}var Sr={},Xr={},cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.default=void 0;var U_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;cl.default=U_;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.default=void 0;var B_=W_(cl);function W_(e){return e&&e.__esModule?e:{default:e}}function z_(e){return typeof e=="string"&&B_.default.test(e)}var H_=z_;Xr.default=H_;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.default=void 0;Sr.unsafeStringify=vE;var q_=G_(Xr);function G_(e){return e&&e.__esModule?e:{default:e}}const Ze=[];for(let e=0;e<256;++e)Ze.push((e+256).toString(16).slice(1));function vE(e,t=0){return(Ze[e[t+0]]+Ze[e[t+1]]+Ze[e[t+2]]+Ze[e[t+3]]+"-"+Ze[e[t+4]]+Ze[e[t+5]]+"-"+Ze[e[t+6]]+Ze[e[t+7]]+"-"+Ze[e[t+8]]+Ze[e[t+9]]+"-"+Ze[e[t+10]]+Ze[e[t+11]]+Ze[e[t+12]]+Ze[e[t+13]]+Ze[e[t+14]]+Ze[e[t+15]]).toLowerCase()}function X_(e,t=0){const n=vE(e,t);if(!(0,q_.default)(n))throw TypeError("Stringified UUID is invalid");return n}var K_=X_;Sr.default=K_;Object.defineProperty(ul,"__esModule",{value:!0});ul.default=void 0;var Q_=Y_(ll),J_=Sr;function Y_(e){return e&&e.__esModule?e:{default:e}}let Ev,Dc,Vc=0,$c=0;function Z_(e,t,n){let r=t&&n||0;const i=t||new Array(16);e=e||{};let o=e.node||Ev,s=e.clockseq!==void 0?e.clockseq:Dc;if(o==null||s==null){const f=e.random||(e.rng||Q_.default)();o==null&&(o=Ev=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Dc=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:$c+1;const l=a-Vc+(u-$c)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||a>Vc)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Vc=a,$c=u,Dc=s,a+=122192928e5;const c=((a&268435455)*1e4+u)%4294967296;i[r++]=c>>>24&255,i[r++]=c>>>16&255,i[r++]=c>>>8&255,i[r++]=c&255;const d=a/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=d&255,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(let f=0;f<6;++f)i[r+f]=o[f];return t||(0,J_.unsafeStringify)(i)}var eR=Z_;ul.default=eR;var fl={},mr={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.default=void 0;var tR=nR(Xr);function nR(e){return e&&e.__esModule?e:{default:e}}function rR(e){if(!(0,tR.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var iR=rR;ms.default=iR;Object.defineProperty(mr,"__esModule",{value:!0});mr.URL=mr.DNS=void 0;mr.default=lR;var oR=Sr,sR=aR(ms);function aR(e){return e&&e.__esModule?e:{default:e}}function uR(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}const gE="6ba7b810-9dad-11d1-80b4-00c04fd430c8";mr.DNS=gE;const yE="6ba7b811-9dad-11d1-80b4-00c04fd430c8";mr.URL=yE;function lR(e,t,n){function r(i,o,s,a){var u;if(typeof i=="string"&&(i=uR(i)),typeof o=="string"&&(o=(0,sR.default)(o)),((u=o)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){a=a||0;for(let c=0;c<16;++c)s[a+c]=l[c];return s}return(0,oR.unsafeStringify)(l)}try{r.name=e}catch{}return r.DNS=gE,r.URL=yE,r}var dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.default=void 0;function cR(e){if(typeof e=="string"){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return fR(dR(pR(e),e.length*8))}function fR(e){const t=[],n=e.length*32,r="0123456789abcdef";for(let i=0;i<n;i+=8){const o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);t.push(s)}return t}function EE(e){return(e+64>>>9<<4)+14+1}function dR(e,t){e[t>>5]|=128<<t%32,e[EE(t)-1]=t;let n=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let s=0;s<e.length;s+=16){const a=n,u=r,l=i,c=o;n=ut(n,r,i,o,e[s],7,-680876936),o=ut(o,n,r,i,e[s+1],12,-389564586),i=ut(i,o,n,r,e[s+2],17,606105819),r=ut(r,i,o,n,e[s+3],22,-1044525330),n=ut(n,r,i,o,e[s+4],7,-176418897),o=ut(o,n,r,i,e[s+5],12,1200080426),i=ut(i,o,n,r,e[s+6],17,-1473231341),r=ut(r,i,o,n,e[s+7],22,-45705983),n=ut(n,r,i,o,e[s+8],7,1770035416),o=ut(o,n,r,i,e[s+9],12,-1958414417),i=ut(i,o,n,r,e[s+10],17,-42063),r=ut(r,i,o,n,e[s+11],22,-1990404162),n=ut(n,r,i,o,e[s+12],7,1804603682),o=ut(o,n,r,i,e[s+13],12,-40341101),i=ut(i,o,n,r,e[s+14],17,-1502002290),r=ut(r,i,o,n,e[s+15],22,1236535329),n=lt(n,r,i,o,e[s+1],5,-165796510),o=lt(o,n,r,i,e[s+6],9,-1069501632),i=lt(i,o,n,r,e[s+11],14,643717713),r=lt(r,i,o,n,e[s],20,-373897302),n=lt(n,r,i,o,e[s+5],5,-701558691),o=lt(o,n,r,i,e[s+10],9,38016083),i=lt(i,o,n,r,e[s+15],14,-660478335),r=lt(r,i,o,n,e[s+4],20,-405537848),n=lt(n,r,i,o,e[s+9],5,568446438),o=lt(o,n,r,i,e[s+14],9,-1019803690),i=lt(i,o,n,r,e[s+3],14,-187363961),r=lt(r,i,o,n,e[s+8],20,1163531501),n=lt(n,r,i,o,e[s+13],5,-1444681467),o=lt(o,n,r,i,e[s+2],9,-51403784),i=lt(i,o,n,r,e[s+7],14,1735328473),r=lt(r,i,o,n,e[s+12],20,-1926607734),n=ct(n,r,i,o,e[s+5],4,-378558),o=ct(o,n,r,i,e[s+8],11,-2022574463),i=ct(i,o,n,r,e[s+11],16,1839030562),r=ct(r,i,o,n,e[s+14],23,-35309556),n=ct(n,r,i,o,e[s+1],4,-1530992060),o=ct(o,n,r,i,e[s+4],11,1272893353),i=ct(i,o,n,r,e[s+7],16,-155497632),r=ct(r,i,o,n,e[s+10],23,-1094730640),n=ct(n,r,i,o,e[s+13],4,681279174),o=ct(o,n,r,i,e[s],11,-358537222),i=ct(i,o,n,r,e[s+3],16,-722521979),r=ct(r,i,o,n,e[s+6],23,76029189),n=ct(n,r,i,o,e[s+9],4,-640364487),o=ct(o,n,r,i,e[s+12],11,-421815835),i=ct(i,o,n,r,e[s+15],16,530742520),r=ct(r,i,o,n,e[s+2],23,-995338651),n=ft(n,r,i,o,e[s],6,-198630844),o=ft(o,n,r,i,e[s+7],10,1126891415),i=ft(i,o,n,r,e[s+14],15,-1416354905),r=ft(r,i,o,n,e[s+5],21,-57434055),n=ft(n,r,i,o,e[s+12],6,1700485571),o=ft(o,n,r,i,e[s+3],10,-1894986606),i=ft(i,o,n,r,e[s+10],15,-1051523),r=ft(r,i,o,n,e[s+1],21,-2054922799),n=ft(n,r,i,o,e[s+8],6,1873313359),o=ft(o,n,r,i,e[s+15],10,-30611744),i=ft(i,o,n,r,e[s+6],15,-1560198380),r=ft(r,i,o,n,e[s+13],21,1309151649),n=ft(n,r,i,o,e[s+4],6,-145523070),o=ft(o,n,r,i,e[s+11],10,-1120210379),i=ft(i,o,n,r,e[s+2],15,718787259),r=ft(r,i,o,n,e[s+9],21,-343485551),n=Jn(n,a),r=Jn(r,u),i=Jn(i,l),o=Jn(o,c)}return[n,r,i,o]}function pR(e){if(e.length===0)return[];const t=e.length*8,n=new Uint32Array(EE(t));for(let r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function Jn(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}function hR(e,t){return e<<t|e>>>32-t}function pl(e,t,n,r,i,o){return Jn(hR(Jn(Jn(t,e),Jn(r,o)),i),n)}function ut(e,t,n,r,i,o,s){return pl(t&n|~t&r,e,t,i,o,s)}function lt(e,t,n,r,i,o,s){return pl(t&r|n&~r,e,t,i,o,s)}function ct(e,t,n,r,i,o,s){return pl(t^n^r,e,t,i,o,s)}function ft(e,t,n,r,i,o,s){return pl(n^(t|~r),e,t,i,o,s)}var mR=cR;dl.default=mR;Object.defineProperty(fl,"__esModule",{value:!0});fl.default=void 0;var vR=SE(mr),gR=SE(dl);function SE(e){return e&&e.__esModule?e:{default:e}}const yR=(0,vR.default)("v3",48,gR.default);var ER=yR;fl.default=ER;var hl={},ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.default=void 0;const SR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var wR={randomUUID:SR};ml.default=wR;Object.defineProperty(hl,"__esModule",{value:!0});hl.default=void 0;var Sv=wE(ml),bR=wE(ll),CR=Sr;function wE(e){return e&&e.__esModule?e:{default:e}}function OR(e,t,n){if(Sv.default.randomUUID&&!t&&!e)return Sv.default.randomUUID();e=e||{};const r=e.random||(e.rng||bR.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return(0,CR.unsafeStringify)(r)}var xR=OR;hl.default=xR;var vl={},gl={};Object.defineProperty(gl,"__esModule",{value:!0});gl.default=void 0;function _R(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function jc(e,t){return e<<t|e>>>32-t}function RR(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const s=unescape(encodeURIComponent(e));e=[];for(let a=0;a<s.length;++a)e.push(s.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,i=Math.ceil(r/16),o=new Array(i);for(let s=0;s<i;++s){const a=new Uint32Array(16);for(let u=0;u<16;++u)a[u]=e[s*64+u*4]<<24|e[s*64+u*4+1]<<16|e[s*64+u*4+2]<<8|e[s*64+u*4+3];o[s]=a}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(let s=0;s<i;++s){const a=new Uint32Array(80);for(let h=0;h<16;++h)a[h]=o[s][h];for(let h=16;h<80;++h)a[h]=jc(a[h-3]^a[h-8]^a[h-14]^a[h-16],1);let u=n[0],l=n[1],c=n[2],d=n[3],f=n[4];for(let h=0;h<80;++h){const E=Math.floor(h/20),y=jc(u,5)+_R(E,l,c,d)+f+t[E]+a[h]>>>0;f=d,d=c,c=jc(l,30)>>>0,l=u,u=y}n[0]=n[0]+u>>>0,n[1]=n[1]+l>>>0,n[2]=n[2]+c>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+f>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var kR=RR;gl.default=kR;Object.defineProperty(vl,"__esModule",{value:!0});vl.default=void 0;var PR=bE(mr),IR=bE(gl);function bE(e){return e&&e.__esModule?e:{default:e}}const TR=(0,PR.default)("v5",80,IR.default);var NR=TR;vl.default=NR;var yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.default=void 0;var LR="00000000-0000-0000-0000-000000000000";yl.default=LR;var El={};Object.defineProperty(El,"__esModule",{value:!0});El.default=void 0;var AR=MR(Xr);function MR(e){return e&&e.__esModule?e:{default:e}}function DR(e){if(!(0,AR.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var VR=DR;El.default=VR;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.default}});var t=c(ul),n=c(fl),r=c(hl),i=c(vl),o=c(yl),s=c(El),a=c(Xr),u=c(Sr),l=c(ms);function c(d){return d&&d.__esModule?d:{default:d}}})(Dp);var Vp=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),su=X&&X.__assign||function(){return su=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},su.apply(this,arguments)},Fc=X&&X.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})},Uc=X&&X.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(vn,"__esModule",{value:!0});vn.WebRtcPeerSendrecv=vn.WebRtcPeerSendonly=vn.WebRtcPeerRecvonly=vn.WebRtcPeer=void 0;var $R=$_,jR=Dp,wv=Gr,FR=He,UR=an,Le=FR.OpenViduLogger.getInstance(),Sl=function(){function e(t){var n=this;this.remoteCandidatesQueue=[],this.localCandidatesQueue=[],this.iceCandidateList=[],UR.PlatformUtils.getInstance(),this.configuration=su(su({},t),{iceServers:t.iceServers&&t.iceServers.length>0?t.iceServers:$R(),mediaStream:t.mediaStream!==void 0?t.mediaStream:null,mode:t.mode?t.mode:"sendrecv",id:t.id?t.id:this.generateUniqueId()}),Le.debug(`[WebRtcPeer] configuration:
`.concat(JSON.stringify(this.configuration,null,2))),this.pc=new RTCPeerConnection({iceServers:this.configuration.iceServers}),this.pc.addEventListener("icecandidate",function(r){if(r.candidate!==null){var i=r.candidate,o=new RTCIceCandidate(i);n.configuration.onIceCandidate(o),o.candidate!==""&&n.localCandidatesQueue.push(o)}}),this.pc.addEventListener("signalingstatechange",function(){return Fc(n,void 0,void 0,function(){var r,i;return Uc(this,function(o){switch(o.label){case 0:if(this.pc.signalingState!=="stable")return[3,6];o.label=1;case 1:if(!(this.iceCandidateList.length>0))return[3,6];r=this.iceCandidateList.shift(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.pc.addIceCandidate(r)];case 3:return o.sent(),[3,5];case 4:return i=o.sent(),Le.error("Error when calling RTCPeerConnection#addIceCandidate for RTCPeerConnection "+this.getId(),i),[3,5];case 5:return[3,1];case 6:return[2]}})})})}return e.prototype.getId=function(){return this.configuration.id},e.prototype.dispose=function(){if(Le.debug("Disposing WebRtcPeer"),this.pc){if(this.pc.signalingState==="closed")return;this.pc.close(),this.remoteCandidatesQueue=[],this.localCandidatesQueue=[]}},e.prototype.createOfferLegacy=function(){this.configuration.mediaStream&&this.deprecatedPeerConnectionTrackApi();var t=this.configuration.mediaConstraints.audio,n=this.configuration.mediaConstraints.video,r={offerToReceiveAudio:this.configuration.mode!=="sendonly"&&t,offerToReceiveVideo:this.configuration.mode!=="sendonly"&&n};return Le.debug("[createOfferLegacy] RTCPeerConnection.createOffer() options:",JSON.stringify(r)),this.pc.createOffer(r)},e.prototype.createOffer=function(){var t,n,r,i,o,s,a,u;return Fc(this,void 0,void 0,function(){var l,c,d,f,h,E,y,O,p,m,w,x,k,L,j,C,M,T,V,U,$,v,_,T;return Uc(this,function(b){switch(b.label){case 0:if("addTransceiver"in this.pc)Le.debug("[createOffer] Method RTCPeerConnection.addTransceiver() is available; using it");else return Le.warn("[createOffer] Method RTCPeerConnection.addTransceiver() is NOT available; using LEGACY offerToReceive{Audio,Video}"),[2,this.createOfferLegacy()];if(this.configuration.mode==="recvonly")return[3,7];if(!this.configuration.mediaStream)throw new Error("[WebRtcPeer.createOffer] Direction is '".concat(this.configuration.mode,"', but no stream was configured to be sent"));l=0,c=this.configuration.mediaStream.getTracks(),b.label=1;case 1:if(!(l<c.length))return[3,6];if(d=c[l],f={direction:this.configuration.mode,streams:[this.configuration.mediaStream]},d.kind==="video"&&this.configuration.simulcast)for(h=d.getSettings(),E=d.getConstraints(),y=(r=(n=(t=h.width)!==null&&t!==void 0?t:E.width.ideal)!==null&&n!==void 0?n:E.width)!==null&&r!==void 0?r:0,O=(s=(o=(i=h.height)!==null&&i!==void 0?i:E.height.ideal)!==null&&o!==void 0?o:E.height)!==null&&s!==void 0?s:0,Le.info("[createOffer] Video track dimensions: ".concat(y,"x").concat(O)),p=y*O,m=0,p>=960*540?m=3:p>=480*270?m=2:m=1,f.sendEncodings=[],w=0;w<m;w++)x=Math.pow(2,m-w-1),k={rid:"rdiv"+x.toString(),scalabilityMode:"L1T1"},["detail","text"].includes(d.contentHint)?(k.scaleResolutionDownBy=1,k.maxFramerate=Math.floor(30/x)):k.scaleResolutionDownBy=x,f.sendEncodings.push(k);if(L=this.pc.addTransceiver(d,f),d.kind!=="video")return[3,5];if(j=L.sender.getParameters(),C=!1,!((a=j.degradationPreference)===null||a===void 0)&&a.length||(["detail","text"].includes(d.contentHint)?j.degradationPreference="maintain-resolution":j.degradationPreference="balanced",Le.info("[createOffer] Video sender Degradation Preference set: ".concat(j.degradationPreference)),C=!0),this.configuration.simulcast&&((u=j.encodings)===null||u===void 0?void 0:u.length)!==f.sendEncodings.length&&(j.encodings=f.sendEncodings,C=!0),!C)return[3,5];Le.debug("[createOffer] Setting new RTCRtpSendParameters to video sender"),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,L.sender.setParameters(j)];case 3:return b.sent(),[3,5];case 4:throw M=b.sent(),T="[WebRtcPeer.createOffer] Cannot set RTCRtpSendParameters to video sender",M instanceof Error&&(T+=": ".concat(M.message)),new Error(T);case 5:return l++,[3,1];case 6:return[3,8];case 7:for(V=0,U=["audio","video"];V<U.length;V++)$=U[V],this.configuration.mediaConstraints[$]&&(this.configuration.mediaStream=new MediaStream,this.pc.addTransceiver($,{direction:this.configuration.mode,streams:[this.configuration.mediaStream]}));b.label=8;case 8:return b.trys.push([8,10,,11]),[4,this.pc.createOffer()];case 9:return v=b.sent(),[3,11];case 10:throw _=b.sent(),T="[WebRtcPeer.createOffer] Browser failed creating an SDP Offer",_ instanceof Error&&(T+=": ".concat(_.message)),new Error(T);case 11:return[2,v]}})})},e.prototype.deprecatedPeerConnectionTrackApi=function(){for(var t=0,n=this.configuration.mediaStream.getTracks();t<n.length;t++){var r=n[t];this.pc.addTrack(r,this.configuration.mediaStream)}},e.prototype.createAnswer=function(){var t=this;return new Promise(function(n,r){if("getTransceivers"in t.pc){Le.debug("[createAnswer] Method RTCPeerConnection.getTransceivers() is available; using it");for(var i=function(f){if(!t.configuration.mediaConstraints[f])return"continue";var h=t.pc.getTransceivers().find(function(E){return E.receiver.track.kind===f});if(h)h.direction=t.configuration.mode;else return{value:r(new Error("".concat(f," requested, but no transceiver was created from remote description")))}},o=0,s=["audio","video"];o<s.length;o++){var a=s[o],u=i(a);if(typeof u=="object")return u.value}t.pc.createAnswer().then(function(f){return n(f)}).catch(function(f){return r(f)})}else{var l=void 0,c=!0;if(t.configuration.mediaConstraints){l=typeof t.configuration.mediaConstraints.audio=="boolean"?t.configuration.mediaConstraints.audio:!0,c=typeof t.configuration.mediaConstraints.video=="boolean"?t.configuration.mediaConstraints.video:!0;var d={offerToReceiveAudio:l,offerToReceiveVideo:c};t.pc.createAnswer(d).then(function(f){return n(f)}).catch(function(f){return r(f)})}}})},e.prototype.processLocalOffer=function(t){var n=this;return new Promise(function(r,i){n.pc.setLocalDescription(t).then(function(){var o=n.pc.localDescription;return o?(Le.debug("Local description set",o.sdp),r()):i("Local description is not defined")}).catch(function(o){return i(o)})})},e.prototype.processRemoteOffer=function(t){var n=this;return new Promise(function(r,i){var o={type:"offer",sdp:t};if(Le.debug("SDP offer received, setting remote description",o),n.pc.signalingState==="closed")return i("RTCPeerConnection is closed when trying to set remote description");n.setRemoteDescription(o).then(function(){return r()}).catch(function(s){return i(s)})})},e.prototype.processLocalAnswer=function(t){var n=this;return new Promise(function(r,i){if(Le.debug("SDP answer created, setting local description"),n.pc.signalingState==="closed")return i("RTCPeerConnection is closed when trying to set local description");n.pc.setLocalDescription(t).then(function(){return r()}).catch(function(o){return i(o)})})},e.prototype.processRemoteAnswer=function(t){var n=this;return new Promise(function(r,i){var o={type:"answer",sdp:t};if(Le.debug("SDP answer received, setting remote description"),n.pc.signalingState==="closed")return i("RTCPeerConnection is closed when trying to set remote description");n.setRemoteDescription(o).then(function(){r()}).catch(function(s){return i(s)})})},e.prototype.setRemoteDescription=function(t){return Fc(this,void 0,void 0,function(){return Uc(this,function(n){return[2,this.pc.setRemoteDescription(t)]})})},e.prototype.addIceCandidate=function(t){var n=this;return new Promise(function(r,i){switch(Le.debug("Remote ICE candidate received",t),n.remoteCandidatesQueue.push(t),n.pc.signalingState){case"closed":i(new Error("PeerConnection object is closed"));break;case"stable":n.pc.remoteDescription?n.pc.addIceCandidate(t).then(function(){return r()}).catch(function(o){return i(o)}):(n.iceCandidateList.push(t),r());break;default:n.iceCandidateList.push(t),r()}})},e.prototype.addIceConnectionStateChangeListener=function(t){var n=this;this.pc.addEventListener("iceconnectionstatechange",function(){var r=n.pc.iceConnectionState;switch(r){case"disconnected":var i="IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+t+') change to "disconnected". Possible network disconnection';Le.warn(i),n.configuration.onIceConnectionStateException(wv.ExceptionEventName.ICE_CONNECTION_DISCONNECTED,i);break;case"failed":var o="IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+t+') to "failed"';Le.error(o),n.configuration.onIceConnectionStateException(wv.ExceptionEventName.ICE_CONNECTION_FAILED,o);break;case"closed":Le.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+t+') change to "closed"');break;case"new":Le.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+t+') change to "new"');break;case"checking":Le.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+t+') change to "checking"');break;case"connected":Le.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+t+') change to "connected"');break;case"completed":Le.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+t+') change to "completed"');break}})},e.prototype.generateUniqueId=function(){return(0,jR.v4)()},e}();vn.WebRtcPeer=Sl;var BR=function(e){Vp(t,e);function t(n){return n.mode="recvonly",e.call(this,n)||this}return t}(Sl);vn.WebRtcPeerRecvonly=BR;var WR=function(e){Vp(t,e);function t(n){return n.mode="sendonly",e.call(this,n)||this}return t}(Sl);vn.WebRtcPeerSendonly=WR;var zR=function(e){Vp(t,e);function t(n){return n.mode="sendrecv",e.call(this,n)||this}return t}(Sl);vn.WebRtcPeerSendrecv=zR;var wl={},Yr=X&&X.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})},Zr=X&&X.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(wl,"__esModule",{value:!0});wl.WebRtcStats=void 0;var HR=He,qR=an,Cr=HR.OpenViduLogger.getInstance(),ei,GR=function(){function e(t){this.stream=t,this.STATS_ITEM_NAME="webrtc-stats-config",this.webRtcStatsEnabled=!1,this.statsInterval=1,ei=qR.PlatformUtils.getInstance()}return e.prototype.isEnabled=function(){return this.webRtcStatsEnabled},e.prototype.initWebRtcStats=function(){var t=this,n=localStorage.getItem(this.STATS_ITEM_NAME);if(n){this.webRtcStatsEnabled=!0;var r=JSON.parse(n);Cr.warn("WebRtc stats enabled for stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId),Cr.warn("localStorage item: "+JSON.stringify(r)),this.POST_URL=r.httpEndpoint,this.statsInterval=r.interval,this.webRtcStatsIntervalId=setInterval(function(){return Yr(t,void 0,void 0,function(){return Zr(this,function(i){switch(i.label){case 0:return[4,this.sendStatsToHttpEndpoint()];case 1:return i.sent(),[2]}})})},this.statsInterval*1e3)}else Cr.debug("WebRtc stats not enabled")},e.prototype.getSelectedIceCandidateInfo=function(){var t=this;return new Promise(function(n,r){return Yr(t,void 0,void 0,function(){var i,o,s,a,u,l,c,d,f,h,E,y,O,p,k,L,m,w,M,x,k,L,j,C,M;return Zr(this,function(V){switch(V.label){case 0:return[4,this.stream.getRTCPeerConnection().getStats()];case 1:if(i=V.sent(),s=new Map,a=new Map,u=new Map,i.forEach(function(U){switch(U.type==="transport"&&(ei.isChromium()||ei.isSafariBrowser()||ei.isReactNative())&&(o=U),U.type){case"candidate-pair":s.set(U.id,U);break;case"local-candidate":a.set(U.id,U);break;case"remote-candidate":u.set(U.id,U);break}}),o!=null)c=o.selectedCandidatePairId,l=s.get(c);else for(d=s.size,f=s.values(),h=0;h<d;h++)if(E=f.next().value,E.selected){l=E;break}if(y=l.localCandidateId,O=l.remoteCandidateId,p=a.get(y),p)for(k=this.stream.getLocalIceCandidateList(),L=k.filter(function(U){return!!U.candidate&&(U.candidate.indexOf(p.ip)>=0||U.candidate.indexOf(p.address)>=0)&&U.candidate.indexOf(p.port)>=0}),p.raw=[],m=0,w=L;m<w.length;m++)M=w[m],p.raw.push(M.candidate);else p="ERROR: No active local ICE candidate. Probably ICE-TCP is being used";if(x=u.get(O),x)for(k=this.stream.getRemoteIceCandidateList(),L=k.filter(function(U){return!!U.candidate&&(U.candidate.indexOf(x.ip)>=0||U.candidate.indexOf(x.address)>=0)&&U.candidate.indexOf(x.port)>=0}),x.raw=[],j=0,C=L;j<C.length;j++)M=C[j],x.raw.push(M.candidate);else x="ERROR: No active remote ICE candidate. Probably ICE-TCP is being used";return[2,n({localCandidate:p,remoteCandidate:x})]}})})})},e.prototype.stopWebRtcStats=function(){this.webRtcStatsEnabled&&(clearInterval(this.webRtcStatsIntervalId),Cr.warn("WebRtc stats stopped for disposed stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId))},e.prototype.sendStats=function(t,n){return Yr(this,void 0,void 0,function(){var r,i;return Zr(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r={headers:{"Content-type":"application/json"},body:JSON.stringify(n),method:"POST"},[4,fetch(t,r)];case 1:return o.sent(),[3,3];case 2:return i=o.sent(),Cr.error("sendStats error: ".concat(JSON.stringify(i))),[3,3];case 3:return[2]}})})},e.prototype.sendStatsToHttpEndpoint=function(){return Yr(this,void 0,void 0,function(){var t,n,r;return Zr(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.getCommonStats()];case 1:return t=i.sent(),n=this.generateJSONStatsResponse(t),[4,this.sendStats(this.POST_URL,n)];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),Cr.log(r),[3,4];case 4:return[2]}})})},e.prototype.getCommonStats=function(){return Yr(this,void 0,void 0,function(){var t=this;return Zr(this,function(n){return[2,new Promise(function(r,i){return Yr(t,void 0,void 0,function(){var o,s,a,u,l,c=this;return Zr(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.stream.getRTCPeerConnection().getStats()];case 1:return o=d.sent(),s=this.getWebRtcStatsResponseOutline(),a=["framesReceived","framesDropped","framesSent","frameHeight","frameWidth"],u=["availableOutgoingBitrate","currentRoundTripTime"],o.forEach(function(f){var h=f.mediaType!=null?f.mediaType:f.kind,E=function(y,O){f[O]!=null&&s[y]!=null&&(!h&&a.indexOf(O)>-1&&(h="video"),y!=null&&h!=null&&O!=null&&s[y][h]!=null?s[y][h][O]=Number(f[O]):y!=null&&O!=null&&u.includes(O)&&(s[y][O]=Number(f[O])))};switch(f.type){case"outbound-rtp":E("outbound","bytesSent"),E("outbound","packetsSent"),E("outbound","framesEncoded"),E("outbound","nackCount"),E("outbound","firCount"),E("outbound","pliCount"),E("outbound","qpSum");break;case"inbound-rtp":E("inbound","bytesReceived"),E("inbound","packetsReceived"),E("inbound","packetsLost"),E("inbound","jitter"),E("inbound","framesDecoded"),E("inbound","nackCount"),E("inbound","firCount"),E("inbound","pliCount");break;case"track":E("inbound","jitterBufferDelay"),E("inbound","framesReceived"),E("outbound","framesDropped"),E("outbound","framesSent"),E(c.stream.isLocal()?"outbound":"inbound","frameHeight"),E(c.stream.isLocal()?"outbound":"inbound","frameWidth");break;case"candidate-pair":E("candidatepair","currentRoundTripTime"),E("candidatepair","availableOutgoingBitrate");break}}),(!(s!=null&&s.candidatepair)||Object.keys(s.candidatepair).length===0)&&delete s.candidatepair,[2,r(s)];case 2:return l=d.sent(),Cr.error("Error getting common stats: ",l),[2,i(l)];case 3:return[2]}})})})]})})},e.prototype.generateJSONStatsResponse=function(t){return{"@timestamp":new Date().toISOString(),participant_id:this.stream.connection.data,session_id:this.stream.session.sessionId,platform:ei.getName(),platform_description:ei.getDescription(),stream:"webRTC",webrtc_stats:t}},e.prototype.getWebRtcStatsResponseOutline=function(){return this.stream.isLocal()?{outbound:{audio:{},video:{}},candidatepair:{}}:{inbound:{audio:{},video:{}}}},e}();wl.WebRtcStats=GR;var vs={},XR=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(vs,"__esModule",{value:!0});vs.PublisherSpeakingEvent=void 0;var KR=Ye,QR=function(e){XR(t,e);function t(n,r,i,o){var s=e.call(this,!1,n,r)||this;return s.type=r,s.connection=i,s.streamId=o,s}return t.prototype.callDefaultBehavior=function(){},t}(KR.Event);vs.PublisherSpeakingEvent=QR;var bl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeOfVideo=void 0,function(t){t.CAMERA="CAMERA",t.SCREEN="SCREEN",t.CUSTOM="CUSTOM",t.IPCAM="IPCAM"}(e.TypeOfVideo||(e.TypeOfVideo={}))})(bl);var JR=au;function au(){}au.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(n,r,i){this.callbacks=this.callbacks||{};var o=arguments.length===3,s=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];return a._groupName=s,(this.callbacks[n]=this.callbacks[n]||[]).push(a),this},t.once=function(n,r,i){var o=this,s=arguments.length===3,a=s?arguments[1]:void 0,u=s?arguments[2]:arguments[1];function l(){o.off(n,l),u.apply(this,arguments)}return this.on(n,a,l),this},t.releaseGroup=function(n){this.callbacks=this.callbacks||{};var r,i,o,s;for(r in this.callbacks)for(s=this.callbacks[r],i=0,o=s.length;i<o;i++)s[i]._groupName===n&&(s.splice(i,1),i--,o--);return this},t.off=function(n,r){this.callbacks=this.callbacks||{};var i=this.callbacks[n],o;return i?arguments.length===1?(delete this.callbacks[n],this):(o=i.indexOf(r),o!==-1&&(i.splice(o,1),i.length===0&&delete this.callbacks[n]),this):this},t.emit=function(n){this.callbacks=this.callbacks||{};var r=[].slice.call(arguments,1),i=this.callbacks[n],o=this.getWildcardCallbacks(n),s,a,u;if(i)for(u=i.slice(),s=0,a=u.length;s<a&&u[s];++s)u[s].apply(this,r);if(o)for(a=o.length,u=o.slice(),s=0,a=u.length;s<a&&u[s];++s)u[s].apply(this,[n].concat(r));return this},t.getWildcardCallbacks=function(n){this.callbacks=this.callbacks||{};var r,i,o=[];for(r in this.callbacks)i=r.split("*"),(r==="*"||i.length===2&&n.slice(0,i[0].length)===i[0])&&(o=o.concat(this.callbacks[r]));return o}};au.mixin(au);var YR=JR;function ZR(e,t){var n=-1/0;e.getFloatFrequencyData(t);for(var r=4,i=t.length;r<i;r++)t[r]>n&&t[r]<0&&(n=t[r]);return n}var dd;typeof window<"u"&&(dd=window.AudioContext||window.webkitAudioContext);var Kt=null,ek=function(e,r){var n=new YR;if(!dd)return n;var r=r||{},i=r.smoothing||.1,o=r.interval||50,s=r.threshold,a=r.play,u=r.history||10,l=!0;Kt=r.audioContext||Kt||new dd;var c,d,f;f=Kt.createAnalyser(),f.fftSize=512,f.smoothingTimeConstant=i,d=new Float32Array(f.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(c=Kt.createMediaElementSource(e),typeof a>"u"&&(a=!0),s=s||-50):(c=Kt.createMediaStreamSource(e),s=s||-50),c.connect(f),a&&f.connect(Kt.destination),n.speaking=!1,n.suspend=function(){return Kt.suspend()},n.resume=function(){return Kt.resume()},Object.defineProperty(n,"state",{get:function(){return Kt.state}}),Kt.onstatechange=function(){n.emit("state_change",Kt.state)},n.setThreshold=function(y){s=y},n.setInterval=function(y){o=y},n.stop=function(){l=!1,n.emit("volume_change",-100,s),n.speaking&&(n.speaking=!1,n.emit("stopped_speaking")),f.disconnect(),c.disconnect()},n.speakingHistory=[];for(var h=0;h<u;h++)n.speakingHistory.push(0);var E=function(){setTimeout(function(){if(l){var y=ZR(f,d);n.emit("volume_change",y,s);var O=0;if(y>s&&!n.speaking){for(var p=n.speakingHistory.length-3;p<n.speakingHistory.length;p++)O+=n.speakingHistory[p];O>=2&&(n.speaking=!0,n.emit("speaking"))}else if(y<s&&n.speaking){for(var p=0;p<n.speakingHistory.length;p++)O+=n.speakingHistory[p];O==0&&(n.speaking=!1,n.emit("stopped_speaking"))}n.speakingHistory.shift(),n.speakingHistory.push(0+(y>s)),E()}},o)};return E(),n},cn=X&&X.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})},fn=X&&X.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.Stream=void 0;var Bc=qi,tk=Gi,Wc=vn,nk=wl,co=Gr,Fn=vs,bv=Qi,Js=Vn,De=qr,Un=bl,rk=He,ik=an,ok=Dp,sk=ek,Cv=Zo,pe=rk.OpenViduLogger.getInstance(),Ov,ak=function(){function e(t,n){var r=this;this.isSubscribeToRemote=!1,this.isLocalStreamReadyToPublish=!1,this.isLocalStreamPublished=!1,this.publishedOnce=!1,this.harkSpeakingEnabled=!1,this.harkSpeakingEnabledOnce=!1,this.harkStoppedSpeakingEnabled=!1,this.harkStoppedSpeakingEnabledOnce=!1,this.harkVolumeChangeEnabled=!1,this.harkVolumeChangeEnabledOnce=!1,this.ee=new Cv,Ov=ik.PlatformUtils.getInstance(),this.session=t,n.hasOwnProperty("id")?(this.inboundStreamOpts=n,this.streamId=this.inboundStreamOpts.id,this.creationTime=this.inboundStreamOpts.createdAt,this.hasAudio=this.inboundStreamOpts.hasAudio,this.hasVideo=this.inboundStreamOpts.hasVideo,this.hasAudio&&(this.audioActive=this.inboundStreamOpts.audioActive),this.hasVideo&&(this.videoActive=this.inboundStreamOpts.videoActive,this.typeOfVideo=this.inboundStreamOpts.typeOfVideo?this.inboundStreamOpts.typeOfVideo:void 0,this.frameRate=this.inboundStreamOpts.frameRate===-1?void 0:this.inboundStreamOpts.frameRate,this.videoDimensions=this.inboundStreamOpts.videoDimensions),this.inboundStreamOpts.filter&&Object.keys(this.inboundStreamOpts.filter).length>0&&(this.inboundStreamOpts.filter.lastExecMethod&&Object.keys(this.inboundStreamOpts.filter.lastExecMethod).length===0&&delete this.inboundStreamOpts.filter.lastExecMethod,this.filter=this.inboundStreamOpts.filter)):(this.outboundStreamOpts=n,this.hasAudio=this.isSendAudio(),this.hasVideo=this.isSendVideo(),this.hasAudio&&(this.audioActive=!!this.outboundStreamOpts.publisherProperties.publishAudio),this.hasVideo&&(this.videoActive=!!this.outboundStreamOpts.publisherProperties.publishVideo,this.frameRate=this.outboundStreamOpts.publisherProperties.frameRate,typeof MediaStreamTrack<"u"&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?this.typeOfVideo=Un.TypeOfVideo.CUSTOM:this.typeOfVideo=this.isSendScreen()?Un.TypeOfVideo.SCREEN:Un.TypeOfVideo.CAMERA),this.outboundStreamOpts.publisherProperties.filter&&(this.filter=this.outboundStreamOpts.publisherProperties.filter)),this.ee.on("mediastream-updated",function(){var i;r.streamManager.updateMediaStream(r.mediaStream),pe.debug("Video srcObject ["+((i=r.mediaStream)===null||i===void 0?void 0:i.id)+"] updated in stream ["+r.streamId+"]")})}return e.prototype.reconnect=function(){return this.reconnectStream("API")},e.prototype.applyFilter=function(t,n){var r=this;return new Promise(function(i,o){return cn(r,void 0,void 0,function(){var s,a,u,l,c,d,f=this;return fn(this,function(h){if(this.filter)return[2,o(new De.OpenViduError(De.OpenViduErrorName.GENERIC_ERROR,"There is already a filter applied to Stream "+this.streamId))];if(s=function(E,y){if(E)return pe.error("Error applying filter for Stream "+f.streamId,E),E.code===401?o(new De.OpenViduError(De.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to apply a filter")):o(E);pe.info("Filter successfully applied on Stream "+f.streamId);var O=f.filter;return f.filter=new Bc.Filter(t,n),f.filter.stream=f,y&&(f.session.emitEvent("streamPropertyChanged",[new Js.StreamPropertyChangedEvent(f.session,f,"filter",f.filter,O,"applyFilter")]),f.streamManager.emitEvent("streamPropertyChanged",[new Js.StreamPropertyChangedEvent(f.streamManager,f,"filter",f.filter,O,"applyFilter")])),i(f.filter)},t.startsWith("VB:")){if(!this.hasVideo)return[2,o(new De.OpenViduError(De.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The Virtual Background filter requires a video track to be applied"))];if(!this.mediaStream||this.streamManager.videos.length===0)return[2,o(new De.OpenViduError(De.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The StreamManager requires some video element to be attached to it in order to apply a Virtual Background filter"))];if(this.session.token?a=this.session.token:a=n.token,!a)return[2,o(new De.OpenViduError(De.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Virtual Background requires the client to be connected to a Session or to have a "token" property available in "options" parameter with a valid OpenVidu token'))];if(u=this.session.getTokenParams(a),u.edition!=="pro"&&u.edition!=="enterprise")return[2,o(new De.OpenViduError(De.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"OpenVidu Virtual Background API is available from OpenVidu Pro edition onwards"))];a=encodeURIComponent(btoa(a)),pe.info("Applying Virtual Background to stream "+this.streamId),l=function(){return cn(f,void 0,void 0,function(){var E,y,O,p,m,w,x;return fn(this,function(k){switch(k.label){case 0:return k.trys.push([0,8,,9]),E=this.streamId+"_"+(0,ok.v4)(),y=this.mediaStream.clone(),O=this.streamManager.videos[0].video.cloneNode(!1),O.id=VirtualBackground.VirtualBackground.SOURCE_VIDEO_PREFIX+E,O.srcObject=y,O.muted=!0,this.virtualBackgroundSourceElements={videoClone:O,mediaStreamClone:y},VirtualBackground.VirtualBackground.hideHtmlElement(O,!1),VirtualBackground.VirtualBackground.appendHtmlElementToHiddenContainer(O,E),[4,O.play()];case 1:switch(k.sent(),p=new VirtualBackground.VirtualBackground({id:E,openviduServerUrl:new URL(u.httpUri),openviduToken:a,inputVideo:O,inputResolution:"160x96",outputFramerate:24}),m=void 0,w=t,w){case"VB:blur":return[3,2];case"VB:image":return[3,4]}return[3,6];case 2:return[4,p.backgroundBlur(n)];case 3:return m=k.sent(),[3,7];case 4:return[4,p.backgroundImage(n)];case 5:return m=k.sent(),[3,7];case 6:throw new Error("Unknown Virtual Background filter: "+t);case 7:return this.virtualBackgroundSinkElements={VB:p,video:m},O.style.display="none",this.streamManager.remote?this.streamManager.replaceTrackInMediaStream(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1):this.streamManager.replaceTrackAux(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1),s(void 0,!1),[3,9];case 8:return x=k.sent(),x.name===De.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?s(new De.OpenViduError(De.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,x.message),!1):s(x,!1),[3,9];case 9:return[2]}})})},typeof VirtualBackground>"u"?(c=document.createElement("script"),c.type="text/javascript",c.src=u.httpUri+"/openvidu/virtual-background/openvidu-virtual-background.js?token="+a,c.onload=function(){return cn(f,void 0,void 0,function(){var E;return fn(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,l()];case 1:return y.sent(),i(new Bc.Filter(t,n)),[3,3];case 2:return E=y.sent(),o(E),[3,3];case 3:return[2]}})})},document.body.appendChild(c)):l().then(function(){return i(new Bc.Filter(t,n))}).catch(function(E){return o(E)})}else{if(!this.session.sessionConnected())return[2,o(this.session.notConnectedError())];pe.info("Applying server filter to stream "+this.streamId),n=n??{},d=n,typeof d!="string"&&(d=JSON.stringify(d)),this.session.openvidu.sendRequest("applyFilter",{streamId:this.streamId,type:t,options:d},function(E,y){s(E,!0)})}return[2]})})})},e.prototype.removeFilter=function(){return cn(this,void 0,void 0,function(){return fn(this,function(t){switch(t.label){case 0:return[4,this.removeFilterAux(!1)];case 1:return[2,t.sent()]}})})},e.prototype.getRTCPeerConnection=function(){return this.webRtcPeer.pc},e.prototype.getMediaStream=function(){return this.mediaStream},e.prototype.removeFilterAux=function(t){var n=this;return new Promise(function(r,i){return cn(n,void 0,void 0,function(){var o,s,a,u=this,l;return fn(this,function(c){switch(c.label){case 0:if(o=function(d,f){if(d)return delete u.filter,pe.error("Error removing filter for Stream "+u.streamId,d),d.code===401?i(new De.OpenViduError(De.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to remove a filter")):i(d);pe.info("Filter successfully removed from Stream "+u.streamId);var h=u.filter;return delete u.filter,f&&(u.session.emitEvent("streamPropertyChanged",[new Js.StreamPropertyChangedEvent(u.session,u,"filter",u.filter,h,"applyFilter")]),u.streamManager.emitEvent("streamPropertyChanged",[new Js.StreamPropertyChangedEvent(u.streamManager,u,"filter",u.filter,h,"applyFilter")])),r()},!this.filter)return[3,11];if(!(!((l=this.filter)===null||l===void 0)&&l.type.startsWith("VB:")))return[3,9];c.label=1;case 1:return c.trys.push([1,7,,8]),s=this.virtualBackgroundSourceElements.mediaStreamClone,t?[3,5]:this.streamManager.remote?(this.streamManager.replaceTrackInMediaStream(s.getVideoTracks()[0],!1),[3,4]):[3,2];case 2:return[4,this.streamManager.replaceTrackAux(s.getVideoTracks()[0],!1)];case 3:c.sent(),c.label=4;case 4:return[3,6];case 5:s.getTracks().forEach(function(d){return d.stop()}),c.label=6;case 6:return this.virtualBackgroundSinkElements.VB.cleanUp(),delete this.virtualBackgroundSinkElements,delete this.virtualBackgroundSourceElements,[2,o(void 0,!1)];case 7:return a=c.sent(),[2,o(a,!1)];case 8:return[3,10];case 9:if(!this.session.sessionConnected())return[2,i(this.session.notConnectedError())];pe.info("Removing filter of stream "+this.streamId),this.session.openvidu.sendRequest("removeFilter",{streamId:this.streamId},function(d,f){return o(d,!0)}),c.label=10;case 10:return[3,12];case 11:return[2,i(new De.OpenViduError(De.OpenViduErrorName.GENERIC_ERROR,"Stream "+this.streamId+" has no filter applied"))];case 12:return[2]}})})})},e.prototype.setMediaStream=function(t){this.mediaStream=t},e.prototype.updateMediaStreamInVideos=function(){this.ee.emitEvent("mediastream-updated",[])},e.prototype.getWebRtcPeer=function(){return this.webRtcPeer},e.prototype.subscribeToMyRemote=function(t){this.isSubscribeToRemote=t},e.prototype.setOutboundStreamOptions=function(t){this.outboundStreamOpts=t},e.prototype.subscribe=function(){var t=this;return new Promise(function(n,r){t.initWebRtcPeerReceive(!1).then(function(){return n()}).catch(function(i){return r(i)})})},e.prototype.publish=function(){var t=this;return new Promise(function(n,r){t.isLocalStreamReadyToPublish?t.initWebRtcPeerSend(!1).then(function(){return n()}).catch(function(i){return r(i)}):t.ee.once("stream-ready-to-publish",function(){t.publish().then(function(){return n()}).catch(function(i){return r(i)})})})},e.prototype.disposeWebRtcPeer=function(){var t;this.webRtcPeer&&(this.webRtcPeer.dispose(),t=this.webRtcPeer.getId()),this.stopWebRtcStats(),pe.info((this.outboundStreamOpts?"Outbound ":"Inbound ")+"RTCPeerConnection with id ["+t+"] from 'Stream' with id ["+this.streamId+"] is now closed")},e.prototype.disposeMediaStream=function(){return cn(this,void 0,void 0,function(){var t;return fn(this,function(n){switch(n.label){case 0:if(!(this.filter&&this.filter.type.startsWith("VB:")))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.removeFilterAux(!0)];case 2:return n.sent(),console.debug("Success removing Virtual Background filter for stream ".concat(this.streamId)),[3,4];case 3:return t=n.sent(),console.error("Error removing Virtual Background filter for stream ".concat(this.streamId),t),[3,4];case 4:return this.mediaStream&&(this.mediaStream.getAudioTracks().forEach(function(r){r.stop()}),this.mediaStream.getVideoTracks().forEach(function(r){r.stop()}),delete this.mediaStream),this.localMediaStreamWhenSubscribedToRemote&&(this.localMediaStreamWhenSubscribedToRemote.getAudioTracks().forEach(function(r){r.stop()}),this.localMediaStreamWhenSubscribedToRemote.getVideoTracks().forEach(function(r){r.stop()}),delete this.localMediaStreamWhenSubscribedToRemote),this.speechEvent&&(this.speechEvent.stop&&this.speechEvent.stop(),delete this.speechEvent),pe.info((this.outboundStreamOpts?"Local ":"Remote ")+"MediaStream from 'Stream' with id ["+this.streamId+"] is now disposed"),[2]}})})},e.prototype.displayMyRemote=function(){return this.isSubscribeToRemote},e.prototype.isSendAudio=function(){return!!this.outboundStreamOpts&&this.outboundStreamOpts.publisherProperties.audioSource!==null&&this.outboundStreamOpts.publisherProperties.audioSource!==!1},e.prototype.isSendVideo=function(){return!!this.outboundStreamOpts&&this.outboundStreamOpts.publisherProperties.videoSource!==null&&this.outboundStreamOpts.publisherProperties.videoSource!==!1},e.prototype.isSendScreen=function(){var t=this.outboundStreamOpts.publisherProperties.videoSource==="screen";return Ov.isElectron()&&(t=typeof this.outboundStreamOpts.publisherProperties.videoSource=="string"&&this.outboundStreamOpts.publisherProperties.videoSource.startsWith("screen:")),!!this.outboundStreamOpts&&t},e.prototype.enableHarkSpeakingEvent=function(){var t=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabled&&this.speechEvent&&(this.harkSpeakingEnabled=!0,this.speechEvent.on("speaking",function(){t.session.emitEvent("publisherStartSpeaking",[new Fn.PublisherSpeakingEvent(t.session,"publisherStartSpeaking",t.connection,t.streamId)]),t.streamManager.emitEvent("publisherStartSpeaking",[new Fn.PublisherSpeakingEvent(t.streamManager,"publisherStartSpeaking",t.connection,t.streamId)]),t.harkSpeakingEnabledOnce=!1}))},e.prototype.enableOnceHarkSpeakingEvent=function(){var t=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabledOnce&&this.speechEvent&&(this.harkSpeakingEnabledOnce=!0,this.speechEvent.once("speaking",function(){t.harkSpeakingEnabledOnce&&(t.session.emitEvent("publisherStartSpeaking",[new Fn.PublisherSpeakingEvent(t.session,"publisherStartSpeaking",t.connection,t.streamId)]),t.streamManager.emitEvent("publisherStartSpeaking",[new Fn.PublisherSpeakingEvent(t.streamManager,"publisherStartSpeaking",t.connection,t.streamId)])),t.disableHarkSpeakingEvent(!0)}))},e.prototype.disableHarkSpeakingEvent=function(t){if(this.speechEvent){if(this.harkSpeakingEnabledOnce=!1,t){if(this.harkSpeakingEnabled)return}else this.harkSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},e.prototype.enableHarkStoppedSpeakingEvent=function(){var t=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabled&&this.speechEvent&&(this.harkStoppedSpeakingEnabled=!0,this.speechEvent.on("stopped_speaking",function(){t.session.emitEvent("publisherStopSpeaking",[new Fn.PublisherSpeakingEvent(t.session,"publisherStopSpeaking",t.connection,t.streamId)]),t.streamManager.emitEvent("publisherStopSpeaking",[new Fn.PublisherSpeakingEvent(t.streamManager,"publisherStopSpeaking",t.connection,t.streamId)]),t.harkStoppedSpeakingEnabledOnce=!1}))},e.prototype.enableOnceHarkStoppedSpeakingEvent=function(){var t=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabledOnce&&this.speechEvent&&(this.harkStoppedSpeakingEnabledOnce=!0,this.speechEvent.once("stopped_speaking",function(){t.harkStoppedSpeakingEnabledOnce&&(t.session.emitEvent("publisherStopSpeaking",[new Fn.PublisherSpeakingEvent(t.session,"publisherStopSpeaking",t.connection,t.streamId)]),t.streamManager.emitEvent("publisherStopSpeaking",[new Fn.PublisherSpeakingEvent(t.streamManager,"publisherStopSpeaking",t.connection,t.streamId)])),t.disableHarkStoppedSpeakingEvent(!0)}))},e.prototype.disableHarkStoppedSpeakingEvent=function(t){if(this.speechEvent){if(this.harkStoppedSpeakingEnabledOnce=!1,t){if(this.harkStoppedSpeakingEnabled)return}else this.harkStoppedSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce?this.speechEvent.off("stopped_speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},e.prototype.enableHarkVolumeChangeEvent=function(t){var n=this;this.setHarkListenerIfNotExists()?(!this.harkVolumeChangeEnabled||t)&&(this.harkVolumeChangeEnabled=!0,this.speechEvent.on("volume_change",function(r){var i=n.speechEvent.oldVolumeValue,o={newValue:r,oldValue:i};n.speechEvent.oldVolumeValue=r,n.streamManager.emitEvent("streamAudioVolumeChange",[new bv.StreamManagerEvent(n.streamManager,"streamAudioVolumeChange",o)])})):this.harkVolumeChangeEnabled=!0},e.prototype.enableOnceHarkVolumeChangeEvent=function(t){var n=this;this.setHarkListenerIfNotExists()?(!this.harkVolumeChangeEnabledOnce||t)&&(this.harkVolumeChangeEnabledOnce=!0,this.speechEvent.once("volume_change",function(r){var i=n.speechEvent.oldVolumeValue,o={newValue:r,oldValue:i};n.speechEvent.oldVolumeValue=r,n.disableHarkVolumeChangeEvent(!0),n.streamManager.emitEvent("streamAudioVolumeChange",[new bv.StreamManagerEvent(n.streamManager,"streamAudioVolumeChange",o)])})):this.harkVolumeChangeEnabledOnce=!0},e.prototype.disableHarkVolumeChangeEvent=function(t){if(this.speechEvent){if(this.harkVolumeChangeEnabledOnce=!1,t){if(this.harkVolumeChangeEnabled)return}else this.harkVolumeChangeEnabled=!1;this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("volume_change"):(this.speechEvent.stop(),delete this.speechEvent)}},e.prototype.isLocal=function(){return!this.inboundStreamOpts&&!!this.outboundStreamOpts},e.prototype.getSelectedIceCandidate=function(){var t=this;return new Promise(function(n,r){t.webRtcStats.getSelectedIceCandidateInfo().then(function(i){return n(i)}).catch(function(i){return r(i)})})},e.prototype.getRemoteIceCandidateList=function(){return this.webRtcPeer.remoteCandidatesQueue},e.prototype.getLocalIceCandidateList=function(){return this.webRtcPeer.localCandidatesQueue},e.prototype.streamIceConnectionStateBroken=function(){if(!this.getWebRtcPeer()||!this.getRTCPeerConnection())return!1;if(this.isLocal()&&this.session.openvidu.advancedConfiguration.forceMediaReconnectionAfterNetworkDrop)return pe.warn('OpenVidu Browser advanced configuration option "forceMediaReconnectionAfterNetworkDrop" is enabled. Stream '.concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") will force a reconnection")),!0;var t=this.getRTCPeerConnection().iceConnectionState;return t!=="connected"&&t!=="completed"},e.prototype.setHarkListenerIfNotExists=function(){if(this.mediaStream){if(!this.speechEvent){var t=this.harkOptions?this.harkOptions:this.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{};t.interval=typeof t.interval=="number"?t.interval:100,t.threshold=typeof t.threshold=="number"?t.threshold:-50,this.speechEvent=sk(this.mediaStream,t)}return!0}return!1},e.prototype.setupReconnectionEventEmitter=function(t,n){return this.reconnectionEventEmitter==null?(this.reconnectionEventEmitter=new Cv,!1):(console.warn("Trying to reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but an ongoing reconnection process is active. Waiting for response...")),this.reconnectionEventEmitter.once("success",function(){return t()}),this.reconnectionEventEmitter.once("error",function(r){return n(r)}),!0)},e.prototype.initWebRtcPeerSend=function(t){var n=this;return new Promise(function(r,i){var o;if(t){if(n.setupReconnectionEventEmitter(r,i))return}else n.initHarkEvents();var s=function(){var c;return t&&((c=n.reconnectionEventEmitter)===null||c===void 0||c.emitEvent("success"),delete n.reconnectionEventEmitter),r()},a=function(c){var d;return t&&((d=n.reconnectionEventEmitter)===null||d===void 0||d.emitEvent("error",[c]),delete n.reconnectionEventEmitter),i(c)},u=function(c){pe.debug("Sending SDP offer to publish as "+n.streamId,c);var d=t?"reconnectStream":"publishVideo",f;if(t)f={stream:n.streamId,sdpString:c};else{var h=void 0;n.isSendVideo()&&(h=typeof MediaStreamTrack<"u"&&n.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?Un.TypeOfVideo.CUSTOM:n.isSendScreen()?Un.TypeOfVideo.SCREEN:Un.TypeOfVideo.CAMERA),f={doLoopback:n.displayMyRemote()||!1,hasAudio:n.isSendAudio(),hasVideo:n.isSendVideo(),audioActive:n.audioActive,videoActive:n.videoActive,typeOfVideo:h,frameRate:n.frameRate?n.frameRate:-1,videoDimensions:JSON.stringify(n.videoDimensions),filter:n.outboundStreamOpts.publisherProperties.filter,sdpOffer:c}}n.session.openvidu.sendRequest(d,f,function(E,y){E?E.code===401?a(new De.OpenViduError(De.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to publish")):a("Error on publishVideo: "+JSON.stringify(E)):n.webRtcPeer.processRemoteAnswer(y.sdpAnswer).then(function(){n.streamId=y.id,n.creationTime=y.createdAt,n.isLocalStreamPublished=!0,n.publishedOnce=!0,n.displayMyRemote()&&(n.localMediaStreamWhenSubscribedToRemote=n.mediaStream,n.remotePeerSuccessfullyEstablished(t)),t?n.ee.emitEvent("stream-reconnected-by-publisher",[]):n.ee.emitEvent("stream-created-by-publisher",[]),n.initWebRtcStats(),pe.info("'Publisher' ("+n.streamId+") successfully "+(t?"reconnected":"published")+" to session"),s()}).catch(function(O){a(O)})})},l={mediaConstraints:{audio:n.hasAudio,video:n.hasVideo},simulcast:(o=n.outboundStreamOpts.publisherProperties.videoSimulcast)!==null&&o!==void 0?o:n.session.openvidu.videoSimulcast,onIceCandidate:n.connection.sendIceCandidate.bind(n.connection),onIceConnectionStateException:n.onIceConnectionStateExceptionHandler.bind(n),iceServers:n.getIceServersConf(),mediaStream:n.mediaStream,mediaServer:n.session.openvidu.mediaServer,typeOfVideo:n.typeOfVideo?Un.TypeOfVideo[n.typeOfVideo]:void 0};n.session.openvidu.mediaServer!=="mediasoup"&&(l.simulcast=!1),t&&n.disposeWebRtcPeer(),n.displayMyRemote()?n.webRtcPeer=new Wc.WebRtcPeerSendrecv(l):n.webRtcPeer=new Wc.WebRtcPeerSendonly(l),n.webRtcPeer.addIceConnectionStateChangeListener("publisher of "+n.connection.connectionId),n.webRtcPeer.createOffer().then(function(c){n.webRtcPeer.processLocalOffer(c).then(function(){u(c.sdp)}).catch(function(d){a(new Error("(publish) SDP process local offer error: "+JSON.stringify(d)))})}).catch(function(c){a(new Error("(publish) SDP create offer error: "+JSON.stringify(c)))})})},e.prototype.finalResolveForSubscription=function(t,n){var r;return pe.info("'Subscriber' ("+this.streamId+") successfully "+(t?"reconnected":"subscribed")),this.remotePeerSuccessfullyEstablished(t),this.initWebRtcStats(),t&&((r=this.reconnectionEventEmitter)===null||r===void 0||r.emitEvent("success"),delete this.reconnectionEventEmitter),n()},e.prototype.finalRejectForSubscription=function(t,n,r){var i;return pe.error("Error for 'Subscriber' ("+this.streamId+") while trying to "+(t?"reconnect":"subscribe")+": "+n.toString()),t&&((i=this.reconnectionEventEmitter)===null||i===void 0||i.emitEvent("error",[n]),delete this.reconnectionEventEmitter),r(n)},e.prototype.initWebRtcPeerReceive=function(t){var n=this;return new Promise(function(r,i){t&&n.setupReconnectionEventEmitter(r,i)||(n.session.openvidu.mediaServer==="mediasoup"?n.initWebRtcPeerReceiveFromServer(t).then(function(){return n.finalResolveForSubscription(t,r)}).catch(function(o){return n.finalRejectForSubscription(t,o,i)}):n.initWebRtcPeerReceiveFromClient(t).then(function(){return n.finalResolveForSubscription(t,r)}).catch(function(o){return n.finalRejectForSubscription(t,o,i)}))})},e.prototype.initWebRtcPeerReceiveFromClient=function(t){var n=this;return new Promise(function(r,i){n.completeWebRtcPeerReceive(t,!1).then(function(o){n.webRtcPeer.processRemoteAnswer(o.sdpAnswer).then(function(){return r()}).catch(function(s){return i(s)})}).catch(function(o){return i(o)})})},e.prototype.initWebRtcPeerReceiveFromServer=function(t){var n=this;return new Promise(function(r,i){n.session.openvidu.sendRequest("prepareReceiveVideoFrom",{sender:n.streamId,reconnect:t},function(o,s){if(o)return i(new Error("Error on prepareReceiveVideoFrom: "+JSON.stringify(o)));n.completeWebRtcPeerReceive(t,!1,s.sdpOffer).then(function(){return r()}).catch(function(a){return i(a)})})})},e.prototype.completeWebRtcPeerReceive=function(t,n,r){var i=this;return new Promise(function(o,s){pe.debug("'Session.subscribe(Stream)' called");var a=function(l){pe.debug("Sending local SDP ".concat(r?"answer":"offer"," to subscribe to ").concat(i.streamId),l);var c=t?"reconnectStream":"receiveVideoFrom",d={};d[t?"stream":"sender"]=i.streamId,r?d[t?"sdpString":"sdpAnswer"]=l:d.sdpOffer=l,t&&(d.forciblyReconnect=n),i.session.openvidu.sendRequest(c,d,function(f,h){return f?s(new Error("Error on "+c+" : "+JSON.stringify(f))):o(h)})},u={mediaConstraints:{audio:i.hasAudio,video:i.hasVideo},simulcast:!1,onIceCandidate:i.connection.sendIceCandidate.bind(i.connection),onIceConnectionStateException:i.onIceConnectionStateExceptionHandler.bind(i),iceServers:i.getIceServersConf(),mediaServer:i.session.openvidu.mediaServer,typeOfVideo:i.typeOfVideo?Un.TypeOfVideo[i.typeOfVideo]:void 0};t&&i.disposeWebRtcPeer(),i.webRtcPeer=new Wc.WebRtcPeerRecvonly(u),i.webRtcPeer.addIceConnectionStateChangeListener(i.streamId),r?i.webRtcPeer.processRemoteOffer(r).then(function(){i.webRtcPeer.createAnswer().then(function(l){i.webRtcPeer.processLocalAnswer(l).then(function(){a(l.sdp)}).catch(function(c){return s(new Error("(subscribe) SDP process local answer error: "+JSON.stringify(c)))})}).catch(function(l){return s(new Error("(subscribe) SDP create answer error: "+JSON.stringify(l)))})}).catch(function(l){return s(new Error("(subscribe) SDP process remote offer error: "+JSON.stringify(l)))}):i.webRtcPeer.createOffer().then(function(l){i.webRtcPeer.processLocalOffer(l).then(function(){a(l.sdp)}).catch(function(c){return s(new Error("(subscribe) SDP process local offer error: "+JSON.stringify(c)))})}).catch(function(l){return s(new Error("(subscribe) SDP create offer error: "+JSON.stringify(l)))})})},e.prototype.remotePeerSuccessfullyEstablished=function(t){t&&this.mediaStream!=null&&this.disposeMediaStream(),this.mediaStream=new MediaStream;for(var n,r=0,i=this.webRtcPeer.pc.getReceivers();r<i.length;r++)n=i[r],n.track&&this.mediaStream.addTrack(n.track);if(pe.debug("Peer remote stream",this.mediaStream),this.mediaStream){if(this.streamManager instanceof tk.Subscriber){if(this.mediaStream.getAudioTracks()[0]){var o=t?this.audioActive:!!this.streamManager.properties.subscribeToAudio;this.mediaStream.getAudioTracks()[0].enabled=o}if(this.mediaStream.getVideoTracks()[0]){var o=t?this.videoActive:!!this.streamManager.properties.subscribeToVideo;this.mediaStream.getVideoTracks()[0].enabled=o}}this.updateMediaStreamInVideos(),this.initHarkEvents()}},e.prototype.initHarkEvents=function(){this.mediaStream.getAudioTracks()[0]&&(this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!0,this.streamManager)&&this.enableOnceHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.streamManager)&&this.enableHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!0,this.streamManager)&&this.enableOnceHarkStoppedSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.streamManager)&&this.enableHarkStoppedSpeakingEvent(),this.harkVolumeChangeEnabledOnce&&this.enableOnceHarkVolumeChangeEvent(!0),this.harkVolumeChangeEnabled&&this.enableHarkVolumeChangeEvent(!0))},e.prototype.onIceConnectionStateExceptionHandler=function(t,n,r){switch(t){case co.ExceptionEventName.ICE_CONNECTION_FAILED:this.onIceConnectionFailed();break;case co.ExceptionEventName.ICE_CONNECTION_DISCONNECTED:this.onIceConnectionDisconnected();break}this.session.emitEvent("exception",[new co.ExceptionEvent(this.session,t,this,n,r)])},e.prototype.onIceConnectionFailed=function(){pe.log("[ICE_CONNECTION_FAILED] Handling ICE_CONNECTION_FAILED event. Reconnecting stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",")")),this.reconnectStreamAndLogResultingIceConnectionState(co.ExceptionEventName.ICE_CONNECTION_FAILED)},e.prototype.onIceConnectionDisconnected=function(){var t=this;pe.log("[ICE_CONNECTION_DISCONNECTED] Handling ICE_CONNECTION_DISCONNECTED event. Waiting for ICE to be restored and reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") if not possible"));var n=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3;this.awaitWebRtcPeerConnectionState(n).then(function(r){switch(r){case"failed":pe.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(t.streamId," (").concat(t.isLocal()?"Publisher":"Subscriber",") is now failed after ICE_CONNECTION_DISCONNECTED"));break;case"connected":case"completed":pe.log("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(t.streamId," (").concat(t.isLocal()?"Publisher":"Subscriber",") automatically restored after ICE_CONNECTION_DISCONNECTED. Current ICE connection state: ").concat(r));break;case"closed":case"checking":case"new":case"disconnected":pe.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(t.streamId," (").concat(t.isLocal()?"Publisher":"Subscriber",") couldn't be restored after ICE_CONNECTION_DISCONNECTED event. Current ICE connection state after ").concat(n," ms: ").concat(r)),t.reconnectStreamAndLogResultingIceConnectionState(co.ExceptionEventName.ICE_CONNECTION_DISCONNECTED);break}})},e.prototype.reconnectStreamAndLogResultingIceConnectionState=function(t){return cn(this,void 0,void 0,function(){var n,r;return fn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.reconnectStreamAndReturnIceConnectionState(t)];case 1:switch(n=i.sent(),n){case"connected":case"completed":pe.log("[".concat(t,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") successfully reconnected after ").concat(t,". Current ICE connection state: ").concat(n));break;default:pe.error("[".concat(t,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") failed to reconnect after ").concat(t,". Current ICE connection state: ").concat(n));break}return[3,3];case 2:return r=i.sent(),pe.error("[".concat(t,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after ").concat(t,": ").concat(r)),[3,3];case 3:return[2]}})})},e.prototype.reconnectStreamAndReturnIceConnectionState=function(t){return cn(this,void 0,void 0,function(){var n,r;return fn(this,function(i){switch(i.label){case 0:pe.log("[".concat(t,"] Reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after event ").concat(t)),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.reconnectStream(t)];case 2:return i.sent(),n=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3,[2,this.awaitWebRtcPeerConnectionState(n)];case 3:return r=i.sent(),pe.warn("[".concat(t,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber","). Reason: ").concat(r)),[2,this.awaitWebRtcPeerConnectionState(1)];case 4:return[2]}})})},e.prototype.awaitWebRtcPeerConnectionState=function(t){return cn(this,void 0,void 0,function(){var n,r,i,o;return fn(this,function(s){switch(s.label){case 0:n=this.getRTCPeerConnection().iceConnectionState,r=150,i=Math.ceil(t/r),o=0,s.label=1;case 1:return o<i?(n=this.getRTCPeerConnection().iceConnectionState,n==="connected"||n==="completed"?[3,4]:[4,new Promise(function(a){return setTimeout(a,r)})]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[2,n]}})})},e.prototype.reconnectStream=function(t){return cn(this,void 0,void 0,function(){var n,r;return fn(this,function(i){switch(i.label){case 0:return[4,this.isWebsocketConnected(t,3e3)];case 1:if(n=i.sent(),n)return pe.log("[".concat(t,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") and the websocket is opened")),this.isLocal()?[2,this.initWebRtcPeerSend(!0)]:[2,this.initWebRtcPeerReceive(!0)];throw r="[".concat(t,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but the websocket wasn't opened"),pe.error(r),Error(r)}})})},e.prototype.isWebsocketConnected=function(t,n){var r=this;return new Promise(function(i,o){var s=r.session.openvidu.getWsReadyState();if(s===1){var a=setTimeout(function(){return console.warn("[".concat(t,"] Websocket timeout of ").concat(n,"ms")),i(!1)},n);r.session.openvidu.sendRequest("echo",{},function(u,l){return clearTimeout(a),u?(console.warn("[".concat(t,"] Websocket 'echo' returned error: ").concat(u)),i(!1)):i(!0)})}else return console.warn("[".concat(t,"] Websocket readyState is ").concat(s)),i(!1)})},e.prototype.initWebRtcStats=function(){this.webRtcStats=new nk.WebRtcStats(this),this.webRtcStats.initWebRtcStats()},e.prototype.stopWebRtcStats=function(){this.webRtcStats&&this.webRtcStats.isEnabled()&&this.webRtcStats.stopWebRtcStats()},e.prototype.getIceServersConf=function(){var t;return this.session.openvidu.advancedConfiguration.iceServers?t=this.session.openvidu.advancedConfiguration.iceServers==="freeice"?void 0:this.session.openvidu.advancedConfiguration.iceServers:this.session.openvidu.iceServers?t=this.session.openvidu.iceServers:t=void 0,t},e.prototype.gatherStatsForPeer=function(){var t=this;return new Promise(function(n,r){t.isLocal()?t.getRTCPeerConnection().getSenders().forEach(function(i){return i.getStats().then(function(o){o.forEach(function(s){if(t.isReportWanted(s)){var a={};a.type=s.type,a.timestamp=s.timestamp,a.id=s.id,s.type==="outbound-rtp"&&(a.ssrc=s.ssrc,a.firCount=s.firCount,a.pliCount=s.pliCount,a.nackCount=s.nackCount,a.qpSum=s.qpSum,s.kind?a.mediaType=s.kind:s.mediaType?a.mediaType=s.mediaType:a.mediaType=s.id.indexOf("VideoStream")!==-1?"video":"audio",a.mediaType==="video"&&(a.framesEncoded=s.framesEncoded),a.packetsSent=s.packetsSent,a.bytesSent=s.bytesSent),s.type==="candidate-pair"&&s.totalRoundTripTime!==void 0&&(a.availableOutgoingBitrate=s.availableOutgoingBitrate,a.rtt=s.currentRoundTripTime,a.averageRtt=s.totalRoundTripTime/s.responsesReceived),s.type==="remote-inbound-rtp"||s.type,pe.log(a)}})})}):t.getRTCPeerConnection().getReceivers().forEach(function(i){return i.getStats().then(function(o){o.forEach(function(s){if(t.isReportWanted(s)){var a={};a.type=s.type,a.timestamp=s.timestamp,a.id=s.id,s.type==="inbound-rtp"&&(a.ssrc=s.ssrc,a.firCount=s.firCount,a.pliCount=s.pliCount,a.nackCount=s.nackCount,a.qpSum=s.qpSum,s.kind?a.mediaType=s.kind:s.mediaType?a.mediaType=s.mediaType:a.mediaType=s.id.indexOf("VideoStream")!==-1?"video":"audio",a.mediaType==="video"&&(a.framesDecoded=s.framesDecoded),a.packetsReceived=s.packetsReceived,a.packetsLost=s.packetsLost,a.jitter=s.jitter,a.bytesReceived=s.bytesReceived),s.type==="candidate-pair"&&s.totalRoundTripTime!==void 0&&(a.availableIncomingBitrate=s.availableIncomingBitrate,a.rtt=s.currentRoundTripTime,a.averageRtt=s.totalRoundTripTime/s.responsesReceived),s.type==="remote-inbound-rtp"||s.type,pe.log(a)}})})})})},e.prototype.isReportWanted=function(t){return t.type==="inbound-rtp"&&!this.isLocal()||t.type==="outbound-rtp"&&this.isLocal()||t.type==="candidate-pair"&&t.nominated&&t.bytesSent>0},e}();Hi.Stream=ak;Object.defineProperty(ds,"__esModule",{value:!0});ds.Connection=void 0;var uk=Hi,lk=He,xv=Gr,fo=lk.OpenViduLogger.getInstance(),ck=function(){function e(t,n){this.session=t,this.disposed=!1;var r="'Connection' created ";n.role?(this.localOptions=n,this.connectionId=this.localOptions.id,this.creationTime=this.localOptions.createdAt,this.data=this.localOptions.metadata,this.rpcSessionId=this.localOptions.sessionId,this.role=this.localOptions.role,this.record=this.localOptions.record,r+="(local)"):(this.remoteOptions=n,this.connectionId=this.remoteOptions.id,this.creationTime=this.remoteOptions.createdAt,this.remoteOptions.metadata&&(this.data=this.remoteOptions.metadata),this.remoteOptions.streams&&this.initRemoteStreams(this.remoteOptions.streams),r+="(remote) with 'connectionId' ["+this.remoteOptions.id+"]"),fo.info(r)}return e.prototype.sendIceCandidate=function(t){var n=this;this.disposed?fo.warn("Connection ".concat(this.connectionId," disposed when trying to send an ICE candidate. ICE candidate not sent")):(fo.debug((this.stream.outboundStreamOpts?"Local":"Remote")+"candidate for"+this.connectionId,t),this.session.openvidu.sendRequest("onIceCandidate",{endpointName:this.connectionId,candidate:t.candidate,sdpMid:t.sdpMid,sdpMLineIndex:t.sdpMLineIndex},function(r,i){r&&(fo.error("Error sending ICE candidate: "+JSON.stringify(r)),n.session.emitEvent("exception",[new xv.ExceptionEvent(n.session,xv.ExceptionEventName.ICE_CANDIDATE_ERROR,n.session,"There was an unexpected error on the server-side processing an ICE candidate generated and sent by the client-side",r)]))}))},e.prototype.initRemoteStreams=function(t){var n=this;t.forEach(function(r){var i={id:r.id,createdAt:r.createdAt,connection:n,hasAudio:r.hasAudio,hasVideo:r.hasVideo,audioActive:r.audioActive,videoActive:r.videoActive,typeOfVideo:r.typeOfVideo,frameRate:r.frameRate,videoDimensions:r.videoDimensions?JSON.parse(r.videoDimensions):void 0,filter:r.filter?r.filter:void 0},o=new uk.Stream(n.session,i);n.addStream(o)}),fo.info("Remote 'Connection' with 'connectionId' ["+this.connectionId+"] is now configured for receiving Streams with options: ",this.stream.inboundStreamOpts)},e.prototype.addStream=function(t){t.connection=this,this.stream=t},e.prototype.removeStream=function(){delete this.stream},e.prototype.dispose=function(){this.disposed=!0,this.removeStream()},e}();ds.Connection=ck;var gs={},fk=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(gs,"__esModule",{value:!0});gs.ConnectionEvent=void 0;var dk=Ye,pk=function(e){fk(t,e);function t(n,r,i,o,s){var a=e.call(this,n,r,i)||this;return a.connection=o,a.reason=s,a}return t.prototype.callDefaultBehavior=function(){},t}(dk.Event);gs.ConnectionEvent=pk;var ys={},hk=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ys,"__esModule",{value:!0});ys.FilterEvent=void 0;var mk=Ye,vk=function(e){hk(t,e);function t(n,r,i){var o=e.call(this,!1,n,r)||this;return o.data=i,o}return t.prototype.callDefaultBehavior=function(){},t}(mk.Event);ys.FilterEvent=vk;var Es={},gk=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Es,"__esModule",{value:!0});Es.RecordingEvent=void 0;var yk=Ye,Ek=function(e){gk(t,e);function t(n,r,i,o,s){var a=e.call(this,!1,n,r)||this;return a.id=i,o!==i&&(a.name=o),a.reason=s,a}return t.prototype.callDefaultBehavior=function(){},t}(yk.Event);Es.RecordingEvent=Ek;var Ji={},Sk=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ji,"__esModule",{value:!0});Ji.SessionDisconnectedEvent=void 0;var wk=Ye,bk=He,Ck=bk.OpenViduLogger.getInstance(),Ok=function(e){Sk(t,e);function t(n,r){var i=e.call(this,!0,n,"sessionDisconnected")||this;return i.reason=r,i}return t.prototype.callDefaultBehavior=function(){Ck.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'");var n=this.target;n.remoteConnections.forEach(function(r){var i,o,s,a,u,l,c,d,f=r.connectionId;if(!((i=n.remoteConnections.get(f))===null||i===void 0)&&i.stream){(o=n.remoteConnections.get(f))===null||o===void 0||o.stream.disposeWebRtcPeer(),(s=n.remoteConnections.get(f))===null||s===void 0||s.stream.disposeMediaStream(),!((a=n.remoteConnections.get(f))===null||a===void 0)&&a.stream.streamManager&&((u=n.remoteConnections.get(f))===null||u===void 0||u.stream.streamManager.removeAllVideos());var h=(c=(l=n.remoteConnections.get(f))===null||l===void 0?void 0:l.stream)===null||c===void 0?void 0:c.streamId;h&&n.remoteStreamsCreated.delete(h),(d=n.remoteConnections.get(f))===null||d===void 0||d.dispose()}n.remoteConnections.delete(f)})},t}(wk.Event);Ji.SessionDisconnectedEvent=Ok;var Ss={},xk=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ss,"__esModule",{value:!0});Ss.SignalEvent=void 0;var _k=Ye,Rk=function(e){xk(t,e);function t(n,r,i,o){var s=e.call(this,!1,n,"signal")||this;return r&&(s.type="signal:"+r),s.data=i,s.from=o,s}return t.prototype.callDefaultBehavior=function(){},t}(_k.Event);Ss.SignalEvent=Rk;var ws={},kk=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ws,"__esModule",{value:!0});ws.SpeechToTextEvent=void 0;var Pk=Ye,Ik=function(e){kk(t,e);function t(n,r,i,o,s,a){var u=e.call(this,!1,n,"speechToTextMessage")||this;return u.connection=r,u.text=i,u.reason=o,u.raw=s,u.lang=a,u}return t.prototype.callDefaultBehavior=function(){},t}(Pk.Event);ws.SpeechToTextEvent=Ik;var po={},_v;function $p(){if(_v)return po;_v=1;var e=X&&X.__extends||function(){var a=function(u,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])},a(u,l)};return function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");a(u,l);function c(){this.constructor=u}u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(po,"__esModule",{value:!0}),po.StreamEvent=void 0;var t=Ye,n=jp(),r=Cl(),i=He,o=i.OpenViduLogger.getInstance(),s=function(a){e(u,a);function u(l,c,d,f,h){var E=a.call(this,l,c,d)||this;return E.stream=f,E.reason=h,E}return u.prototype.callDefaultBehavior=function(){if(this.type==="streamDestroyed"){if(this.target instanceof r.Session)o.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'"),this.stream.disposeWebRtcPeer();else if(this.target instanceof n.Publisher){o.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Publisher'"),clearInterval(this.target.screenShareResizeInterval),this.stream.isLocalStreamReadyToPublish=!1;for(var l=this.target.openvidu.publishers,c=0;c<l.length;c++)if(l[c]===this.target){l.splice(c,1);break}}this.stream.disposeMediaStream(),this.stream.streamManager&&this.stream.streamManager.removeAllVideos(),this.stream.session.remoteStreamsCreated.delete(this.stream.streamId);var d=this.stream.session.remoteConnections.get(this.stream.connection.connectionId);if(d&&d.remoteOptions)for(var f=d.remoteOptions.streams,c=f.length-1;c>=0;--c)f[c].id===this.stream.streamId&&f.splice(c,1)}},u}(t.Event);return po.StreamEvent=s,po}var bs={},Tk=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(bs,"__esModule",{value:!0});bs.ConnectionPropertyChangedEvent=void 0;var Nk=Ye,Lk=function(e){Tk(t,e);function t(n,r,i,o,s){var a=e.call(this,!1,n,"connectionPropertyChanged")||this;return a.connection=r,a.changedProperty=i,a.newValue=o,a.oldValue=s,a}return t.prototype.callDefaultBehavior=function(){},t}(Nk.Event);bs.ConnectionPropertyChangedEvent=Lk;var Cs={},Ak=X&&X.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Cs,"__esModule",{value:!0});Cs.NetworkQualityLevelChangedEvent=void 0;var Mk=Ye,Dk=function(e){Ak(t,e);function t(n,r,i,o){var s=e.call(this,!1,n,"networkQualityLevelChanged")||this;return s.newValue=r,s.oldValue=i,s.connection=o,s}return t.prototype.callDefaultBehavior=function(){},t}(Mk.Event);Cs.NetworkQualityLevelChangedEvent=Dk;const Vk=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var CE=Vk;const $k="2.0.0",jk=256,Fk=Number.MAX_SAFE_INTEGER||9007199254740991,Uk=16;var OE={SEMVER_SPEC_VERSION:$k,MAX_LENGTH:jk,MAX_SAFE_INTEGER:Fk,MAX_SAFE_COMPONENT_LENGTH:Uk},uu={},Bk={get exports(){return uu},set exports(e){uu=e}};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n}=OE,r=CE;t=e.exports={};const i=t.re=[],o=t.src=[],s=t.t={};let a=0;const u=(l,c,d)=>{const f=a++;r(l,f,c),s[l]=f,o[f]=c,i[f]=new RegExp(c,d?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${o[s.NUMERICIDENTIFIER]}|${o[s.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${o[s.NUMERICIDENTIFIERLOOSE]}|${o[s.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${o[s.PRERELEASEIDENTIFIER]}(?:\\.${o[s.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${o[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[s.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${o[s.BUILDIDENTIFIER]}(?:\\.${o[s.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${o[s.MAINVERSION]}${o[s.PRERELEASE]}?${o[s.BUILD]}?`),u("FULL",`^${o[s.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${o[s.MAINVERSIONLOOSE]}${o[s.PRERELEASELOOSE]}?${o[s.BUILD]}?`),u("LOOSE",`^${o[s.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${o[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${o[s.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:${o[s.PRERELEASE]})?${o[s.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:${o[s.PRERELEASELOOSE]})?${o[s.BUILD]}?)?)?`),u("XRANGE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),u("COERCERTL",o[s.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${o[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${o[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${o[s.LONECARET]}${o[s.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${o[s.LONECARET]}${o[s.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${o[s.GTLT]}\\s*(${o[s.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]}|${o[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${o[s.XRANGEPLAIN]})\\s+-\\s+(${o[s.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${o[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[s.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Bk,uu);const Wk=["includePrerelease","loose","rtl"],zk=e=>e?typeof e!="object"?{loose:!0}:Wk.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{};var Hk=zk;const Rv=/^[0-9]+$/,xE=(e,t)=>{const n=Rv.test(e),r=Rv.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},qk=(e,t)=>xE(t,e);var Gk={compareIdentifiers:xE,rcompareIdentifiers:qk};const Ys=CE,{MAX_LENGTH:kv,MAX_SAFE_INTEGER:Zs}=OE,{re:Pv,t:Iv}=uu,Xk=Hk,{compareIdentifiers:ti}=Gk;let dn=class{constructor(t,n){if(n=Xk(n),t instanceof dn){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>kv)throw new TypeError(`version is longer than ${kv} characters`);Ys("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?Pv[Iv.LOOSE]:Pv[Iv.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Zs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Zs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Zs||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<Zs)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ys("SemVer.compare",this.version,this.options,t),!(t instanceof dn)){if(typeof t=="string"&&t===this.version)return 0;t=new dn(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof dn||(t=new dn(t,this.options)),ti(this.major,t.major)||ti(this.minor,t.minor)||ti(this.patch,t.patch)}comparePre(t){if(t instanceof dn||(t=new dn(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(Ys("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ti(r,i)}while(++n)}compareBuild(t){t instanceof dn||(t=new dn(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(Ys("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ti(r,i)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(ti(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};var _E=dn;const Kk=_E,Qk=(e,t)=>new Kk(e,t).major;var Jk=Qk;const Yk=_E,Zk=(e,t)=>new Yk(e,t).minor;var eP=Zk,Tv;function Cl(){if(Tv)return lo;Tv=1;var e=X&&X.__extends||function(){var U=function($,v){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,T){_.__proto__=T}||function(_,T){for(var b in T)Object.prototype.hasOwnProperty.call(T,b)&&(_[b]=T[b])},U($,v)};return function($,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");U($,v);function _(){this.constructor=$}$.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}(),t=X&&X.__awaiter||function(U,$,v,_){function T(b){return b instanceof v?b:new v(function(g){g(b)})}return new(v||(v=Promise))(function(b,g){function S(F){try{I(_.next(F))}catch(W){g(W)}}function N(F){try{I(_.throw(F))}catch(W){g(W)}}function I(F){F.done?b(F.value):T(F.value).then(S,N)}I((_=_.apply(U,$||[])).next())})},n=X&&X.__generator||function(U,$){var v={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},_,T,b,g;return g={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function S(I){return function(F){return N([I,F])}}function N(I){if(_)throw new TypeError("Generator is already executing.");for(;g&&(g=0,I[0]&&(v=0)),v;)try{if(_=1,T&&(b=I[0]&2?T.return:I[0]?T.throw||((b=T.return)&&b.call(T),0):T.next)&&!(b=b.call(T,I[1])).done)return b;switch(T=0,b&&(I=[I[0]&2,b.value]),I[0]){case 0:case 1:b=I;break;case 4:return v.label++,{value:I[1],done:!1};case 5:v.label++,T=I[1],I=[0];continue;case 7:I=v.ops.pop(),v.trys.pop();continue;default:if(b=v.trys,!(b=b.length>0&&b[b.length-1])&&(I[0]===6||I[0]===2)){v=0;continue}if(I[0]===3&&(!b||I[1]>b[0]&&I[1]<b[3])){v.label=I[1];break}if(I[0]===6&&v.label<b[1]){v.label=b[1],b=I;break}if(b&&v.label<b[2]){v.label=b[2],v.ops.push(I);break}b[2]&&v.ops.pop(),v.trys.pop();continue}I=$.call(U,v)}catch(F){I=[6,F],T=0}finally{_=b=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}};Object.defineProperty(lo,"__esModule",{value:!0}),lo.Session=void 0;var r=ds,i=qi,o=Gi,s=Ki,a=gs,u=ys,l=Es,c=Ji,d=Ss,f=ws,h=$p(),E=Vn,y=bs,O=Cs,p=qr,m=hs,w=He,x=an,k=Jk,L=eP,j=Gr,C=w.OpenViduLogger.getInstance(),M,V=function(U){e($,U);function $(v){var _=U.call(this)||this;return _.streamManagers=[],_.remoteStreamsCreated=new Map,_.remoteConnections=new Map,M=x.PlatformUtils.getInstance(),_.openvidu=v,_}return $.prototype.connect=function(v,_){var T=this;return new Promise(function(b,g){if(T.processToken(v),T.openvidu.checkSystemRequirements())T.options={sessionId:T.sessionId,participantId:v,metadata:_?T.stringClientMetadata(_):""},T.connectAux(v).then(function(){return b()}).catch(function(S){return g(S)});else return g(new p.OpenViduError(p.OpenViduErrorName.BROWSER_NOT_SUPPORTED,"Browser "+M.getName()+" (version "+M.getVersion()+") for "+M.getFamily()+" is not supported in OpenVidu"))})},$.prototype.disconnect=function(){this.leave(!1,"disconnect")},$.prototype.subscribe=function(v,_,T,b){var g={};T&&typeof T!="function"?g={insertMode:typeof T.insertMode<"u"?typeof T.insertMode=="string"?m.VideoInsertMode[T.insertMode]:g.insertMode:m.VideoInsertMode.APPEND,subscribeToAudio:typeof T.subscribeToAudio<"u"?T.subscribeToAudio:!0,subscribeToVideo:typeof T.subscribeToVideo<"u"?T.subscribeToVideo:!0}:g={insertMode:m.VideoInsertMode.APPEND,subscribeToAudio:!0,subscribeToVideo:!0};var S=void 0;if(T&&typeof T=="function"?S=T:b&&(S=b),!this.sessionConnected())throw S!==void 0&&S(this.notConnectedError()),this.notConnectedError();C.info("Subscribing to "+v.connection.connectionId),v.subscribe().then(function(){C.info("Subscribed correctly to "+v.connection.connectionId),S!==void 0&&S(void 0)}).catch(function(I){S!==void 0&&S(I)});var N=new o.Subscriber(v,_,g);return N.targetElement&&v.streamManager.createVideoElement(N.targetElement,g.insertMode),N},$.prototype.subscribeAsync=function(v,_,T){var b=this;return new Promise(function(g,S){if(!b.sessionConnected())return S(b.notConnectedError());var N,I=function(F){return F?S(F):g(N)};T?N=b.subscribe(v,_,T,I):N=b.subscribe(v,_,I)})},$.prototype.unsubscribe=function(v){var _=this;return new Promise(function(T,b){if(_.sessionConnected()){var g=v.stream.connection.connectionId;C.info("Unsubscribing from "+g),_.openvidu.sendRequest("unsubscribeFromVideo",{sender:v.stream.connection.connectionId},function(S,N){return S?(C.error("Error unsubscribing from "+g),b(S)):(C.info("Unsubscribed correctly from "+g),v.stream.streamManager.removeAllVideos(),v.stream.disposeWebRtcPeer(),v.stream.disposeMediaStream(),T())})}else return b(_.notConnectedError())})},$.prototype.publish=function(v){var _=this;return new Promise(function(T,b){if(!_.sessionConnected())return b(_.notConnectedError());v.session=_,v.stream.session=_,v.stream.publishedOnce?v.initialize().then(function(){_.connection.addStream(v.stream),v.reestablishStreamPlayingEvent(),v.stream.publish().then(function(){return _.sendVideoData(v,8,!0,5),T()}).catch(function(g){return b(g)})}).catch(function(g){return b(g)}):(_.connection.addStream(v.stream),v.stream.publish().then(function(){return _.sendVideoData(v,8,!0,5),T()}).catch(function(g){return b(g)}))})},$.prototype.unpublish=function(v){var _=this;return new Promise(function(T,b){if(!_.sessionConnected())throw _.notConnectedError();var g=v.stream;if(g.connection){if(g.connection!==_.connection)return b(new Error("The associated Connection object of this Publisher is not your local Connection.  Only moderators can force unpublish on remote Streams via 'forceUnpublish' method"));C.info("Unpublishing local media ("+g.connection.connectionId+")"),_.openvidu.sendRequest("unpublishVideo",function(S,N){if(S)return b(S);C.info("Media unpublished correctly"),g.disposeWebRtcPeer(),g.connection.stream==g&&delete g.connection.stream;var I=new h.StreamEvent(!0,v,"streamDestroyed",v.stream,"unpublish");return v.emitEvent("streamDestroyed",[I]),I.callDefaultBehavior(),T()})}else return b(new Error("The associated Connection object of this Publisher is null"))})},$.prototype.forceDisconnect=function(v){var _=this;return new Promise(function(T,b){if(!_.sessionConnected())return b(_.notConnectedError());C.info("Forcing disconnect for connection "+v.connectionId),_.openvidu.sendRequest("forceDisconnect",{connectionId:v.connectionId},function(g,S){return g?(C.error("Error forcing disconnect for Connection "+v.connectionId,g),g.code===401?b(new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force a disconnection")):b(g)):(C.info("Forcing disconnect correctly for Connection "+v.connectionId),T())})})},$.prototype.forceUnpublish=function(v){var _=this;return new Promise(function(T,b){if(!_.sessionConnected())return b(_.notConnectedError());C.info("Forcing unpublish for stream "+v.streamId),_.openvidu.sendRequest("forceUnpublish",{streamId:v.streamId},function(g,S){return g?(C.error("Error forcing unpublish for Stream "+v.streamId,g),g.code===401?b(new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force an unpublishing")):b(g)):(C.info("Forcing unpublish correctly for Stream "+v.streamId),T())})})},$.prototype.signal=function(v){var _=this;return new Promise(function(T,b){if(!_.sessionConnected())return b(_.notConnectedError());var g={};if(v.to&&v.to.length>0){var S=[];v.to.forEach(function(I){I.connectionId&&S.push(I.connectionId)}),g.to=S}else g.to=[];g.data=v.data?v.data:"";var N=v.type?v.type:"signal";N&&N.substring(0,7)!=="signal:"&&(N="signal:"+N),g.type=N,_.openvidu.sendRequest("sendMessage",{message:JSON.stringify(g)},function(I,F){return I?b(I):T()})})},$.prototype.subscribeToSpeechToText=function(v,_){var T=this;return new Promise(function(b,g){T.openvidu.sendRequest("subscribeToSpeechToText",{connectionId:v.connection.connectionId,lang:_},function(S,N){return S?g(S):b()})})},$.prototype.unsubscribeFromSpeechToText=function(v){var _=this;return new Promise(function(T,b){_.openvidu.sendRequest("unsubscribeFromSpeechToText",{connectionId:v.connection.connectionId},function(g,S){return g?b(g):T()})})},$.prototype.on=function(v,_){var T,b,g,S;return U.prototype.onAux.call(this,v,"Event '"+v+"' triggered by 'Session'",_),v==="publisherStartSpeaking"&&(this.remoteConnections.forEach(function(N){var I;!((I=N.stream)===null||I===void 0)&&I.hasAudio&&N.stream.enableHarkSpeakingEvent()}),!((b=(T=this.connection)===null||T===void 0?void 0:T.stream)===null||b===void 0)&&b.hasAudio&&this.connection.stream.enableHarkSpeakingEvent()),v==="publisherStopSpeaking"&&(this.remoteConnections.forEach(function(N){var I;!((I=N.stream)===null||I===void 0)&&I.hasAudio&&N.stream.enableHarkStoppedSpeakingEvent()}),!((S=(g=this.connection)===null||g===void 0?void 0:g.stream)===null||S===void 0)&&S.hasAudio&&this.connection.stream.enableHarkStoppedSpeakingEvent()),this},$.prototype.once=function(v,_){var T,b,g,S;return U.prototype.onceAux.call(this,v,"Event '"+v+"' triggered once by 'Session'",_),v==="publisherStartSpeaking"&&(this.remoteConnections.forEach(function(N){var I;!((I=N.stream)===null||I===void 0)&&I.hasAudio&&N.stream.enableOnceHarkSpeakingEvent()}),!((b=(T=this.connection)===null||T===void 0?void 0:T.stream)===null||b===void 0)&&b.hasAudio&&this.connection.stream.enableOnceHarkSpeakingEvent()),v==="publisherStopSpeaking"&&(this.remoteConnections.forEach(function(N){var I;!((I=N.stream)===null||I===void 0)&&I.hasAudio&&N.stream.enableOnceHarkStoppedSpeakingEvent()}),!((S=(g=this.connection)===null||g===void 0?void 0:g.stream)===null||S===void 0)&&S.hasAudio&&this.connection.stream.enableOnceHarkStoppedSpeakingEvent()),this},$.prototype.off=function(v,_){var T=this,b,g,S,N;return U.prototype.offAux.call(this,v,_),v==="publisherStartSpeaking"&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1)||(this.remoteConnections.forEach(function(I){var F;!((F=I.stream)===null||F===void 0)&&F.streamManager&&(T.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,I.stream.streamManager)||I.stream.disableHarkSpeakingEvent(!1))}),!((g=(b=this.connection)===null||b===void 0?void 0:b.stream)===null||g===void 0)&&g.streamManager&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkSpeakingEvent(!1)))),v==="publisherStopSpeaking"&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1)||(this.remoteConnections.forEach(function(I){var F;!((F=I.stream)===null||F===void 0)&&F.streamManager&&(T.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,I.stream.streamManager)||I.stream.disableHarkStoppedSpeakingEvent(!1))}),!((N=(S=this.connection)===null||S===void 0?void 0:S.stream)===null||N===void 0)&&N.streamManager&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkStoppedSpeakingEvent(!1)))),this},$.prototype.onParticipantJoined=function(v){var _=this;this.getConnection(v.id,"").then(function(T){C.warn("Connection "+T.connectionId+" already exists in connections list")}).catch(function(T){var b=new r.Connection(_,v);_.remoteConnections.set(v.id,b),_.ee.emitEvent("connectionCreated",[new a.ConnectionEvent(!1,_,"connectionCreated",b,"")])})},$.prototype.onParticipantLeft=function(v){var _=this;this.getRemoteConnection(v.connectionId,"onParticipantLeft").then(function(T){if(T.stream){var b=T.stream,g=new h.StreamEvent(!0,_,"streamDestroyed",b,v.reason);_.ee.emitEvent("streamDestroyed",[g]),g.callDefaultBehavior(),_.remoteStreamsCreated.delete(b.streamId)}T.dispose(),_.remoteConnections.delete(T.connectionId),_.ee.emitEvent("connectionDestroyed",[new a.ConnectionEvent(!1,_,"connectionDestroyed",T,v.reason)])}).catch(function(T){C.error(T)})},$.prototype.onParticipantPublished=function(v){var _=this,T=function(g){_.remoteConnections.set(g.connectionId,g),_.remoteStreamsCreated.get(g.stream.streamId)||_.ee.emitEvent("streamCreated",[new h.StreamEvent(!1,_,"streamCreated",g.stream,"")]),_.remoteStreamsCreated.set(g.stream.streamId,!0)},b;this.getRemoteConnection(v.id,"onParticipantPublished").then(function(g){b=g,v.metadata=g.data,b.remoteOptions=v,b.initRemoteStreams(v.streams),T(b)}).catch(function(g){b=new r.Connection(_,v),T(b)})},$.prototype.onParticipantUnpublished=function(v){var _=this;v.connectionId===this.connection.connectionId?this.stopPublisherStream(v.reason):this.getRemoteConnection(v.connectionId,"onParticipantUnpublished").then(function(T){var b=new h.StreamEvent(!0,_,"streamDestroyed",T.stream,v.reason);if(_.ee.emitEvent("streamDestroyed",[b]),b.callDefaultBehavior(),T.stream!=null){var g=T.stream.streamId;_.remoteStreamsCreated.delete(g),T.removeStream()}}).catch(function(T){C.error(T)})},$.prototype.onParticipantEvicted=function(v){v.connectionId===this.connection.connectionId&&this.sessionId&&!this.connection.disposed&&this.leave(!0,v.reason)},$.prototype.onNewMessage=function(v){var _=this;C.info("New signal: "+JSON.stringify(v));var T=v.type?v.type.replace(/^(signal:)/,""):void 0;v.from?this.getConnection(v.from,"Connection '"+v.from+"' unknown when 'onNewMessage'. Existing remote connections: "+JSON.stringify(this.remoteConnections.keys())+". Existing local connection: "+this.connection.connectionId).then(function(b){_.ee.emitEvent("signal",[new d.SignalEvent(_,T,v.data,b)]),v.type&&v.type!=="signal"&&_.ee.emitEvent(v.type,[new d.SignalEvent(_,T,v.data,b)])}).catch(function(b){C.error(b)}):(this.ee.emitEvent("signal",[new d.SignalEvent(this,T,v.data,void 0)]),v.type&&v.type!=="signal"&&this.ee.emitEvent(v.type,[new d.SignalEvent(this,T,v.data,void 0)]))},$.prototype.onStreamPropertyChanged=function(v){var _=this,T=function(b){if(b.stream&&b.stream.streamId===v.streamId){var g=b.stream,S=void 0;switch(v.property){case"audioActive":S=g.audioActive,v.newValue=v.newValue==="true",g.audioActive=v.newValue;break;case"videoActive":S=g.videoActive,v.newValue=v.newValue==="true",g.videoActive=v.newValue;break;case"videoTrack":v.newValue=JSON.parse(v.newValue);break;case"audioTrack":v.newValue=JSON.parse(v.newValue);break;case"videoDimensions":S=g.videoDimensions,v.newValue=JSON.parse(JSON.parse(v.newValue)),g.videoDimensions=v.newValue;break;case"filter":S=g.filter,v.newValue=Object.keys(v.newValue).length>0?v.newValue:void 0,v.newValue!==void 0?(g.filter=new i.Filter(v.newValue.type,v.newValue.options),g.filter.stream=g,v.newValue.lastExecMethod&&(g.filter.lastExecMethod=v.newValue.lastExecMethod)):delete g.filter,v.newValue=g.filter;break}_.ee.emitEvent("streamPropertyChanged",[new E.StreamPropertyChangedEvent(_,g,v.property,v.newValue,S,v.reason)]),g.streamManager&&g.streamManager.emitEvent("streamPropertyChanged",[new E.StreamPropertyChangedEvent(g.streamManager,g,v.property,v.newValue,S,v.reason)])}else C.error("No stream with streamId '"+v.streamId+"' found for connection '"+v.connectionId+"' on 'streamPropertyChanged' event")};v.connectionId===this.connection.connectionId?T(this.connection):this.getRemoteConnection(v.connectionId,"onStreamPropertyChanged").then(function(b){T(b)}).catch(function(b){C.error(b)})},$.prototype.onConnectionPropertyChanged=function(v){var _;switch(v.property){case"role":_=this.connection.role.slice(),this.connection.role=v.newValue,this.connection.localOptions.role=v.newValue;break;case"record":_=this.connection.record,v.newValue=v.newValue==="true",this.connection.record=v.newValue,this.connection.localOptions.record=v.newValue;break}this.ee.emitEvent("connectionPropertyChanged",[new y.ConnectionPropertyChangedEvent(this,this.connection,v.property,v.newValue,_)])},$.prototype.onNetworkQualityLevelChangedChanged=function(v){var _=this;v.connectionId===this.connection.connectionId?this.ee.emitEvent("networkQualityLevelChanged",[new O.NetworkQualityLevelChangedEvent(this,v.newValue,v.oldValue,this.connection)]):this.getConnection(v.connectionId,"Connection not found for connectionId "+v.connectionId).then(function(T){_.ee.emitEvent("networkQualityLevelChanged",[new O.NetworkQualityLevelChangedEvent(_,v.newValue,v.oldValue,T)])}).catch(function(T){C.error(T)})},$.prototype.recvIceCandidate=function(v){var _={candidate:v.candidate,sdpMLineIndex:v.sdpMLineIndex,sdpMid:v.sdpMid},T=new RTCIceCandidate(_);this.getConnection(v.senderConnectionId,"Connection not found for connectionId "+v.senderConnectionId+" owning endpoint "+v.endpointName+". Ice candidate will be ignored: "+T).then(function(b){var g=b.stream;g.getWebRtcPeer().addIceCandidate(T).catch(function(S){C.error("Error adding candidate for "+g.streamId+" stream of endpoint "+v.endpointName+": "+S)})}).catch(function(b){C.error(b)})},$.prototype.onSessionClosed=function(v){C.info("Session closed: "+JSON.stringify(v));var _=v.sessionId;_!==void 0?this.ee.emitEvent("session-closed",[{session:_}]):C.warn("Session undefined on session closed",v)},$.prototype.onLostConnection=function(v){C.warn("Lost connection in Session "+this.sessionId),this.sessionId&&this.connection&&!this.connection.disposed&&this.leave(!0,v)},$.prototype.onRecoveredConnection=function(){C.info("Recovered connection in Session "+this.sessionId),this.reconnectBrokenStreams(),this.ee.emitEvent("reconnected",[])},$.prototype.onMediaError=function(v){C.error("Media error: "+JSON.stringify(v));var _=v.error;_?this.ee.emitEvent("error-media",[{error:_}]):C.warn("Received undefined media error:",v)},$.prototype.onRecordingStarted=function(v){this.ee.emitEvent("recordingStarted",[new l.RecordingEvent(this,"recordingStarted",v.id,v.name)])},$.prototype.onRecordingStopped=function(v){this.ee.emitEvent("recordingStopped",[new l.RecordingEvent(this,"recordingStopped",v.id,v.name,v.reason)])},$.prototype.onFilterEventDispatched=function(v){var _=this,T=v.connectionId;this.getConnection(T,"No connection found for connectionId "+T).then(function(b){C.info('Filter event of type "'.concat(v.eventType,'" dispatched'));var g=b.stream;if(!g||!g.filter)return C.error('Filter event of type "'.concat(v.eventType,'" dispatched for stream ').concat(g.streamId," but there is no ").concat(g?"filter":"stream"," defined"));var S=g.filter.handlers.get(v.eventType);if(!S||typeof S!="function"){var N=Array.from(g.filter.handlers.keys());return C.error('Filter event of type "'.concat(v.eventType,'" not handled or not a function! Active filter events: ').concat(N.join(",")))}else S.call(_,new u.FilterEvent(g.filter,v.eventType,v.data))})},$.prototype.onForciblyReconnectSubscriber=function(v){var _=this;return new Promise(function(T,b){_.getRemoteConnection(v.connectionId,"onForciblyReconnectSubscriber").then(function(g){if(g.stream&&g.stream.streamId===v.streamId){var S=g.stream;if(S.setupReconnectionEventEmitter(T,b)){if(S.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent!=null)return S.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=v,b("Ongoing forced subscriber reconnection");S.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=v;var N=function(){var F=S.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent;delete S.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent,_.onForciblyReconnectSubscriber(F)};S.reconnectionEventEmitter.once("success",function(){N()}),S.reconnectionEventEmitter.once("error",function(){N()});return}S.completeWebRtcPeerReceive(!0,!0,v.sdpOffer).then(function(){return S.finalResolveForSubscription(!0,T)}).catch(function(F){return S.finalRejectForSubscription(!0,"Error while forcibly reconnecting remote stream ".concat(v.streamId,": ").concat(F.toString()),b)})}else{var I="No stream with streamId '"+v.streamId+"' found for connection '"+v.connectionId+"' on 'streamPropertyChanged' event";return C.error(I),b(I)}}).catch(function(g){return C.error(g),b(g)})})},$.prototype.reconnectBrokenStreams=function(){C.info("Re-establishing media connections...");var v=!1;this.connection.stream&&this.connection.stream.streamIceConnectionStateBroken()&&(C.warn("Re-establishing Publisher "+this.connection.stream.streamId),this.connection.stream.initWebRtcPeerSend(!0),v=!0),this.remoteConnections.forEach(function(_){_.stream&&_.stream.streamIceConnectionStateBroken()&&(C.warn("Re-establishing Subscriber "+_.stream.streamId),_.stream.initWebRtcPeerReceive(!0),v=!0)}),v||C.info("There were no media streams in need of a reconnection")},$.prototype.onSpeechToTextMessage=function(v){return t(this,void 0,void 0,function(){var _,T;return n(this,function(b){switch(b.label){case 0:return[4,this.getConnection(v.connectionId,"No connection found for connectionId "+v.connectionId)];case 1:return _=b.sent(),T=new f.SpeechToTextEvent(this,_,v.text,v.reason.toLowerCase(),v.raw,v.lang),this.ee.emitEvent("speechToTextMessage",[T]),[2]}})})},$.prototype.onSpeechToTextDisconnected=function(v){return t(this,void 0,void 0,function(){return n(this,function(_){return this.emitEvent("exception",[new j.ExceptionEvent(this,j.ExceptionEventName.SPEECH_TO_TEXT_DISCONNECTED,this,v.message)]),[2]})})},$.prototype.emitEvent=function(v,_){this.ee.emitEvent(v,_)},$.prototype.leave=function(v,_){var T=this;if(v=!!v,C.info("Leaving Session (forced="+v+")"),this.stopVideoDataIntervals(),this.connection){if(!this.connection.disposed&&!v?this.openvidu.sendRequest("leaveRoom",function(g,S){g&&C.error("leaveRoom error: ".concat(JSON.stringify(g))),T.openvidu.closeWs()}):this.openvidu.closeWs(),this.stopPublisherStream(_),!this.connection.disposed){var b=new c.SessionDisconnectedEvent(this,_);this.ee.emitEvent("sessionDisconnected",[b]),b.callDefaultBehavior()}}else C.warn("You were not connected to the session "+this.sessionId);C.flush()},$.prototype.initializeParams=function(v){var _={token:v||"",session:this.sessionId,platform:M.getDescription()?M.getDescription():"unknown",sdkVersion:this.openvidu.libraryVersion,metadata:this.options.metadata?this.options.metadata:"",secret:this.openvidu.getSecret(),recorder:this.openvidu.getRecorder(),stt:this.openvidu.getStt()};return _},$.prototype.sendVideoData=function(v,_,T,b){var g=this,S,N;if(_===void 0&&(_=1),T===void 0&&(T=!1),b===void 0&&(b=1),M.isChromeBrowser()||M.isChromeMobileBrowser()||M.isOperaBrowser()||M.isOperaMobileBrowser()||M.isEdgeBrowser()||M.isEdgeMobileBrowser()||M.isElectron()||M.isSafariBrowser()&&!M.isIonicIos()||M.isAndroidBrowser()||M.isSamsungBrowser()||M.isIonicAndroid()||M.isIOSWithSafari()){var I=function(){return t(g,void 0,void 0,function(){var W,Y,G;return n(this,function(oe){switch(oe.label){case 0:return W=v.stream.getRTCPeerConnection(),W.connectionState!=="connected"?[3,2]:[4,W.getStats()];case 1:Y=oe.sent(),G=[],Y.forEach(function(P){"frameWidth"in P&&"frameHeight"in P&&G.length===0&&G.push(P)}),G.length>0&&this.openvidu.sendRequest("videoData",{height:G[0].frameHeight,width:G[0].frameWidth,videoActive:v.stream.videoActive!=null?v.stream.videoActive:!1,audioActive:v.stream.audioActive!=null?v.stream.audioActive:!1},function(P,se){P&&C.error("Error sending 'videoData' event",P)}),oe.label=2;case 2:return[2]}})})};if(T){var F=1;this.videoDataInterval=setInterval(function(){F<b?(F++,I()):clearInterval(g.videoDataInterval)},_*1e3)}else this.videoDataTimeout=setTimeout(I,_*1e3)}else M.isFirefoxBrowser()||M.isFirefoxMobileBrowser()||M.isIonicIos()||M.isReactNative()?this.openvidu.sendRequest("videoData",{height:((S=v.stream.videoDimensions)===null||S===void 0?void 0:S.height)||0,width:((N=v.stream.videoDimensions)===null||N===void 0?void 0:N.width)||0,videoActive:v.stream.videoActive!=null?v.stream.videoActive:!1,audioActive:v.stream.audioActive!=null?v.stream.audioActive:!1},function(W,Y){W&&C.error("Error sending 'videoData' event",W)}):C.error("Browser "+M.getName()+" (version "+M.getVersion()+") for "+M.getFamily()+" is not supported in OpenVidu for Network Quality")},$.prototype.sessionConnected=function(){return this.connection!=null},$.prototype.notConnectedError=function(){return new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_NOT_CONNECTED,"There is no connection to the session. Method 'Session.connect' must be successfully completed first")},$.prototype.anySpeechEventListenerEnabled=function(v,_,T){var b=this.ee.getListeners(v);_&&(b=b.filter(function(I){return I.once}));var g=b.length;if(g>0)return!0;var S=0;if(T){var N=T.ee.getListeners(v);_&&(N=N.filter(function(I){return I.once})),S=N.length}return S>0},$.prototype.getTokenParams=function(v){var _=v.match(/^(wss?)\:\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(_){var T={protocol:_[1],host:_[2],hostname:_[3],port:_[4],pathname:_[5],search:_[6],hash:_[7]},b=v.split("?"),g=decodeURI(b[1]).split("&").map(function(S){return S.split("=")}).reduce(function(S,N){var I=N[0],F=N[1];return S[I]=F,S},{});return{sessionId:g.sessionId,secret:g.secret,recorder:g.recorder,stt:g.stt,webrtcStatsInterval:g.webrtcStatsInterval,sendBrowserLogs:g.sendBrowserLogs,edition:g.edition,wsUri:T.protocol+"://"+T.host+"/openvidu",httpUri:"https://"+T.host}}else throw new Error('Token not valid: "'.concat(v,'"'))},$.prototype.connectAux=function(v){var _=this;return new Promise(function(T,b){_.openvidu.startWs(function(g){if(g)return b(g);var S=_.initializeParams(v);_.openvidu.sendRequest("joinRoom",S,function(N,I){if(N)return b(N);_.processJoinRoomResponse(I,v),_.connection=new r.Connection(_,I);var F={connections:new Array,streams:new Array},W=I.value;return W.forEach(function(Y){var G=new r.Connection(_,Y);_.remoteConnections.set(G.connectionId,G),F.connections.push(G),G.stream&&(_.remoteStreamsCreated.set(G.stream.streamId,!0),F.streams.push(G.stream))}),_.ee.emitEvent("connectionCreated",[new a.ConnectionEvent(!1,_,"connectionCreated",_.connection,"")]),F.connections.forEach(function(Y){_.ee.emitEvent("connectionCreated",[new a.ConnectionEvent(!1,_,"connectionCreated",Y,"")])}),F.streams.forEach(function(Y){_.ee.emitEvent("streamCreated",[new h.StreamEvent(!1,_,"streamCreated",Y,"")])}),I.recordingId&&I.recordingName&&_.ee.emitEvent("recordingStarted",[new l.RecordingEvent(_,"recordingStarted",I.recordingId,I.recordingName)]),T()})})})},$.prototype.stopPublisherStream=function(v){this.connection.stream&&(this.connection.stream.disposeWebRtcPeer(),this.connection.stream.isLocalStreamPublished&&this.connection.stream.ee.emitEvent("local-stream-destroyed",[v]))},$.prototype.stopVideoDataIntervals=function(){clearInterval(this.videoDataInterval),clearTimeout(this.videoDataTimeout)},$.prototype.stringClientMetadata=function(v){return typeof v!="string"?JSON.stringify(v):v},$.prototype.getConnection=function(v,_){var T=this;return new Promise(function(b,g){var S=T.remoteConnections.get(v);return S?b(S):T.connection.connectionId===v?b(T.connection):g(new p.OpenViduError(p.OpenViduErrorName.GENERIC_ERROR,_))})},$.prototype.getRemoteConnection=function(v,_){var T=this;return new Promise(function(b,g){var S=T.remoteConnections.get(v);if(S)return b(S);var N="Remote connection "+v+" unknown when '"+_+"'. Existing remote connections: "+JSON.stringify(T.remoteConnections.keys());return g(new p.OpenViduError(p.OpenViduErrorName.GENERIC_ERROR,N))})},$.prototype.processToken=function(v){var _=this.getTokenParams(v);this.sessionId=_.sessionId,_.secret&&(this.openvidu.secret=_.secret),_.recorder&&(this.openvidu.recorder=!0),_.stt&&(this.openvidu.stt=!0),_.webrtcStatsInterval&&(this.openvidu.webrtcStatsInterval=_.webrtcStatsInterval),_.sendBrowserLogs&&(this.openvidu.sendBrowserLogs=_.sendBrowserLogs),this.openvidu.isAtLeastPro=_.edition==="pro"||_.edition==="enterprise",this.openvidu.isEnterprise=_.edition==="enterprise",this.openvidu.wsUri=_.wsUri,this.openvidu.httpUri=_.httpUri},$.prototype.processJoinRoomResponse=function(v,_){if(this.sessionId=v.session,v.customIceServers!=null&&v.customIceServers.length>0){this.openvidu.iceServers=[];for(var T=0,b=v.customIceServers;T<b.length;T++){var g=b[T],S={urls:[g.url]};C.log("STUN/TURN server IP: "+g.url),g.username!=null&&g.credential!=null&&(S.username=g.username,S.credential=g.credential,C.log("TURN credentials ["+g.username+":"+g.credential+"]")),this.openvidu.iceServers.push(S)}}this.openvidu.role=v.role,this.openvidu.finalUserId=v.finalUserId,this.openvidu.mediaServer=v.mediaServer,this.openvidu.videoSimulcast=v.videoSimulcast,this.capabilities={subscribe:!0,publish:this.openvidu.role!=="SUBSCRIBER",forceUnpublish:this.openvidu.role==="MODERATOR",forceDisconnect:this.openvidu.role==="MODERATOR"},C.info("openvidu-server version: "+v.version),v.life!=null&&(this.openvidu.life=v.life);var N=L(v.version)-L(this.openvidu.libraryVersion);k(v.version)!==k(this.openvidu.libraryVersion)||!(N==0||N==1)?C.error("openvidu-browser (".concat(this.openvidu.libraryVersion,") and openvidu-server (").concat(v.version,") versions are incompatible. ")+"Errors are likely to occur. openvidu-browser SDK is only compatible with the same version or the immediately following minor version of an OpenVidu deployment"):N==1&&C.warn("openvidu-browser version ".concat(this.openvidu.libraryVersion," does not match openvidu-server version ").concat(v.version,". ")+"These versions are still compatible with each other, but openvidu-browser version must be updated as soon as possible to ".concat(k(v.version),".").concat(L(v.version),".x. ")+"This client using openvidu-browser ".concat(this.openvidu.libraryVersion," will become incompatible with the next release of openvidu-server")),w.OpenViduLogger.configureJSNLog(this.openvidu,_),this.token=_},$}(s.EventDispatcher);return lo.Session=V,lo}var Nv;function jp(){if(Nv)return uo;Nv=1;var e=X&&X.__extends||function(){var y=function(O,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(m[x]=w[x])},y(O,p)};return function(O,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");y(O,p);function m(){this.constructor=O}O.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),t=X&&X.__awaiter||function(y,O,p,m){function w(x){return x instanceof p?x:new p(function(k){k(x)})}return new(p||(p=Promise))(function(x,k){function L(M){try{C(m.next(M))}catch(V){k(V)}}function j(M){try{C(m.throw(M))}catch(V){k(V)}}function C(M){M.done?x(M.value):w(M.value).then(L,j)}C((m=m.apply(y,O||[])).next())})},n=X&&X.__generator||function(y,O){var p={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},m,w,x,k;return k={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function L(C){return function(M){return j([C,M])}}function j(C){if(m)throw new TypeError("Generator is already executing.");for(;k&&(k=0,C[0]&&(p=0)),p;)try{if(m=1,w&&(x=C[0]&2?w.return:C[0]?w.throw||((x=w.return)&&x.call(w),0):w.next)&&!(x=x.call(w,C[1])).done)return x;switch(w=0,x&&(C=[C[0]&2,x.value]),C[0]){case 0:case 1:x=C;break;case 4:return p.label++,{value:C[1],done:!1};case 5:p.label++,w=C[1],C=[0];continue;case 7:C=p.ops.pop(),p.trys.pop();continue;default:if(x=p.trys,!(x=x.length>0&&x[x.length-1])&&(C[0]===6||C[0]===2)){p=0;continue}if(C[0]===3&&(!x||C[1]>x[0]&&C[1]<x[3])){p.label=C[1];break}if(C[0]===6&&p.label<x[1]){p.label=x[1],x=C;break}if(x&&p.label<x[2]){p.label=x[2],p.ops.push(C);break}x[2]&&p.ops.pop(),p.trys.pop();continue}C=O.call(y,p)}catch(M){C=[6,M],w=0}finally{m=x=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(uo,"__esModule",{value:!0}),uo.Publisher=void 0;var r=Cl(),i=Hi,o=Xi,s=$p(),a=Vn,u=qr,l=He,c=an,d=bl,f=l.OpenViduLogger.getInstance(),h,E=function(y){e(O,y);function O(p,m,w){var x=y.call(this,new i.Stream(w.session?w.session:new r.Session(w),{publisherProperties:m,mediaConstraints:{}}),p)||this;return x.accessAllowed=!1,x.isSubscribedToRemote=!1,x.accessDenied=!1,h=c.PlatformUtils.getInstance(),x.properties=m,x.openvidu=w,x.stream.ee.on("local-stream-destroyed",function(k){x.stream.isLocalStreamPublished=!1;var L=new s.StreamEvent(!0,x,"streamDestroyed",x.stream,k);x.emitEvent("streamDestroyed",[L]),L.callDefaultBehavior()}),x}return O.prototype.publishAudio=function(p){var m=this;if(this.stream.audioActive!==p){var w=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream();w.getAudioTracks().forEach(function(x){x.enabled=p}),this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"audioActive",newValue:p,reason:"publishAudio"},function(x,k){x?f.error("Error sending 'streamPropertyChanged' event",x):(m.session.emitEvent("streamPropertyChanged",[new a.StreamPropertyChangedEvent(m.session,m.stream,"audioActive",p,!p,"publishAudio")]),m.emitEvent("streamPropertyChanged",[new a.StreamPropertyChangedEvent(m,m.stream,"audioActive",p,!p,"publishAudio")]),m.session.sendVideoData(m.stream.streamManager))}),this.stream.audioActive=p,f.info("'Publisher' has "+(p?"published":"unpublished")+" its audio stream")}},O.prototype.publishVideo=function(p,m){var w=this;return new Promise(function(x,k){return t(w,void 0,void 0,function(){var L,j,C,M,V,U,$=this;return n(this,function(v){switch(v.label){case 0:return this.stream.videoActive===p?[3,9]:(L=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),j=!1,L.getVideoTracks().forEach(function(_){_.enabled=p,!p&&m===!0?_.stop():p&&_.readyState==="ended"&&(j=!0)}),!p&&m===!0&&this.stream.filter&&this.stream.filter.type.startsWith("VB:")?(this.stream.lastVBFilter=this.stream.filter,[4,this.stream.removeFilterAux(!0)]):[3,2]);case 1:v.sent(),v.label=2;case 2:return j?(C=L.getVideoTracks()[0],L.removeTrack(C),M=function(_){return t($,void 0,void 0,function(){var T=this;return n(this,function(b){switch(b.label){case 0:return L.addTrack(_),this.stream.isLocalStreamPublished?[4,this.replaceTrackInRtcRtpSender(_)]:[3,2];case 1:b.sent(),b.label=2;case 2:return this.stream.lastVBFilter&&setTimeout(function(){return t(T,void 0,void 0,function(){var g,S;return n(this,function(N){switch(N.label){case 0:return g=this.stream.lastVBFilter.options,S=this.stream.lastVBFilter.lastExecMethod,S&&S.method==="update"&&(g=Object.assign({},g,S.params)),[4,this.stream.applyFilter(this.stream.lastVBFilter.type,g)];case 1:return N.sent(),delete this.stream.lastVBFilter,[2]}})})},1),[2]}})})},m&&m instanceof MediaStreamTrack?[4,M(m)]:[3,4]):[3,8];case 3:return v.sent(),[3,8];case 4:return v.trys.push([4,7,,8]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:this.stream.lastVideoTrackConstraints})];case 5:return V=v.sent(),[4,M(V.getVideoTracks()[0])];case 6:return v.sent(),[3,8];case 7:return U=v.sent(),[2,k(U)];case 8:return this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"videoActive",newValue:p,reason:"publishVideo"},function(_,T){_?f.error("Error sending 'streamPropertyChanged' event",_):($.session.emitEvent("streamPropertyChanged",[new a.StreamPropertyChangedEvent($.session,$.stream,"videoActive",p,!p,"publishVideo")]),$.emitEvent("streamPropertyChanged",[new a.StreamPropertyChangedEvent($,$.stream,"videoActive",p,!p,"publishVideo")]),$.session.sendVideoData($.stream.streamManager))}),this.stream.videoActive=p,f.info("'Publisher' has "+(p?"published":"unpublished")+" its video stream"),[2,x()];case 9:return[2]}})})})},O.prototype.subscribeToRemote=function(p){p=p!==void 0?p:!0,this.isSubscribedToRemote=p,this.stream.subscribeToMyRemote(p)},O.prototype.on=function(p,m){var w=this;return y.prototype.on.call(this,p,m),p==="streamCreated"&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new s.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.on("stream-created-by-publisher",function(){w.emitEvent("streamCreated",[new s.StreamEvent(!1,w,"streamCreated",w.stream,"")])})),p==="accessAllowed"&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),p==="accessDenied"&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},O.prototype.once=function(p,m){var w=this;return y.prototype.once.call(this,p,m),p==="streamCreated"&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new s.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.once("stream-created-by-publisher",function(){w.emitEvent("streamCreated",[new s.StreamEvent(!1,w,"streamCreated",w.stream,"")])})),p==="accessAllowed"&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),p==="accessDenied"&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},O.prototype.off=function(p,m){return y.prototype.off.call(this,p,m),this},O.prototype.replaceTrack=function(p){return t(this,void 0,void 0,function(){return n(this,function(m){return[2,this.replaceTrackAux(p,!0)]})})},O.prototype.initialize=function(){var p=this;return new Promise(function(m,w){return t(p,void 0,void 0,function(){var x,k,L,j,C,M,V,U,$,v,_,T,T,b,g,S=this,N,I;return n(this,function(F){switch(F.label){case 0:x={},k={},L=2e3,C=function(W){return S.accessDenied=!0,S.accessAllowed=!1,f.error("Publisher initialization failed. ".concat(W.name,": ").concat(W.message)),w(W)},M=function(W){var Y,G;if(S.accessAllowed=!0,S.accessDenied=!1,typeof MediaStreamTrack<"u"&&S.properties.audioSource instanceof MediaStreamTrack&&(W.removeTrack(W.getAudioTracks()[0]),W.addTrack(S.properties.audioSource)),typeof MediaStreamTrack<"u"&&S.properties.videoSource instanceof MediaStreamTrack&&(W.removeTrack(W.getVideoTracks()[0]),W.addTrack(S.properties.videoSource)),W.getAudioTracks()[0]){var oe=S.stream.audioActive!==void 0&&S.stream.audioActive!==null?S.stream.audioActive:!!S.stream.outboundStreamOpts.publisherProperties.publishAudio;W.getAudioTracks()[0].enabled=oe}if(W.getVideoTracks()[0]){var oe=S.stream.videoActive!==void 0&&S.stream.videoActive!==null?S.stream.videoActive:!!S.stream.outboundStreamOpts.publisherProperties.publishVideo;W.getVideoTracks()[0].enabled=oe}for(var P=0,se=W.getAudioTracks();P<se.length;P++){var ne=se[P];!((Y=ne.contentHint)===null||Y===void 0)&&Y.length||(ne.contentHint="",f.info("Audio track Content Hint set: '".concat(ne.contentHint,"'")))}for(var Me=0,ke=W.getVideoTracks();Me<ke.length;Me++){var ne=ke[Me];if(!(!((G=ne.contentHint)===null||G===void 0)&&G.length)){switch(S.stream.typeOfVideo){case d.TypeOfVideo.SCREEN:ne.contentHint="detail";break;case d.TypeOfVideo.CUSTOM:f.warn("CUSTOM type video track was provided without Content Hint!"),ne.contentHint="motion";break;case d.TypeOfVideo.CAMERA:case d.TypeOfVideo.IPCAM:default:ne.contentHint="motion";break}f.info("Video track Content Hint set: '".concat(ne.contentHint,"'"))}}return S.initializeVideoReference(W),S.stream.displayMyRemote()||S.stream.updateMediaStreamInVideos(),delete S.firstVideoElement,S.stream.isSendVideo()?S.getVideoDimensions().then(function(K){S.stream.videoDimensions={width:K.width,height:K.height},S.stream.isSendScreen()&&(S.screenShareResizeInterval=setInterval(function(){var qe=W.getVideoTracks()[0].getSettings(),ie=qe.width,z=qe.height,R=ie!=null&&ie!==S.stream.videoDimensions.width,D=z!=null&&z!==S.stream.videoDimensions.height;S.stream.isLocalStreamPublished&&(R||D)&&S.openvidu.sendVideoDimensionsChangedEvent(S,"screenResized",S.stream.videoDimensions.width,S.stream.videoDimensions.height,ie||0,z||0)},650)),S.stream.isLocalStreamReadyToPublish=!0,S.stream.ee.emitEvent("stream-ready-to-publish",[])}):(S.stream.isLocalStreamReadyToPublish=!0,S.stream.ee.emitEvent("stream-ready-to-publish",[])),m()},V=function(W,Y){return t(S,void 0,void 0,function(){var G,oe;return n(this,function(P){switch(P.label){case 0:if(this.clearPermissionDialogTimer(j,L),!(this.stream.isSendScreen()&&this.stream.isSendAudio()))return[3,5];k.audio=Y,k.video=!1,j=Date.now(),this.setPermissionDialogTimer(L),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(k)];case 2:return G=P.sent(),this.clearPermissionDialogTimer(j,L),W.addTrack(G.getAudioTracks()[0]),M(W),[3,4];case 3:return oe=P.sent(),this.clearPermissionDialogTimer(j,L),W.getAudioTracks().forEach(function(se){se.stop()}),W.getVideoTracks().forEach(function(se){se.stop()}),C(this.openvidu.generateAudioDeviceError(oe,x)),[2];case 4:return[3,6];case 5:M(W),P.label=6;case 6:return[2]}})})},U=function(W){return t(S,void 0,void 0,function(){var Y,G,oe,se,P,se,ne;return n(this,function(Me){switch(Me.label){case 0:switch(f.error("getMediaError: ".concat(W.toString())),this.clearPermissionDialogTimer(j,L),W.name==="Error"&&(W.name=W.constructor.name),oe=W.name.toLowerCase(),oe){case"notfounderror":return[3,1];case"notallowederror":return[3,5];case"overconstrainederror":return[3,6];case"aborterror":return[3,10];case"notreadableerror":return[3,10]}return[3,11];case 1:return Me.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:x.video})];case 2:return se=Me.sent(),se.getVideoTracks().forEach(function(ke){ke.stop()}),Y=u.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,G=W.toString(),C(new u.OpenViduError(Y,G)),[3,4];case 3:return P=Me.sent(),Y=u.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,G=P.toString(),C(new u.OpenViduError(Y,G)),[3,4];case 4:return[3,12];case 5:return Y=this.stream.isSendScreen()?u.OpenViduErrorName.SCREEN_CAPTURE_DENIED:u.OpenViduErrorName.DEVICE_ACCESS_DENIED,G=W.toString(),C(new u.OpenViduError(Y,G)),[3,12];case 6:return Me.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:x.video})];case 7:return se=Me.sent(),se.getVideoTracks().forEach(function(ke){ke.stop()}),W.constraint.toLowerCase()==="deviceid"?(Y=u.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,G="Audio input device with deviceId '"+x.audio.deviceId.exact+"' not found"):(Y=u.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,G="Audio input device doesn't support the value passed for constraint '"+W.constraint+"'"),C(new u.OpenViduError(Y,G)),[3,9];case 8:return ne=Me.sent(),ne.constraint.toLowerCase()==="deviceid"?(Y=u.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,G="Video input device with deviceId '"+x.video.deviceId.exact+"' not found"):(Y=u.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,G="Video input device doesn't support the value passed for constraint '"+ne.constraint+"'"),C(new u.OpenViduError(Y,G)),[3,9];case 9:return[3,12];case 10:return Y=u.OpenViduErrorName.DEVICE_ALREADY_IN_USE,G=W.toString(),C(new u.OpenViduError(Y,G)),[3,12];case 11:return Y=u.OpenViduErrorName.GENERIC_ERROR,G=W.toString(),C(new u.OpenViduError(Y,G)),[3,12];case 12:return[2]}})})},F.label=1;case 1:return F.trys.push([1,14,,15]),[4,this.openvidu.generateMediaConstraints(this.properties)];case 2:return $=F.sent(),$.videoTrack&&$.audioTrack||$.audioTrack&&((N=$.constraints)===null||N===void 0?void 0:N.video)===!1||$.videoTrack&&((I=$.constraints)===null||I===void 0?void 0:I.audio)===!1?(M(this.openvidu.addAlreadyProvidedTracks($,new MediaStream,this.stream)),[3,13]):[3,3];case 3:x=$.constraints,v={mediaConstraints:x,publisherProperties:this.properties},this.stream.setOutboundStreamOptions(v),_=x.audio===void 0?!0:x.audio,k.audio=this.stream.isSendScreen()?!1:_,k.video=x.video,j=Date.now(),this.setPermissionDialogTimer(L),F.label=4;case 4:return F.trys.push([4,11,,13]),this.stream.isSendScreen()&&navigator.mediaDevices.getDisplayMedia&&!h.isElectron()?[4,navigator.mediaDevices.getDisplayMedia({video:!0})]:[3,7];case 5:return T=F.sent(),this.openvidu.addAlreadyProvidedTracks($,T),[4,V(T,_)];case 6:return F.sent(),[3,10];case 7:return this.stream.lastVideoTrackConstraints=k.video,[4,navigator.mediaDevices.getUserMedia(k)];case 8:return T=F.sent(),this.openvidu.addAlreadyProvidedTracks($,T,this.stream),[4,V(T,_)];case 9:F.sent(),F.label=10;case 10:return[3,13];case 11:return b=F.sent(),[4,U(b)];case 12:return F.sent(),[3,13];case 13:return[3,15];case 14:return g=F.sent(),C(g),[3,15];case 15:return[2]}})})})},O.prototype.replaceTrackAux=function(p,m){return t(this,void 0,void 0,function(){var w,x;return n(this,function(k){switch(k.label){case 0:w=p.enabled,p.kind==="video"?p.enabled=this.stream.videoActive:p.kind==="audio"&&(p.enabled=this.stream.audioActive),k.label=1;case 1:return k.trys.push([1,5,,6]),this.stream.isLocalStreamPublished?(this.replaceTrackInMediaStream(p,m),[4,this.replaceTrackInRtcRtpSender(p)]):[3,3];case 2:return[2,k.sent()];case 3:return[2,this.replaceTrackInMediaStream(p,m)];case 4:return[3,6];case 5:throw x=k.sent(),p.enabled=w,x;case 6:return[2]}})})},O.prototype.getVideoDimensions=function(){var p=this;return new Promise(function(m,w){var x=h.isIonicIos()||h.isIOSWithSafari(),k,L=function(){var j,C;if(typeof p.stream.getMediaStream().getVideoTracks()[0].getSettings=="function"){var M=p.stream.getMediaStream().getVideoTracks()[0].getSettings();j=M.width||p.videoReference.videoWidth,C=M.height||p.videoReference.videoHeight}else f.warn("MediaStreamTrack does not have getSettings method on "+h.getDescription()),j=p.videoReference.videoWidth,C=p.videoReference.videoHeight;return k!=null&&p.videoReference.removeEventListener("loadedmetadata",k),x&&document.body.removeChild(p.videoReference),m({width:j,height:C})};p.videoReference.readyState>=1?L():(k=function(){if(p.videoReference.videoWidth)L();else var j=setInterval(function(){p.videoReference.videoWidth&&(clearInterval(j),L())},40)},p.videoReference.addEventListener("loadedmetadata",k),x&&document.body.appendChild(p.videoReference))})},O.prototype.reestablishStreamPlayingEvent=function(){this.ee.getListeners("streamPlaying").length>0&&this.addPlayEventToFirstVideo()},O.prototype.initializeVideoReference=function(p){this.videoReference=document.createElement("video"),this.videoReference.style.display="none",this.videoReference.muted=!0,this.videoReference.autoplay=!0,this.videoReference.controls=!1,(h.isSafariBrowser()||h.isIPhoneOrIPad()&&(h.isChromeMobileBrowser()||h.isEdgeMobileBrowser()||h.isOperaMobileBrowser()||h.isFirefoxMobileBrowser()))&&(this.videoReference.playsInline=!0),this.stream.setMediaStream(p),this.firstVideoElement&&this.createVideoElement(this.firstVideoElement.targetElement,this.properties.insertMode),this.videoReference.srcObject=this.stream.getMediaStream()},O.prototype.replaceTrackInMediaStream=function(p,m){var w=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),x;p.kind==="video"?(x=w.getVideoTracks()[0],m&&(this.stream.lastVideoTrackConstraints=p.getConstraints())):x=w.getAudioTracks()[0],x.enabled=!1,x.stop(),w.removeTrack(x),w.addTrack(p);var k={oldLabel:(x==null?void 0:x.label)||"",newLabel:(p==null?void 0:p.label)||""};p.kind==="video"&&m?(this.openvidu.sendNewVideoDimensionsIfRequired(this,"trackReplaced",50,30),this.openvidu.sendTrackChangedEvent(this,k.oldLabel,k.newLabel,"videoTrack"),this.stream.isLocalStreamPublished&&this.session.sendVideoData(this.stream.streamManager,5,!0,5)):p.kind==="audio"&&m&&this.openvidu.sendTrackChangedEvent(this,k.oldLabel,k.newLabel,"audioTrack"),p.kind==="audio"&&(this.stream.disableHarkSpeakingEvent(!1),this.stream.disableHarkStoppedSpeakingEvent(!1),this.stream.disableHarkVolumeChangeEvent(!1),this.stream.initHarkEvents())},O.prototype.setPermissionDialogTimer=function(p){var m=this;this.permissionDialogTimeout=setTimeout(function(){m.emitEvent("accessDialogOpened",[])},p)},O.prototype.clearPermissionDialogTimer=function(p,m){clearTimeout(this.permissionDialogTimeout),Date.now()-p>m&&this.emitEvent("accessDialogClosed",[])},O.prototype.replaceTrackInRtcRtpSender=function(p){return t(this,void 0,void 0,function(){var m,w;return n(this,function(x){switch(x.label){case 0:if(m=this.stream.getRTCPeerConnection().getSenders(),p.kind==="video"){if(w=m.find(function(k){return!!k.track&&k.track.kind==="video"}),!w)throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else if(p.kind==="audio"){if(w=m.find(function(k){return!!k.track&&k.track.kind==="audio"}),!w)throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else throw new Error("Unknown track kind "+p.kind);return[4,w.replaceTrack(p)];case 1:return x.sent(),[2]}})})},O}(o.StreamManager);return uo.Publisher=E,uo}var RE={};globalThis.getScreenId=function(e,t,n){if(navigator.userAgent.indexOf("Edge")!==-1&&(navigator.msSaveOrOpenBlob||navigator.msSaveBlob)){t({video:!0});return}if(navigator.mozGetUserMedia){t(null,"firefox",{video:{mozMediaSource:e,mediaSource:e}});return}globalThis.addEventListener("message",r);function r(i){i.data&&(i.data.chromeMediaSourceId&&(i.data.chromeMediaSourceId==="PermissionDeniedError"?t("permission-denied"):t(null,i.data.chromeMediaSourceId,Lv(null,i.data.chromeMediaSourceId,i.data.canRequestAudioTrack)),globalThis.removeEventListener("message",r)),i.data.chromeExtensionStatus&&(t(i.data.chromeExtensionStatus,null,Lv(i.data.chromeExtensionStatus)),globalThis.removeEventListener("message",r)))}setTimeout(n?function(){lu(n)}:lu,100)};function Lv(e,t,n){var r={audio:!1,video:{mandatory:{chromeMediaSource:e?"screen":"desktop",maxWidth:globalThis.screen.width>1920?globalThis.screen.width:1920,maxHeight:globalThis.screen.height>1080?globalThis.screen.height:1080},optional:[]}};return n&&(r.audio={mandatory:{chromeMediaSource:e?"screen":"desktop"},optional:[]}),t&&(r.video.mandatory.chromeMediaSourceId=t,r.audio&&r.audio.mandatory&&(r.audio.mandatory.chromeMediaSourceId=t)),r}function lu(e){if(!Et){Fp(function(){lu(e)});return}if(!Et.isLoaded){setTimeout(function(){lu(e)},100);return}e?e.forEach?Et.contentWindow.postMessage({captureCustomSourceId:e},"*"):Et.contentWindow.postMessage({captureSourceIdWithAudio:!0},"*"):Et.contentWindow.postMessage({captureSourceId:!0},"*")}var Et;globalThis.getScreenConstraints=function(e){Fp(function(){getScreenId(function(t,n,r){r||(r={video:!0}),e(t,r.video)})})};function Fp(e){if(Et){e();return}Et=document.createElement("iframe"),Et.onload=function(){Et.isLoaded=!0,e()},Et.src="https://openvidu.github.io/openvidu-screen-sharing-chrome-extension/",Et.style.display="none",(document.body||document.documentElement).appendChild(Et)}globalThis.getChromeExtensionStatus=function(e){if(navigator.mozGetUserMedia){e("installed-enabled");return}globalThis.addEventListener("message",t);function t(n){n.data&&n.data.chromeExtensionStatus&&(e(n.data.chromeExtensionStatus),globalThis.removeEventListener("message",t))}setTimeout(pd,100)};function pd(){if(!Et){Fp(pd);return}if(!Et.isLoaded){setTimeout(pd,100);return}Et.contentWindow.postMessage({getChromeExtensionStatus:!0},"*")}RE.getScreenId=globalThis.getScreenId;var Yi={},lr="screen",cr,gi;if(typeof window<"u"&&typeof navigator<"u"&&typeof navigator.userAgent<"u"){var kE=typeof window.InstallTrigger<"u";window.opera||navigator.userAgent.indexOf(" OPR/")>=0,window.addEventListener("message",function(e){e.origin==window.location.origin&&tP(e.data)})}function tP(e){if(e=="PermissionDeniedError"){if(gi)return gi("PermissionDeniedError");throw new Error("PermissionDeniedError")}e=="rtcmulticonnection-extension-loaded"&&(lr="desktop"),e.sourceId&&gi&&gi(cr=e.sourceId,e.canRequestAudioTrack===!0)}function nP(e){if(e){if(lr=="desktop")return e(!0);window.postMessage("are-you-there","*"),setTimeout(function(){lr=="screen"?e(!1):e(!0)},2e3)}}function PE(e){if(!e)throw'"callback" parameter is mandatory.';if(cr)return e(cr);gi=e,window.postMessage("get-sourceId","*")}function rP(e){if(!e)throw'"callback" parameter is mandatory.';if(cr)return e(cr);gi=e,window.postMessage("audio-plus-tab","*")}function iP(e,t){if(kE)return t("not-chrome");arguments.length!=2&&(t=e,e="lfcgfepafnobdloecchnfaclibenjold");var n=document.createElement("img");n.src="chrome-extension://"+e+"/icon.png",n.onload=function(){lr="screen",window.postMessage("are-you-there","*"),setTimeout(function(){lr=="screen"?t("installed-disabled"):t("installed-enabled")},2e3)},n.onerror=function(){t("not-installed")}}function oP(e){IE(e,!0)}function IE(e,t){cr="";var n={mozMediaSource:"window",mediaSource:"window"};if(kE)return e(null,n);var r={mandatory:{chromeMediaSource:lr,maxWidth:screen.width>1920?screen.width:1920,maxHeight:screen.height>1080?screen.height:1080},optional:[]};if(lr=="desktop"&&!cr){t?rP(function(i,o){r.mandatory.chromeMediaSourceId=i,o&&(r.canRequestAudioTrack=!0),e(i=="PermissionDeniedError"?i:null,r)}):PE(function(i){r.mandatory.chromeMediaSourceId=i,e(i=="PermissionDeniedError"?i:null,r)});return}lr=="desktop"&&(r.mandatory.chromeMediaSourceId=cr),e(null,r)}Yi.getScreenConstraints=IE;Yi.getScreenConstraintsWithAudio=oP;Yi.isChromeExtensionAvailable=nP;Yi.getChromeExtensionStatus=iP;Yi.getSourceId=PE;var cu={},sP={get exports(){return cu},set exports(e){cu=e}},Pi=typeof Reflect=="object"?Reflect:null,Av=Pi&&typeof Pi.apply=="function"?Pi.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Ea;Pi&&typeof Pi.ownKeys=="function"?Ea=Pi.ownKeys:Object.getOwnPropertySymbols?Ea=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ea=function(t){return Object.getOwnPropertyNames(t)};function aP(e){console&&console.warn&&console.warn(e)}var TE=Number.isNaN||function(t){return t!==t};function ge(){ge.init.call(this)}sP.exports=ge;cu.once=fP;ge.EventEmitter=ge;ge.prototype._events=void 0;ge.prototype._eventsCount=0;ge.prototype._maxListeners=void 0;var Mv=10;function Ol(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ge,"defaultMaxListeners",{enumerable:!0,get:function(){return Mv},set:function(e){if(typeof e!="number"||e<0||TE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Mv=e}});ge.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ge.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||TE(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function NE(e){return e._maxListeners===void 0?ge.defaultMaxListeners:e._maxListeners}ge.prototype.getMaxListeners=function(){return NE(this)};ge.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[t];if(u===void 0)return!1;if(typeof u=="function")Av(u,this,n);else for(var l=u.length,c=VE(u,l),r=0;r<l;++r)Av(c[r],this,n);return!0};function LE(e,t,n,r){var i,o,s;if(Ol(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),s===void 0)s=o[t]=n,++e._eventsCount;else if(typeof s=="function"?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=NE(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,aP(a)}return e}ge.prototype.addListener=function(t,n){return LE(this,t,n,!1)};ge.prototype.on=ge.prototype.addListener;ge.prototype.prependListener=function(t,n){return LE(this,t,n,!0)};function uP(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function AE(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=uP.bind(r);return i.listener=n,r.wrapFn=i,i}ge.prototype.once=function(t,n){return Ol(n),this.on(t,AE(this,t,n)),this};ge.prototype.prependOnceListener=function(t,n){return Ol(n),this.prependListener(t,AE(this,t,n)),this};ge.prototype.removeListener=function(t,n){var r,i,o,s,a;if(Ol(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():lP(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};ge.prototype.off=ge.prototype.removeListener;ge.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function ME(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?cP(i):VE(i,i.length)}ge.prototype.listeners=function(t){return ME(this,t,!0)};ge.prototype.rawListeners=function(t){return ME(this,t,!1)};ge.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):DE.call(e,t)};ge.prototype.listenerCount=DE;function DE(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}ge.prototype.eventNames=function(){return this._eventsCount>0?Ea(this._events):[]};function VE(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function lP(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function cP(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function fP(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,o),r(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}$E(e,t,o,{once:!0}),t!=="error"&&dP(e,i,{once:!0})})}function dP(e,t,n){typeof e.on=="function"&&$E(e,"error",t,n)}function $E(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var hd={},Dv={get exports(){return hd},set exports(e){hd=e}};typeof Object.create=="function"?Dv.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Dv.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var Up={},Bp={};function pP(e,t){var n={jsonrpc:"2.0"};if(e.method)n.method=e.method,e.params&&(n.params=e.params),t!=null&&(n.id=t);else if(t!=null){if(e.error){if(e.result!==void 0)throw new TypeError("Both result and error are defined");n.error=e.error}else if(e.result!==void 0)n.result=e.result;else throw new TypeError("No result or error is defined");n.id=t}return JSON.stringify(n)}function hP(e){var t=e;(typeof e=="string"||e instanceof String)&&(t=JSON.parse(e));var n=t.jsonrpc;if(n!=="2.0")throw new TypeError("Invalid JsonRPC version '"+n+"': "+e);if(t.method==null){if(t.id==null)throw new TypeError("Invalid message: "+e);var r=t.result!==void 0,i=t.error!==void 0;if(r&&i)throw new TypeError("Both result and error are defined: "+e);if(!r&&!i)throw new TypeError("No result or error is defined: "+e);t.ack=t.id,delete t.id}return t}Bp.pack=pP;Bp.unpack=hP;var Wp={};function mP(e){throw new TypeError("Not yet implemented")}function vP(e){throw new TypeError("Not yet implemented")}Wp.pack=mP;Wp.unpack=vP;var gP=Bp,yP=Wp;Up.JsonRPC=gP;Up.XmlRPC=yP;function jE(){var e={};this.forEach=function(t){for(var n in e){var r=e[n];for(var i in r)t(r[i])}},this.get=function(t,n){var r=e[n];if(r!=null)return r[t]},this.remove=function(t,n){var r=e[n];if(r!=null){delete r[t];for(var i in r)return!1;delete e[n]}},this.set=function(t,n,r){if(t==null)return this.remove(n,r);var i=e[r];i==null&&(e[r]=i={}),i[n]=t}}jE.prototype.pop=function(e,t){var n=this.get(e,t);if(n!=null)return this.remove(e,t),n};var EP=jE,zc={},Hc,Vv;function FE(){if(Vv)return Hc;Vv=1;var e=He.OpenViduLogger,t=e.getInstance(),n=2e3,r=3e3,i=3;function o(s){var a=!1,u,l=s.uri,c=!1,d=new WebSocket(l);d.onopen=function(){t.debug("WebSocket connected to "+l),s.onconnected&&s.onconnected()},d.onerror=function(O){t.error("Could not connect to "+l+" (invoking onerror if defined)",O),s.onerror&&s.onerror(O)};var f=function(){d.readyState===i?a?t.debug("Connection closed by user"):s.ismasternodecrashed()?t.error("Master Node has crashed. Stopping reconnection process"):(t.debug("Connection closed unexpectedly. Reconnecting..."),h(n,1)):t.debug("Close callback from previous websocket. Ignoring it")};d.onclose=f;function h(O,p){if(t.debug("reconnect (attempt #"+p+", max="+O+")"),p===1){if(c){t.warn("Trying to reconnect when already reconnecting... Ignoring this reconnection.");return}else c=!0;s.onreconnecting&&s.onreconnecting()}y(O,p)}function E(O){var p=new URLSearchParams(new URL(O).search);return p.has("reconnect")||(O=Array.from(p).length>0?O+"&reconnect=true":O+"?reconnect=true"),O}function y(O,p){t.debug("Reconnection attempt #"+p),d.close(4104,"Connection closed for reconnection"),l=E(l),d=new WebSocket(l),d.onopen=function(){t.debug("Reconnected to "+l+" after "+p+" attempts..."),c=!1,u(),s.onreconnected()&&s.onreconnected(),d.onclose=f},d.onerror=function(m){t.warn("Reconnection error: ",m),p===O?s.ondisconnect&&s.ondisconnect():setTimeout(function(){h(O,p+1)},r)}}this.close=function(O,p){a=!0,d.close(O,p)},this.reconnectWs=function(){t.debug("reconnectWs"),h(n,1)},this.send=function(O){d.send(O)},this.addEventListener=function(O,p){u=function(){d.addEventListener(O,p)},u()},this.getReadyState=function(){return d.readyState}}return Hc=o,Hc}var qc,$v;function SP(){if($v)return qc;$v=1;var e=UE(),t=FE(),n=He.OpenViduLogger;Date.now=Date.now||function(){return+new Date};var r=5e3,i="RECONNECTING",o="CONNECTED",s="DISCONNECTED",a=n.getInstance();function u(l){var c=this,d=l.ws,f=-1,h=0,E=!0,y=!1,O,p=s,m=d.onreconnecting,w=d.onreconnected,x=d.onconnected,k=d.onerror;l.rpc.pull=function(v,_){_.reply(null,"push")},d.onreconnecting=function(){if(a.debug("--------- ONRECONNECTING -----------"),p===i){a.error("Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it");return}$(),p=i,m&&m()},d.onreconnected=function(){if(a.debug("--------- ONRECONNECTED -----------"),p===o){a.error("Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it");return}p=o,M(),w&&w()},d.onconnected=function(){if(a.debug("--------- ONCONNECTED -----------"),p===o){a.error("Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it");return}p=o,E=!0,U(),x&&x()},d.onerror=function(v){a.debug("--------- ONERROR -----------"),p=s,$(),k&&k(v)};var L=new t(d);a.debug("Connecting websocket to URI: "+d.uri);var j={request_timeout:l.rpc.requestTimeout,ping_request_timeout:l.rpc.heartbeatRequestTimeout},C=new e(e.packers.JsonRPC,j,L,function(v){a.debug("Received request: "+JSON.stringify(v));try{var _=l.rpc[v.method];_===void 0?a.error("Method "+v.method+" not registered in client"):_(v.params,v)}catch(T){a.error("Exception processing request: "+JSON.stringify(v)),a.error(T)}});this.send=function(v,_,T){var b=Date.now();C.encode(v,_,function(g,S){if(g){try{a.error("ERROR:"+g.message+" in Request: method:"+v+" params:"+JSON.stringify(_)+" request:"+g.request),g.data&&a.error("ERROR DATA:"+JSON.stringify(g.data))}catch{}g.requestTime=b}T&&(S!=null&&S.value!=="pong"&&a.debug("Response: "+JSON.stringify(S)),T(g,S))})};function M(){a.debug("notReconnectIfNumLessThan = "+h+" (old="+f+")"),f=h}function V(){if(E){var v=null;(h==0||h==f)&&(v={interval:l.heartbeat||r}),h++,c.send("ping",v,function(_){return function(T,b){T&&(a.debug("Error in ping request #"+_+" ("+T.message+")"),_>f&&(E=!1,M(),a.debug("Server did not respond to ping message #"+_+". Reconnecting... "),L.reconnectWs()))}}(h))}else a.debug("Trying to send ping, but ping is not enabled")}function U(){y||(a.debug("Starting ping (if configured)"),y=!0,l.heartbeat!=null&&(O=setInterval(V,l.heartbeat),V()))}function $(){clearInterval(O),y=!1,E=!1,h=-1,C.cancel()}this.close=function(v,_){a.debug("Closing  with code: "+v+" because: "+_),O!=null&&(a.debug("Clearing ping interval"),clearInterval(O)),y=!1,E=!1,L.close(v,_)},this.reconnect=function(){L.reconnectWs()},this.resetPing=function(){E=!0,h=0,U()},this.getReadyState=function(){return L.getReadyState()}}return qc=u,qc}var jv;function wP(){if(jv)return zc;jv=1;var e=SP();return zc.JsonRpcClient=e,zc}var Gc={},Fv;function bP(){if(Fv)return Gc;Fv=1;var e=FE();return Gc.WebSocketWithReconnection=e,Gc}var Xc,Uv;function UE(){if(Uv)return Xc;Uv=1;var e=!1;if(Object.defineProperty)try{Object.defineProperty({},"x",{})}catch{e=!0}Function.prototype.bind||(Function.prototype.bind=function(f){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var h=Array.prototype.slice.call(arguments,1),E=this,y=function(){},O=function(){return E.apply(this instanceof y&&f?this:f,h.concat(Array.prototype.slice.call(arguments)))};return y.prototype=this.prototype,O.prototype=new y,O});var t=cu.EventEmitter,n=hd,r=Up,i=EP,o=5e3;function s(f){if(!f)return{};for(var h in f){var E=f[h];typeof E=="string"&&(f[h]={response:E})}return f}function a(f){if(f){if(f instanceof Function)return{send:f};if(f.send instanceof Function)return f;if(f.postMessage instanceof Function)return f.send=f.postMessage,f;if(f.write instanceof Function)return f.send=f.write,f;if(f.onmessage===void 0&&!(f.pause instanceof Function))throw new SyntaxError("Transport is not a function nor a valid object")}}function u(f,h){e?(this.method=f,this.params=h):(Object.defineProperty(this,"method",{value:f,enumerable:!0}),Object.defineProperty(this,"params",{value:h,enumerable:!0}))}function l(f,h,E,y){var O=this;if(!f)throw new SyntaxError("Packer is not defined");if(!f.pack||!f.unpack)throw new SyntaxError("Packer is invalid");var p=s(f.responseMethods);if(h instanceof Function){if(E!=null)throw new SyntaxError("There can't be parameters after onRequest");y=h,E=void 0,h=void 0}if(h&&h.send instanceof Function){if(E&&!(E instanceof Function))throw new SyntaxError("Only a function can be after transport");y=E,E=h,h=void 0}if(E instanceof Function){if(y!=null)throw new SyntaxError("There can't be parameters after onRequest");y=E,E=void 0}if(E&&E.send instanceof Function&&y&&!(y instanceof Function))throw new SyntaxError("Only a function can be after transport");h=h||{},t.call(this),y&&this.on("request",y),e?this.peerID=h.peerID:Object.defineProperty(this,"peerID",{value:h.peerID});var m=h.max_retries||0;function w(g){O.decode(g.data||g)}this.getTransport=function(){return E},this.setTransport=function(g){E&&(E.removeEventListener?E.removeEventListener("message",w):E.removeListener&&E.removeListener("data",w)),g&&(g.addEventListener?g.addEventListener("message",w):g.addListener&&g.addListener("data",w)),E=a(g)},e||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)}),this.setTransport(E);var x=h.request_timeout||o,k=h.ping_request_timeout||x,L=h.response_timeout||o,j=h.duplicates_timeout||o,C=0,M=new i,V=new i,U=new i,$={};function v(g,S,N){var I={message:g,timeout:setTimeout(function(){V.remove(S,N)},L)};V.set(I,S,N)}function _(g,S){var N=setTimeout(function(){U.remove(g,S)},j);U.set(N,g,S)}function T(g,S,N,I,F){u.call(this,g,S),this.getTransport=function(){return F},this.setTransport=function(G){F=a(G)},e||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)});var W=V.get(N,I);F||O.getTransport()||(e?this.duplicated=Boolean(W):Object.defineProperty(this,"duplicated",{value:Boolean(W)}));var Y=p[g];this.pack=f.pack.bind(f,this,N),this.reply=function(G,oe,P){if(G instanceof Function||G&&G.send instanceof Function){if(oe!=null)throw new SyntaxError("There can't be parameters after callback");P=G,oe=null,G=void 0}else if(oe instanceof Function||oe&&oe.send instanceof Function){if(P!=null)throw new SyntaxError("There can't be parameters after callback");P=oe,oe=null}P=a(P),W&&clearTimeout(W.timeout),I!=null&&(G&&(G.dest=I),oe&&(oe.dest=I));var se;if(G||oe!=null){if(O.peerID!=null&&(G?G.from=O.peerID:oe.from=O.peerID),Y)if(Y.error==null&&G)se={error:G};else{var ne=G?Y.error:Y.response;se={method:ne,params:G||oe}}else se={error:G,result:oe};se=f.pack(se,N)}else W?se=W.message:se=f.pack({result:null},N);return v(se,N,I),P=P||this.getTransport()||O.getTransport(),P?P.send(se):se}}n(T,u);function b(g){var S=$[g];if(S){delete $[g];var N=M.pop(S.id,S.dest);N&&(clearTimeout(N.timeout),_(S.id,S.dest))}}this.cancel=function(g){if(g)return b(g);for(var g in $)b(g)},this.close=function(){var g=this.getTransport();g&&g.close&&g.close(4003,"Cancel request"),this.cancel(),U.forEach(clearTimeout),V.forEach(function(S){clearTimeout(S.timeout)})},this.encode=function(g,S,N,I,F){if(S instanceof Function){if(N!=null)throw new SyntaxError("There can't be parameters after callback");F=S,I=void 0,N=void 0,S=void 0}else if(N instanceof Function){if(I!=null)throw new SyntaxError("There can't be parameters after callback");F=N,I=void 0,N=void 0}else if(I instanceof Function){if(F!=null)throw new SyntaxError("There can't be parameters after callback");F=I,I=void 0}O.peerID!=null&&(S=S||{},S.from=O.peerID),N!=null&&(S=S||{},S.dest=N);var W={method:g,params:S};if(F){let K=function(R,D){O.cancel(W),F(R,D)},qe=function(R){var D=g==="ping"?k:x;return oe.timeout=setTimeout(z,D*Math.pow(2,G++)),$[W]={id:Y,dest:N},M.set(oe,Y,N),R=R||P||O.getTransport(),R?R.send(W):W},ie=function(R){R=a(R),console.warn(G+" retry for request message:",W);var D=U.pop(Y,N);return clearTimeout(D),qe(R)},z=function(){if(G<m)return ie(I);var R=new Error("Request has timed out");R.request=W,R.retry=ie,K(R)};var se=K,ne=qe,Me=ie,ke=z,Y=C++,G=0;W=f.pack(W,Y);var oe={message:W,callback:K,responseMethods:p[g]||{}},P=a(I);return qe(I)}return W=f.pack(W),I=I||this.getTransport(),I?I.send(W):W},this.decode=function(g,S){if(!g)throw new TypeError("Message is not defined");try{g=f.unpack(g)}catch(z){return console.debug(z,g)}var N=g.id,I=g.ack,F=g.method,W=g.params||{},Y=W.from,G=W.dest;if(O.peerID!=null&&Y==O.peerID)return;if(N==null&&I==null){var oe=new u(F,W);return O.emit("request",oe)?void 0:oe}function P(){if(S=a(S)||O.getTransport(),S){var z=V.get(N,Y);if(z)return S.send(z.message)}var R=N??I,D=new T(F,W,R,Y,S);if(!O.emit("request",D))return D}function se(z,R,D){z.callback(R,D)}function ne(z){console.warn("Response already processed",g),clearTimeout(z),_(I,Y)}if(F){if(G==null||G==O.peerID){var ie=M.get(I,Y);if(ie){var Me=ie.responseMethods;return F==Me.error?se(ie,W):F==Me.response?se(ie,null,W):P()}var ke=U.get(I,Y);if(ke)return ne(ke)}return P()}var K=g.error,qe=g.result;if(!(K&&K.dest&&K.dest!=O.peerID)&&!(qe&&qe.dest&&qe.dest!=O.peerID)){var ie=M.get(I,Y);if(!ie){var ke=U.get(I,Y);return ke?ne(ke):console.warn("No callback was defined for this message",g)}se(ie,K,qe)}}}n(l,t),l.RpcNotification=u,Xc=l;var c=wP(),d=bP();return l.clients=c,l.clients.transports=d,l.packers=r,Xc}const CP="OpenVidu",OP={freeice:"2.2.2",hark:"1.2.3",jsnlog:"2.30.0",mime:"3.0.0",platform:"1.3.6",semver:"7.3.8",uuid:"9.0.0","wolfy87-eventemitter":"5.2.9",events:"3.3.0",inherits:"2.0.4"},xP="OpenVidu Browser",_P={"@types/node":"18.11.9","@types/platform":"1.3.4",browserify:"17.0.0",grunt:"1.5.3","grunt-cli":"1.4.3","grunt-contrib-copy":"1.0.0","grunt-contrib-sass":"2.0.0","grunt-contrib-uglify":"5.2.2","grunt-contrib-watch":"1.1.0","grunt-postcss":"0.9.0","grunt-string-replace":"1.3.3","grunt-ts":"6.0.0-beta.22",terser:"5.15.1",tsify:"5.0.4",tslint:"6.1.3",typedoc:"0.23.21",typescript:"4.9.3"},RP="Apache-2.0",kP="lib/index.js",PP="openvidu-browser",IP={type:"git",url:"git://github.com/OpenVidu/openvidu"},TP={browserify:"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js Main.ts -p [ tsify ] --exclude kurento-browser-extensions --debug -o ../static/js/openvidu-browser-$VERSION.js -v","browserify-prod":"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js --debug Main.ts -p [ tsify ] --exclude kurento-browser-extensions | ../node_modules/terser/bin/terser --source-map content=inline --output ../static/js/openvidu-browser-$VERSION.min.js",build:"cd src/OpenVidu && ./../../node_modules/typescript/bin/tsc && cd ../.. && ./node_modules/typescript/bin/tsc --declaration src/index.ts --outDir ./lib --sourceMap --target es5 --lib dom,es5,es2015.promise,scripthost && rm -rf ./ts4.4 && mkdir -p ./ts4.4/lib && cp -r ./lib ./ts4.4 && find ./ts4.4/lib -type f ! -iname '*.d.ts' -delete && ./config/replace_for_ts44.sh",docs:"./generate-docs.sh"},NP="lib/index.d.ts",LP={"<4.4":{"*":["ts4.4/*"]}},AP="2.25.0",MP={author:CP,dependencies:OP,description:xP,devDependencies:_P,license:RP,main:kP,name:PP,repository:IP,scripts:TP,types:NP,typesVersions:LP,version:AP};var Bv=X&&X.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})},Wv=X&&X.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(ol,"__esModule",{value:!0});ol.OpenVidu=void 0;var DP=fs,VP=jp(),zv=Cl(),$P=Ji,ni=Vn,fe=qr,Kc=hs,jP=He,FP=an,UP=RE,Hv=Yi,BP=Mp,WP=Zo,zP=UE(),HP=MP,be=jP.OpenViduLogger.getInstance(),ue,qP=function(){function e(){var t=this;this.masterNodeHasCrashed=!1,this.publishers=[],this.secret="",this.recorder=!1,this.stt=!1,this.life=-1,this.advancedConfiguration={},this.webrtcStatsInterval=-1,this.sendBrowserLogs=BP.OpenViduLoggerConfiguration.disabled,this.isAtLeastPro=!1,this.isEnterprise=!1,this.ee=new WP,ue=FP.PlatformUtils.getInstance(),this.libraryVersion=HP.version,be.info("OpenVidu initialized"),be.info("Platform detected: "+ue.getDescription()),be.info("openvidu-browser version: "+this.libraryVersion),(ue.isMobileDevice()||ue.isReactNative())&&this.onOrientationChanged(function(){t.publishers.forEach(function(n){n.stream.isLocalStreamPublished&&n.stream&&n.stream.hasVideo&&t.sendNewVideoDimensionsIfRequired(n,"deviceRotated",75,10)})})}return e.prototype.initSession=function(){return this.session=new zv.Session(this),this.session},e.prototype.initPublisher=function(t,n,r){var i;n&&typeof n!="function"?(i=n,i={audioSource:typeof i.audioSource<"u"?i.audioSource:void 0,frameRate:typeof MediaStreamTrack<"u"&&i.videoSource instanceof MediaStreamTrack?void 0:typeof i.frameRate<"u"?i.frameRate:void 0,insertMode:typeof i.insertMode<"u"?typeof i.insertMode=="string"?Kc.VideoInsertMode[i.insertMode]:i.insertMode:Kc.VideoInsertMode.APPEND,mirror:typeof i.mirror<"u"?i.mirror:!0,publishAudio:typeof i.publishAudio<"u"?i.publishAudio:!0,publishVideo:typeof i.publishVideo<"u"?i.publishVideo:!0,resolution:typeof MediaStreamTrack<"u"&&i.videoSource instanceof MediaStreamTrack?void 0:typeof i.resolution<"u"?i.resolution:"640x480",videoSource:typeof i.videoSource<"u"?i.videoSource:void 0,videoSimulcast:i.videoSimulcast,filter:i.filter}):i={insertMode:Kc.VideoInsertMode.APPEND,mirror:!0,publishAudio:!0,publishVideo:!0,resolution:"640x480"};var o=new VP.Publisher(t,i,this),s;return n&&typeof n=="function"?s=n:r&&(s=r),o.initialize().then(function(){s!==void 0&&s(void 0),o.emitEvent("accessAllowed",[])}).catch(function(a){s!==void 0&&s(a),o.emitEvent("accessDenied",[a])}),this.publishers.push(o),o},e.prototype.initPublisherAsync=function(t,n){var r=this;return new Promise(function(i,o){var s,a=function(u){return u?o(u):i(s)};n?s=r.initPublisher(t,n,a):s=r.initPublisher(t,a)})},e.prototype.initLocalRecorder=function(t){return new DP.LocalRecorder(t)},e.prototype.checkSystemRequirements=function(){return ue.isIPhoneOrIPad()?ue.isIOSWithSafari()||ue.isChromeMobileBrowser()||ue.isFirefoxMobileBrowser()||ue.isOperaMobileBrowser()||ue.isEdgeMobileBrowser()||ue.isIonicIos():ue.isChromeBrowser()||ue.isChromeMobileBrowser()||ue.isFirefoxBrowser()||ue.isFirefoxMobileBrowser()||ue.isOperaBrowser()||ue.isOperaMobileBrowser()||ue.isEdgeBrowser()||ue.isEdgeMobileBrowser()||ue.isSamsungBrowser()||ue.isSafariBrowser()||ue.isAndroidBrowser()||ue.isElectron()||ue.isNodeJs()},e.prototype.checkScreenSharingCapabilities=function(){return ue.canScreenShare()},e.prototype.getDevices=function(){return new Promise(function(t,n){navigator.mediaDevices.enumerateDevices().then(function(r){var i,o=[];if(ue.isIonicAndroid()&&typeof cordova<"u"&&(!((i=cordova==null?void 0:cordova.plugins)===null||i===void 0)&&i.EnumerateDevicesPlugin))cordova.plugins.EnumerateDevicesPlugin.getEnumerateDevices().then(function(s){var a=[],u=[],l=[];return a=s.filter(function(c){return c.kind==="audioinput"}),u=r.filter(function(c){return c.kind==="videoinput"}),l=r.filter(function(c){return c.kind==="audioinput"}),u.forEach(function(c,d){if(c.label)o.push({kind:c.kind,deviceId:c.deviceId,label:c.label});else{var f="";d===0?f="Front Camera":d===1?f="Back Camera":f="Unknown Camera",o.push({kind:c.kind,deviceId:c.deviceId,label:f})}}),l.forEach(function(c,d){if(c.label)o.push({kind:c.kind,deviceId:c.deviceId,label:c.label});else{var f="";switch(d){case 0:f="Default";break;case 1:var h=a.filter(function(O){return O.label.includes("Built")})[0];f=h?h.label:"Built-in Microphone";break;case 2:var E=a.filter(function(O){return O.label.includes("Wired")})[0];E?f=E.label:f="Headset earpiece";break;case 3:var y=a.filter(function(O){return O.label.includes("Bluetooth")})[0];f=y?y.label:"Wireless";break;default:f="Unknown Microphone";break}o.push({kind:c.kind,deviceId:c.deviceId,label:f})}}),t(o)});else return r.forEach(function(s){(s.kind==="audioinput"||s.kind==="videoinput")&&o.push({kind:s.kind,deviceId:s.deviceId,label:s.label})}),t(o)}).catch(function(r){return be.error("Error getting devices",r),n(r)})})},e.prototype.getUserMedia=function(t){var n=this;return new Promise(function(r,i){return Bv(n,void 0,void 0,function(){var o,s,a,c,u,f,h,l,c,d,f,h,E,y=this,O,p;return Wv(this,function(m){switch(m.label){case 0:o=function(w,x){return Bv(y,void 0,void 0,function(){var k,L,j,C;return Wv(this,function(M){switch(M.label){case 0:k=x.audio===void 0?!0:x.audio,L={audio:k,video:!1},M.label=1;case 1:return M.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(L)];case 2:return j=M.sent(),w.addTrack(j.getAudioTracks()[0]),[2,r(w)];case 3:return C=M.sent(),w.getAudioTracks().forEach(function(V){V.stop()}),w.getVideoTracks().forEach(function(V){V.stop()}),[2,i(this.generateAudioDeviceError(C,L))];case 4:return[2]}})})},m.label=1;case 1:return m.trys.push([1,20,,21]),[4,this.generateMediaConstraints(t)];case 2:return s=m.sent(),s.videoTrack&&s.audioTrack||s.audioTrack&&((O=s.constraints)===null||O===void 0?void 0:O.video)===!1||s.videoTrack&&((p=s.constraints)===null||p===void 0?void 0:p.audio)===!1?[2,r(this.addAlreadyProvidedTracks(s,new MediaStream))]:[3,3];case 3:if(s.videoTrack&&delete s.constraints.video,s.audioTrack&&delete s.constraints.audio,a=!1,typeof t.videoSource!="string")return[3,12];if(!(t.videoSource==="screen"||t.videoSource==="window"||ue.isElectron()&&t.videoSource.startsWith("screen:")))return[3,12];if(a=!s.audioTrack&&t.audioSource!==null&&t.audioSource!==!1,!(navigator.mediaDevices.getDisplayMedia&&!ue.isElectron()))return[3,11];m.label=4;case 4:return m.trys.push([4,9,,10]),[4,navigator.mediaDevices.getDisplayMedia({video:!0})];case 5:return c=m.sent(),this.addAlreadyProvidedTracks(s,c),a?[4,o(c,s.constraints)]:[3,7];case 6:return m.sent(),[2];case 7:return[2,r(c)];case 8:return[3,10];case 9:return u=m.sent(),f=fe.OpenViduErrorName.SCREEN_CAPTURE_DENIED,h=u.toString(),[2,i(new fe.OpenViduError(f,h))];case 10:return[3,11];case 11:return[3,12];case 12:l=a?{video:s.constraints.video}:s.constraints,m.label=13;case 13:return m.trys.push([13,18,,19]),[4,navigator.mediaDevices.getUserMedia(l)];case 14:return c=m.sent(),this.addAlreadyProvidedTracks(s,c),a?[4,o(c,s.constraints)]:[3,16];case 15:return m.sent(),[3,17];case 16:return[2,r(c)];case 17:return[3,19];case 18:return d=m.sent(),f=void 0,h=d.toString(),t.videoSource!=="screen"?f=fe.OpenViduErrorName.DEVICE_ACCESS_DENIED:f=fe.OpenViduErrorName.SCREEN_CAPTURE_DENIED,[2,i(new fe.OpenViduError(f,h))];case 19:return[3,21];case 20:return E=m.sent(),i(E),[3,21];case 21:return[2]}})})})},e.prototype.enableProdMode=function(){be.enableProdMode()},e.prototype.setAdvancedConfiguration=function(t){this.advancedConfiguration=t},e.prototype.onOrientationChanged=function(t){globalThis.addEventListener("orientationchange",t)},e.prototype.sendNewVideoDimensionsIfRequired=function(t,n,r,i){var o=this,s,a,u,l,c=0,d=((a=(s=t==null?void 0:t.stream)===null||s===void 0?void 0:s.videoDimensions)===null||a===void 0?void 0:a.width)||0,f=((l=(u=t==null?void 0:t.stream)===null||u===void 0?void 0:u.videoDimensions)===null||l===void 0?void 0:l.height)||0,h=setInterval(function(){c++,c>i&&clearTimeout(h),t.getVideoDimensions().then(function(E){(E.width!==d||E.height!==f)&&(clearTimeout(h),o.sendVideoDimensionsChangedEvent(t,n,d,f,E.width,E.height))})},r)},e.prototype.sendVideoDimensionsChangedEvent=function(t,n,r,i,o,s){var a=this;t.stream.videoDimensions={width:o||0,height:s||0},this.sendRequest("streamPropertyChanged",{streamId:t.stream.streamId,property:"videoDimensions",newValue:JSON.stringify(t.stream.videoDimensions),reason:n},function(u,l){u?be.error("Error sending 'streamPropertyChanged' event",u):(a.session.emitEvent("streamPropertyChanged",[new ni.StreamPropertyChangedEvent(a.session,t.stream,"videoDimensions",t.stream.videoDimensions,{width:r,height:i},n)]),t.emitEvent("streamPropertyChanged",[new ni.StreamPropertyChangedEvent(t,t.stream,"videoDimensions",t.stream.videoDimensions,{width:r,height:i},n)]),a.session.sendVideoData(t))})},e.prototype.sendTrackChangedEvent=function(t,n,r,i){var o=this,s={label:n},a={label:r},u="trackReplaced";t.stream.isLocalStreamPublished?this.sendRequest("streamPropertyChanged",{streamId:t.stream.streamId,property:i,newValue:a,reason:u},function(l,c){l?be.error("Error sending 'streamPropertyChanged' event",l):(o.session.emitEvent("streamPropertyChanged",[new ni.StreamPropertyChangedEvent(o.session,t.stream,i,a,s,u)]),t.emitEvent("streamPropertyChanged",[new ni.StreamPropertyChangedEvent(t,t.stream,i,a,s,u)]))}):(this.session.emitEvent("streamPropertyChanged",[new ni.StreamPropertyChangedEvent(this.session,t.stream,i,a,s,u)]),t.emitEvent("streamPropertyChanged",[new ni.StreamPropertyChangedEvent(t,t.stream,i,a,s,u)]))},e.prototype.generateMediaConstraints=function(t){var n=this;return new Promise(function(r,i){var o={audioTrack:void 0,videoTrack:void 0,constraints:{audio:void 0,video:void 0}},s=t.audioSource,a=t.videoSource;if((s===null||s===!1)&&(o.constraints.audio=!1),(a===null||a===!1)&&(o.constraints.video=!1),o.constraints.audio===!1&&o.constraints.video===!1)return i(new fe.OpenViduError(fe.OpenViduErrorName.NO_INPUT_SOURCE_SET,"Properties 'audioSource' and 'videoSource' cannot be set to false or null at the same time"));if(typeof MediaStreamTrack<"u"&&s instanceof MediaStreamTrack&&(o.audioTrack=s),typeof MediaStreamTrack<"u"&&a instanceof MediaStreamTrack&&(o.videoTrack=a),s===void 0&&(o.constraints.audio=!0),a===void 0&&(o.constraints.video={width:{ideal:640},height:{ideal:480}}),a!==null&&a!==!1){if(t.resolution){var u=t.resolution.toLowerCase().split("x"),l=Number(u[0]),c=Number(u[1]);o.constraints.video={width:{ideal:l},height:{ideal:c}}}t.frameRate&&(o.constraints.video.frameRate={ideal:t.frameRate})}return n.configureDeviceIdOrScreensharing(o,t,r,i),r(o)})},e.prototype.startWs=function(t){var n={heartbeat:5e3,ws:{uri:this.wsUri+"?sessionId="+this.session.sessionId,onconnected:t,ondisconnect:this.disconnectCallback.bind(this),onreconnecting:this.reconnectingCallback.bind(this),onreconnected:this.reconnectedCallback.bind(this),ismasternodecrashed:this.isMasterNodeCrashed.bind(this)},rpc:{requestTimeout:1e4,heartbeatRequestTimeout:5e3,participantJoined:this.session.onParticipantJoined.bind(this.session),participantPublished:this.session.onParticipantPublished.bind(this.session),participantUnpublished:this.session.onParticipantUnpublished.bind(this.session),participantLeft:this.session.onParticipantLeft.bind(this.session),participantEvicted:this.session.onParticipantEvicted.bind(this.session),recordingStarted:this.session.onRecordingStarted.bind(this.session),recordingStopped:this.session.onRecordingStopped.bind(this.session),sendMessage:this.session.onNewMessage.bind(this.session),streamPropertyChanged:this.session.onStreamPropertyChanged.bind(this.session),connectionPropertyChanged:this.session.onConnectionPropertyChanged.bind(this.session),networkQualityLevelChanged:this.session.onNetworkQualityLevelChangedChanged.bind(this.session),filterEventDispatched:this.session.onFilterEventDispatched.bind(this.session),iceCandidate:this.session.recvIceCandidate.bind(this.session),mediaError:this.session.onMediaError.bind(this.session),masterNodeCrashedNotification:this.onMasterNodeCrashedNotification.bind(this),forciblyReconnectSubscriber:this.session.onForciblyReconnectSubscriber.bind(this.session),speechToTextMessage:this.session.onSpeechToTextMessage.bind(this.session),speechToTextDisconnected:this.session.onSpeechToTextDisconnected.bind(this.session)}};this.jsonRpcClient=new zP.clients.JsonRpcClient(n)},e.prototype.onMasterNodeCrashedNotification=function(t){console.error("Master Node has crashed"),this.masterNodeHasCrashed=!0,this.session.onLostConnection("nodeCrashed"),this.jsonRpcClient.close(4103,"Master Node has crashed")},e.prototype.getWsReadyState=function(){return this.jsonRpcClient.getReadyState()},e.prototype.closeWs=function(){this.jsonRpcClient.close(4102,"Connection closed by client")},e.prototype.sendRequest=function(t,n,r){var i;n&&n instanceof Function&&(r=n,n={}),be.debug('Sending request: {method:"'+t+'", params: '+JSON.stringify(n)+"}"),(i=this.jsonRpcClient)===null||i===void 0||i.send(t,n,r)},e.prototype.getWsUri=function(){return this.wsUri},e.prototype.getSecret=function(){return this.secret},e.prototype.getRecorder=function(){return this.recorder},e.prototype.getStt=function(){return this.stt},e.prototype.generateAudioDeviceError=function(t,n){t.name==="Error"&&(t.name=t.constructor.name);var r,i;switch(t.name.toLowerCase()){case"notfounderror":return r=fe.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i=t.toString(),new fe.OpenViduError(r,i);case"notallowederror":return r=fe.OpenViduErrorName.DEVICE_ACCESS_DENIED,i=t.toString(),new fe.OpenViduError(r,i);case"overconstrainederror":return t.constraint.toLowerCase()==="deviceid"?(r=fe.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i="Audio input device with deviceId '"+n.audio.deviceId.exact+"' not found"):(r=fe.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,i="Audio input device doesn't support the value passed for constraint '"+t.constraint+"'"),new fe.OpenViduError(r,i);case"notreadableerror":return r=fe.OpenViduErrorName.DEVICE_ALREADY_IN_USE,i=t.toString(),new fe.OpenViduError(r,i);default:return new fe.OpenViduError(fe.OpenViduErrorName.INPUT_AUDIO_DEVICE_GENERIC_ERROR,t.toString())}},e.prototype.addAlreadyProvidedTracks=function(t,n,r){return t.videoTrack&&(n.addTrack(t.videoTrack),r&&(t.constraints.video?r.lastVideoTrackConstraints=t.constraints.video:r.lastVideoTrackConstraints=t.videoTrack.getConstraints())),t.audioTrack&&n.addTrack(t.audioTrack),n},e.prototype.configureDeviceIdOrScreensharing=function(t,n,r,i){var o=this,s=n.audioSource,a=n.videoSource;if(typeof s=="string"&&(t.constraints.audio={deviceId:{exact:s}}),typeof a=="string")if(!this.isScreenShare(a))this.setVideoSource(t,a);else if(this.checkScreenSharingCapabilities())if(ue.isElectron()){var l="screen:",c=a,d=c.substr(c.indexOf(l)+l.length);return t.constraints.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:d}},r(t)}else if(this.advancedConfiguration.screenShareChromeExtension&&!(ue.isFirefoxBrowser()||ue.isFirefoxMobileBrowser())&&!navigator.mediaDevices.getDisplayMedia){Hv.getScreenConstraints(function(h,E){if(h||E.mandatory&&E.mandatory.chromeMediaSource==="screen")if(h==="permission-denied"||h==="PermissionDeniedError"){var y=new fe.OpenViduError(fe.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return be.error(y),i(y)}else{var O=o.advancedConfiguration.screenShareChromeExtension.split("/").pop().trim();Hv.getChromeExtensionStatus(O,function(p){if(p==="installed-disabled"){var m=new fe.OpenViduError(fe.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return be.error(m),i(m)}if(p==="not-installed"){var w=new fe.OpenViduError(fe.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,o.advancedConfiguration.screenShareChromeExtension);return be.error(w),i(w)}});return}else return t.constraints.video=E,r(t)});return}else{if(navigator.mediaDevices.getDisplayMedia)return r(t);var f=ue.isFirefoxBrowser()||ue.isFirefoxMobileBrowser()?n.videoSource:void 0;UP.getScreenId(f,function(h,E,y){if(h)if(h==="not-installed"){var O=o.advancedConfiguration.screenShareChromeExtension?o.advancedConfiguration.screenShareChromeExtension:"https://chrome.google.com/webstore/detail/openvidu-screensharing/lfcgfepafnobdloecchnfaclibenjold",p=new fe.OpenViduError(fe.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,O);return be.error(p),i(p)}else if(h==="installed-disabled"){var p=new fe.OpenViduError(fe.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return be.error(p),i(p)}else if(h==="permission-denied"){var p=new fe.OpenViduError(fe.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return be.error(p),i(p)}else{var p=new fe.OpenViduError(fe.OpenViduErrorName.GENERIC_ERROR,"Unknown error when accessing screen share");return be.error(p),be.error(h),i(p)}else return t.constraints.video=y.video,r(t)});return}else{var u=new fe.OpenViduError(fe.OpenViduErrorName.SCREEN_SHARING_NOT_SUPPORTED,"You can only screen share in desktop Chrome, Firefox, Opera, Safari (>=13.0), Edge (>= 80) or Electron. Detected client: "+ue.getName()+" "+ue.getVersion());return be.error(u),i(u)}},e.prototype.setVideoSource=function(t,n){t.constraints.video||(t.constraints.video={}),t.constraints.video.deviceId={exact:n}},e.prototype.disconnectCallback=function(){be.warn("Websocket connection lost"),this.isRoomAvailable()?this.session.onLostConnection("networkDisconnect"):alert("Connection error. Please reload page.")},e.prototype.reconnectingCallback=function(){be.warn("Websocket connection lost (reconnecting)"),this.isRoomAvailable()?this.session.emitEvent("reconnecting",[]):alert("Connection error. Please reload page.")},e.prototype.reconnectWebsocketThroughRpcConnectMethod=function(t){var n=this;this.sendRequest("connect",{sessionId:t,reconnect:!0},function(r,i){if(r)if(n.isMasterNodeCrashed())be.warn("Master Node has crashed!");else{be.error(r);var o=function(a,u){be.warn(u),n.session.onLostConnection(a),n.jsonRpcClient.close(4101,"Reconnection fault: "+u)},s=function(){n.life===-1?o("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):n.sendRequest("sessionStatus",{sessionId:n.session.sessionId},function(a,u){a!=null?console.error("Error checking session status",a):n.life===u.life?o("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):o("nodeCrashed","WS successfully reconnected to OpenVidu Server but your Master Node crashed")})};r.code===40007&&r.message==="reconnection error"&&console.error("Invalid RPC sessionId. Client network disconnection or Master Node crash"),s()}else n.jsonRpcClient.resetPing(),n.session.onRecoveredConnection()})},e.prototype.reconnectedCallback=function(){if(be.warn("Websocket reconnected"),this.isRoomAvailable())if(this.session.connection)this.reconnectWebsocketThroughRpcConnectMethod(this.session.connection.rpcSessionId);else{be.warn("There was no previous connection when running reconnection callback");var t=new $P.SessionDisconnectedEvent(this.session,"networkDisconnect");this.session.ee.emitEvent("sessionDisconnected",[t]),t.callDefaultBehavior()}else alert("Connection error. Please reload page.")},e.prototype.isMasterNodeCrashed=function(){return this.masterNodeHasCrashed},e.prototype.isRoomAvailable=function(){return this.session!==void 0&&this.session instanceof zv.Session?!0:(be.warn("Session instance not found"),!1)},e.prototype.isScreenShare=function(t){return t==="screen"||t==="window"||ue.isElectron()&&t.startsWith("screen:")},e}();ol.OpenVidu=qP;var BE={};Object.defineProperty(BE,"__esModule",{value:!0});(function(e){var t=X&&X.__createBinding||(Object.create?function(g,S,N,I){I===void 0&&(I=N);var F=Object.getOwnPropertyDescriptor(S,N);(!F||("get"in F?!S.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return S[N]}}),Object.defineProperty(g,I,F)}:function(g,S,N,I){I===void 0&&(I=N),g[I]=S[N]}),n=X&&X.__exportStar||function(g,S){for(var N in g)N!=="default"&&!Object.prototype.hasOwnProperty.call(S,N)&&t(S,g,N)};Object.defineProperty(e,"__esModule",{value:!0}),e.EventDispatcher=e.ExceptionEventName=e.ExceptionEvent=e.SpeechToTextEvent=e.NetworkQualityLevelChangedEvent=e.FilterEvent=e.ConnectionPropertyChangedEvent=e.StreamPropertyChangedEvent=e.VideoElementEvent=e.StreamManagerEvent=e.StreamEvent=e.SignalEvent=e.SessionDisconnectedEvent=e.RecordingEvent=e.PublisherSpeakingEvent=e.ConnectionEvent=e.Event=e.VideoInsertMode=e.TypeOfVideo=e.OpenViduErrorName=e.OpenViduError=e.LocalRecorderState=e.Filter=e.LocalRecorder=e.Connection=e.Stream=e.StreamManager=e.Subscriber=e.Publisher=e.Session=e.OpenVidu=void 0;var r=Lp,i=ol;Object.defineProperty(e,"OpenVidu",{enumerable:!0,get:function(){return i.OpenVidu}});var o=Cl();Object.defineProperty(e,"Session",{enumerable:!0,get:function(){return o.Session}});var s=jp();Object.defineProperty(e,"Publisher",{enumerable:!0,get:function(){return s.Publisher}});var a=Gi;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return a.Subscriber}});var u=Xi;Object.defineProperty(e,"StreamManager",{enumerable:!0,get:function(){return u.StreamManager}});var l=Hi;Object.defineProperty(e,"Stream",{enumerable:!0,get:function(){return l.Stream}});var c=ds;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return c.Connection}});var d=fs;Object.defineProperty(e,"LocalRecorder",{enumerable:!0,get:function(){return d.LocalRecorder}});var f=qi;Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return f.Filter}});var h=Ap;Object.defineProperty(e,"LocalRecorderState",{enumerable:!0,get:function(){return h.LocalRecorderState}});var E=qr;Object.defineProperty(e,"OpenViduError",{enumerable:!0,get:function(){return E.OpenViduError}}),Object.defineProperty(e,"OpenViduErrorName",{enumerable:!0,get:function(){return E.OpenViduErrorName}});var y=bl;Object.defineProperty(e,"TypeOfVideo",{enumerable:!0,get:function(){return y.TypeOfVideo}});var O=hs;Object.defineProperty(e,"VideoInsertMode",{enumerable:!0,get:function(){return O.VideoInsertMode}});var p=Ye;Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return p.Event}});var m=gs;Object.defineProperty(e,"ConnectionEvent",{enumerable:!0,get:function(){return m.ConnectionEvent}});var w=vs;Object.defineProperty(e,"PublisherSpeakingEvent",{enumerable:!0,get:function(){return w.PublisherSpeakingEvent}});var x=Es;Object.defineProperty(e,"RecordingEvent",{enumerable:!0,get:function(){return x.RecordingEvent}});var k=Ji;Object.defineProperty(e,"SessionDisconnectedEvent",{enumerable:!0,get:function(){return k.SessionDisconnectedEvent}});var L=Ss;Object.defineProperty(e,"SignalEvent",{enumerable:!0,get:function(){return L.SignalEvent}});var j=$p();Object.defineProperty(e,"StreamEvent",{enumerable:!0,get:function(){return j.StreamEvent}});var C=Qi;Object.defineProperty(e,"StreamManagerEvent",{enumerable:!0,get:function(){return C.StreamManagerEvent}});var M=ps;Object.defineProperty(e,"VideoElementEvent",{enumerable:!0,get:function(){return M.VideoElementEvent}});var V=Vn;Object.defineProperty(e,"StreamPropertyChangedEvent",{enumerable:!0,get:function(){return V.StreamPropertyChangedEvent}});var U=bs;Object.defineProperty(e,"ConnectionPropertyChangedEvent",{enumerable:!0,get:function(){return U.ConnectionPropertyChangedEvent}});var $=ys;Object.defineProperty(e,"FilterEvent",{enumerable:!0,get:function(){return $.FilterEvent}});var v=Cs;Object.defineProperty(e,"NetworkQualityLevelChangedEvent",{enumerable:!0,get:function(){return v.NetworkQualityLevelChangedEvent}});var _=ws;Object.defineProperty(e,"SpeechToTextEvent",{enumerable:!0,get:function(){return _.SpeechToTextEvent}});var T=Gr;Object.defineProperty(e,"ExceptionEvent",{enumerable:!0,get:function(){return T.ExceptionEvent}}),Object.defineProperty(e,"ExceptionEventName",{enumerable:!0,get:function(){return T.ExceptionEventName}});var b=Ki;Object.defineProperty(e,"EventDispatcher",{enumerable:!0,get:function(){return b.EventDispatcher}}),n(BE,e),r.JL.setOptions({enabled:!1})})(mE);class GP extends B.Component{constructor(t){super(t),this.videoRef=ye.createRef()}componentDidUpdate(t){t&&this.videoRef&&this.props.streamManager.addVideoElement(this.videoRef.current)}componentDidMount(){this.props&&this.videoRef&&this.props.streamManager.addVideoElement(this.videoRef.current)}render(){return Q("video",{autoPlay:!0,ref:this.videoRef})}}function kr(){return Q("div",{className:" bg-pink-200 m-3 rounded-[30px] w-[555px] h-[307px] flex items-center justify-center",children:Q("div",{className:"text-3xl font-chick",children:"친구가 오고 있어요!"})})}class qv extends B.Component{getNicknameTag(){return JSON.parse(this.props.streamManager.stream.connection.data).clientData}render(){return this.props.streamManager!==void 0?Q(GP,{streamManager:this.props.streamManager}):Q(kr,{})}}function XP({children:e}){return Q("div",{className:"w-[1075px] h-[100px] overflow-hidden bg-white",style:{boxShadow:"0px 4px 4px 4px rgba(0,0,0,0.25)"},children:e})}function KP({children:e}){return Q("div",{className:"grid grid-cols-2 gap-0 w-[1194px] h-[699px] overflow-hidden bg-[#133b60] rounded-[30px]",children:e})}const QP="/assets/micOn-5bba04c3.svg",JP="/assets/micOff-aed9f0fc.svg";function YP(){const[e,t]=B.useState(!0),n=()=>{t(!e)};return Q(ns,{children:e===!1?Q("div",{className:"rounded-full w-[50px] h-[50px] bg-emerald-400 flex items-center justify-center",onClick:n,children:Q("img",{src:JP})}):Q("div",{className:"rounded-full w-[50px] h-[50px] bg-emerald-400 flex items-center justify-center",onClick:n,children:Q("img",{src:QP})})})}const ZP="/assets/videoOn-f57c3ebc.svg",eI="/assets/videoOff-00668f18.svg";function tI(){const[e,t]=B.useState(!0),n=()=>{t(!e)};return Q(ns,{children:e===!1?Q("div",{className:"rounded-full w-[50px] h-[50px] bg-emerald-400 flex items-center justify-center",onClick:n,children:Q("img",{src:eI})}):Q("div",{className:"rounded-full w-[50px] h-[50px] bg-emerald-400 flex items-center justify-center",onClick:n,children:Q("img",{src:ZP})})})}const Gv="http://localhost:5000/";class nI extends B.Component{constructor(t){super(t),this.state={mySessionId:"SessionA",myUserName:"Participant"+Math.floor(Math.random()*100),session:void 0,publisher:void 0,subscribers:[]},this.joinSession=this.joinSession.bind(this),this.leaveSession=this.leaveSession.bind(this),this.handleChangeSessionId=this.handleChangeSessionId.bind(this),this.handleChangeUserName=this.handleChangeUserName.bind(this),this.onbeforeunload=this.onbeforeunload.bind(this),this.micStatusChanged=this.micStatusChanged.bind(this),this.camStatusChanged=this.camStatusChanged.bind(this)}camStatusChanged(){this.state.publisher.stream.videoActive=!this.state.publisher.stream.videoActive,this.state.session.publish(this.state.publisher)}micStatusChanged(){this.state.publisher.stream.audioActive=!this.state.publisher.stream.audioActive,this.state.session.publish(this.state.publisher)}componentDidMount(){window.addEventListener("beforeunload",this.onbeforeunload)}componentWillUnmount(){window.removeEventListener("beforeunload",this.onbeforeunload)}onbeforeunload(t){this.leaveSession()}handleChangeSessionId(t){this.setState({mySessionId:t.target.value})}handleChangeUserName(t){this.setState({myUserName:t.target.value})}deleteSubscriber(t){let n=this.state.subscribers,r=n.indexOf(t,0);r>-1&&(n.splice(r,1),this.setState({subscribers:n}))}joinSession(){this.OV=new mE.OpenVidu,this.setState({session:this.OV.initSession()},()=>{var t=this.state.session;t.on("streamCreated",n=>{var r=t.subscribe(n.stream,void 0),i=this.state.subscribers;i.push(r),this.setState({subscribers:i})}),t.on("streamDestroyed",n=>{this.deleteSubscriber(n.stream.streamManager)}),t.on("exception",n=>{console.warn(n)}),this.getToken().then(n=>{t.connect(n,{clientData:this.state.myUserName}).then(async()=>{let r=await this.OV.initPublisherAsync(void 0,{audioSource:void 0,videoSource:void 0,publishAudio:!0,publishVideo:!0,resolution:"555x307",frameRate:30,insertMode:"APPEND",mirror:!0});t.publish(r);var i=await this.OV.getDevices(),o=i.filter(u=>u.kind==="videoinput"),s=r.stream.getMediaStream().getVideoTracks()[0].getSettings().deviceId,a=o.find(u=>u.deviceId===s);this.setState({currentVideoDevice:a,publisher:r})}).catch(r=>{console.log("There was an error connecting to the session:",r.code,r.message)})})})}leaveSession(){const t=this.state.session;t&&t.disconnect(),this.OV=null,this.setState({session:void 0,subscribers:[],mySessionId:"SessionA",myUserName:"Participant"+Math.floor(Math.random()*100),mainStreamManager:void 0,publisher:void 0})}render(){return this.state.mySessionId,this.state.myUserName,console.log("1231312321312",this.state.subscribers),yt("div",{className:"flex justify-center",children:[this.state.session===void 0?Q("div",{children:yt("div",{children:[Q("h1",{children:" Join a video session "}),Q("form",{className:"form-group",onSubmit:this.joinSession,children:Q("p",{className:"text-center",children:Q("input",{className:"bg-pink-300 text-3xl",name:"commit",type:"submit",value:"JOIN"})})})]})}):null,this.state.session!==void 0?yt("div",{children:[yt(KP,{children:[this.state.publisher!==void 0?Q("div",{className:"m-3 rounded-[30px] w-[555px] h-[307px] flex items-center justify-center",children:yt("div",{class:"relative",children:[Q(qv,{streamManager:this.state.publisher}),Q("div",{class:"absolute bottom-0 right-0",onClick:this.micStatusChanged,children:Q(YP,{})}),Q("div",{class:"absolute bottom-0 left-0",onClick:this.camStatusChanged,children:Q(tI,{})})]})}):null,this.state.subscribers.map((t,n)=>n<3?Q(qv,{streamManager:t}):null),this.state.subscribers.length===0?Q(kr,{}):null,this.state.subscribers.length===0?Q(kr,{}):null,this.state.subscribers.length===0?Q(kr,{}):null,this.state.subscribers.length===1?Q(kr,{}):null,this.state.subscribers.length===1?Q(kr,{}):null,this.state.subscribers.length===2?Q(kr,{}):null]}),Q("div",{className:"flex justify-center",children:Q(XP,{children:Q("div",{className:"flex",children:Q("input",{className:"bg-pink-400 text-3xl rounded-[30px]",type:"button",onClick:this.leaveSession,value:"나가기"})})})})]}):null]})}async getToken(){const t=await this.createSession(this.state.mySessionId);return await this.createToken(t)}async createSession(t){return(await Ya.post(Gv+"api/sessions",{customSessionId:t},{headers:{"Content-Type":"application/json"}})).data}async createToken(t){return(await Ya.post(Gv+"api/sessions/"+t+"/connections",{},{headers:{"Content-Type":"application/json"}})).data}}function rI(){return yt("div",{className:"App",children:[Q(_b,{children:yt(xb,{children:[Q(ma,{path:"/",element:Q(Rb,{})}),Q(ma,{path:"/login",element:Q(Xx,{})}),Q(ma,{path:"/logout",element:Q(Kx,{})})]})}),Q(nI,{})]})}function Os(e){return e.split("-")[0]}function zp(e){return e.split("-")[1]}function xs(e){return["top","bottom"].includes(Os(e))?"x":"y"}function Hp(e){return e==="y"?"height":"width"}function Xv(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=xs(t),u=Hp(a),l=r[u]/2-i[u]/2,c=a==="x";let d;switch(Os(t)){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(zp(t)){case"start":d[a]-=l*(n&&c?-1:1);break;case"end":d[a]+=l*(n&&c?-1:1)}return d}const iI=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:l,y:c}=Xv(u,r,a),d=r,f={};for(let h=0;h<o.length;h++){const{name:E,fn:y}=o[h],{x:O,y:p,data:m,reset:w}=await y({x:l,y:c,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:e,floating:t}});l=O??l,c=p??c,f={...f,[E]:{...f[E],...m}},w&&(typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(u=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:l,y:c}=Xv(u,d,a)),h=-1)}return{x:l,y:c,placement:d,strategy:i,middlewareData:f}};function WE(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function fu(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function zE(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=t,E=WE(h),y=a[f?d==="floating"?"reference":"floating":d],O=fu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),p=fu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?{...s.floating,x:r,y:i}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),strategy:u}):s[d]);return{top:O.top-p.top+E.top,bottom:p.bottom-O.bottom+E.bottom,left:O.left-p.left+E.left,right:p.right-O.right+E.right}}const oI=Math.min,sI=Math.max;function md(e,t,n){return sI(e,oI(t,n))}const Kv=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:o,placement:s,rects:a,platform:u}=t;if(n==null)return{};const l=WE(r),c={x:i,y:o},d=xs(s),f=Hp(d),h=await u.getDimensions(n),E=d==="y"?"top":"left",y=d==="y"?"bottom":"right",O=a.reference[f]+a.reference[d]-c[d]-a.floating[f],p=c[d]-a.reference[d],m=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n)),w=m?d==="y"?m.clientHeight||0:m.clientWidth||0:0,x=O/2-p/2,k=l[E],L=w-h[f]-l[y],j=w/2-h[f]/2+x,C=md(k,j,L);return{data:{[d]:C,centerOffset:j-C}}}}),aI={left:"right",right:"left",bottom:"top",top:"bottom"};function du(e){return e.replace(/left|right|bottom|top/g,t=>aI[t])}function uI(e,t,n){n===void 0&&(n=!1);const r=zp(e),i=xs(e),o=Hp(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=du(s)),{main:s,cross:du(s)}}const lI={start:"end",end:"start"};function Qv(e){return e.replace(/start|end/g,t=>lI[t])}const cI=["top","right","bottom","left"];cI.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const fI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",flipAlignment:h=!0,...E}=e,y=Os(r),O=d||(y===s||!h?[du(s)]:function(C){const M=du(C);return[Qv(C),M,Qv(M)]}(s)),p=[s,...O],m=await zE(t,E),w=[];let x=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&w.push(m[y]),c){const{main:C,cross:M}=uI(r,o,await(a.isRTL==null?void 0:a.isRTL(u.floating)));w.push(m[C],m[M])}if(x=[...x,{placement:r,overflows:w}],!w.every(C=>C<=0)){var k,L;const C=((k=(L=i.flip)==null?void 0:L.index)!=null?k:0)+1,M=p[C];if(M)return{data:{index:C,overflows:x},reset:{placement:M}};let V="bottom";switch(f){case"bestFit":{var j;const U=(j=x.map($=>[$,$.overflows.filter(v=>v>0).reduce((v,_)=>v+_,0)]).sort(($,v)=>$[1]-v[1])[0])==null?void 0:j[0].placement;U&&(V=U);break}case"initialPlacement":V=s}if(r!==V)return{reset:{placement:V}}}return{}}}},dI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a}=t,u=function(l,c,d,f){f===void 0&&(f=!1);const h=Os(l),E=zp(l),y=xs(l)==="x",O=["left","top"].includes(h)?-1:1,p=f&&y?-1:1,m=typeof d=="function"?d({...c,placement:l}):d;let{mainAxis:w,crossAxis:x,alignmentAxis:k}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return E&&typeof k=="number"&&(x=E==="end"?-1*k:k),y?{x:x*p,y:w*O}:{x:w*O,y:x*p}}(i,o,e,await(s.isRTL==null?void 0:s.isRTL(a.floating)));return{x:n+u.x,y:r+u.y,data:u}}}};function pI(e){return e==="x"?"y":"x"}const hI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:O=>{let{x:p,y:m}=O;return{x:p,y:m}}},...u}=e,l={x:n,y:r},c=await zE(t,u),d=xs(Os(i)),f=pI(d);let h=l[d],E=l[f];if(o){const O=d==="y"?"bottom":"right";h=md(h+c[d==="y"?"top":"left"],h,h-c[O])}if(s){const O=f==="y"?"bottom":"right";E=md(E+c[f==="y"?"top":"left"],E,E-c[O])}const y=a.fn({...t,[d]:h,[f]:E});return{...y,data:{x:y.x-n,y:y.y-r}}}}};function HE(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function $n(e){if(e==null)return window;if(!HE(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function _s(e){return $n(e).getComputedStyle(e)}function Pn(e){return HE(e)?"":e?(e.nodeName||"").toLowerCase():""}function Sn(e){return e instanceof $n(e).HTMLElement}function vr(e){return e instanceof $n(e).Element}function qp(e){return typeof ShadowRoot>"u"?!1:e instanceof $n(e).ShadowRoot||e instanceof ShadowRoot}function xl(e){const{overflow:t,overflowX:n,overflowY:r}=_s(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function mI(e){return["table","td","th"].includes(Pn(e))}function Jv(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=_s(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"}function qE(){return!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const Yv=Math.min,Po=Math.max,pu=Math.round;function In(e,t,n){var r,i,o,s;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let u=1,l=1;t&&Sn(e)&&(u=e.offsetWidth>0&&pu(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&pu(a.height)/e.offsetHeight||1);const c=vr(e)?$n(e):window,d=!qE()&&n,f=(a.left+(d&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/u,h=(a.top+(d&&(o=(s=c.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/l,E=a.width/u,y=a.height/l;return{width:E,height:y,top:h,right:f+E,bottom:h+y,left:f,x:f,y:h}}function fr(e){return(t=e,(t instanceof $n(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function _l(e){return vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function GE(e){return In(fr(e)).left+_l(e).scrollLeft}function vI(e,t,n){const r=Sn(t),i=fr(t),o=In(e,r&&function(u){const l=In(u);return pu(l.width)!==u.offsetWidth||pu(l.height)!==u.offsetHeight}(t),n==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Pn(t)!=="body"||xl(i))&&(s=_l(t)),Sn(t)){const u=In(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=GE(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function XE(e){return Pn(e)==="html"?e:e.assignedSlot||e.parentNode||(qp(e)?e.host:null)||fr(e)}function Zv(e){return Sn(e)&&getComputedStyle(e).position!=="fixed"?e.offsetParent:null}function vd(e){const t=$n(e);let n=Zv(e);for(;n&&mI(n)&&getComputedStyle(n).position==="static";)n=Zv(n);return n&&(Pn(n)==="html"||Pn(n)==="body"&&getComputedStyle(n).position==="static"&&!Jv(n))?t:n||function(r){let i=XE(r);for(qp(i)&&(i=i.host);Sn(i)&&!["html","body"].includes(Pn(i));){if(Jv(i))return i;i=i.parentNode}return null}(e)||t}function eg(e){if(Sn(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=In(e);return{width:t.width,height:t.height}}function KE(e){const t=XE(e);return["html","body","#document"].includes(Pn(t))?e.ownerDocument.body:Sn(t)&&xl(t)?t:KE(t)}function ji(e,t){var n;t===void 0&&(t=[]);const r=KE(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=$n(r),s=i?[o].concat(o.visualViewport||[],xl(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(ji(s))}function tg(e,t,n){return t==="viewport"?fu(function(r,i){const o=$n(r),s=fr(r),a=o.visualViewport;let u=s.clientWidth,l=s.clientHeight,c=0,d=0;if(a){u=a.width,l=a.height;const f=qE();(f||!f&&i==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:u,height:l,x:c,y:d}}(e,n)):vr(t)?function(r,i){const o=In(r,!1,i==="fixed"),s=o.top+r.clientTop,a=o.left+r.clientLeft;return{top:s,left:a,x:a,y:s,right:a+r.clientWidth,bottom:s+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):fu(function(r){var i;const o=fr(r),s=_l(r),a=(i=r.ownerDocument)==null?void 0:i.body,u=Po(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Po(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-s.scrollLeft+GE(r);const d=-s.scrollTop;return _s(a||o).direction==="rtl"&&(c+=Po(o.clientWidth,a?a.clientWidth:0)-u),{width:u,height:l,x:c,y:d}}(fr(e)))}function gI(e){const t=ji(e),n=["absolute","fixed"].includes(_s(e).position)&&Sn(e)?vd(e):e;return vr(n)?t.filter(r=>vr(r)&&function(i,o){const s=o==null||o.getRootNode==null?void 0:o.getRootNode();if(i!=null&&i.contains(o))return!0;if(s&&qp(s)){let a=o;do{if(a&&i===a)return!0;a=a.parentNode||a.host}while(a)}return!1}(r,n)&&Pn(r)!=="body"):[]}const yI={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?gI(t):[].concat(n),r],s=o[0],a=o.reduce((u,l)=>{const c=tg(t,l,i);return u.top=Po(c.top,u.top),u.right=Yv(c.right,u.right),u.bottom=Yv(c.bottom,u.bottom),u.left=Po(c.left,u.left),u},tg(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Sn(n),o=fr(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Pn(n)!=="body"||xl(o))&&(s=_l(n)),Sn(n))){const u=In(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+a.x,y:t.y-s.scrollTop+a.y}},isElement:vr,getDimensions:eg,getOffsetParent:vd,getDocumentElement:fr,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:vI(t,vd(n),r),floating:{...eg(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>_s(e).direction==="rtl"};function EI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r;let u=!1;const l=i&&!a,c=o&&!a,d=s&&!a,f=l||c?[...vr(e)?ji(e):[],...ji(t)]:[];f.forEach(O=>{l&&O.addEventListener("scroll",n,{passive:!0}),c&&O.addEventListener("resize",n)});let h,E=null;d&&(E=new ResizeObserver(n),vr(e)&&E.observe(e),E.observe(t));let y=a?In(e):null;return a&&function O(){if(u)return;const p=In(e);!y||p.x===y.x&&p.y===y.y&&p.width===y.width&&p.height===y.height||n(),y=p,h=requestAnimationFrame(O)}(),()=>{var O;u=!0,f.forEach(p=>{l&&p.removeEventListener("scroll",n),c&&p.removeEventListener("resize",n)}),(O=E)==null||O.disconnect(),E=null,a&&cancelAnimationFrame(h)}}const SI=(e,t,n)=>iI(e,t,{platform:yI,...n});var ng=typeof document<"u"?B.useLayoutEffect:B.useEffect;function gd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!gd(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!gd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function wI(e){let{middleware:t,placement:n="bottom",strategy:r="absolute"}=e===void 0?{}:e;const i=B.useRef(null),o=B.useRef(null),[s,a]=B.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[u,l]=B.useState(t);gd(u==null?void 0:u.map(y=>{let{options:O}=y;return O}),t==null?void 0:t.map(y=>{let{options:O}=y;return O}))||l(t);const c=B.useRef(!0);ng(()=>(c.current=!0,()=>{c.current=!1}),[]);const d=B.useCallback(()=>{!i.current||!o.current||SI(i.current,o.current,{middleware:u,placement:n,strategy:r}).then(y=>{c.current&&To.flushSync(()=>{a(y)})})},[u,n,r]);ng(d,[d]);const f=B.useCallback(y=>{i.current=y,d()},[d]),h=B.useCallback(y=>{o.current=y,d()},[d]),E=B.useMemo(()=>({reference:i,floating:o}),[]);return B.useMemo(()=>({...s,update:d,refs:E,reference:f,floating:h}),[s,d,E,f,h])}const bI=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?Kv({element:t.current,padding:n}).fn(i):{}:t?Kv({element:t,padding:n}).fn(i):{}}}};var hu={},CI={get exports(){return hu},set exports(e){hu=e}},OI=function(t,n,r,i){var o=t[0],s=t[1],a=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var u=(i-r)/2,l=0,c=u-1;l<u;c=l++){var d=n[r+l*2+0],f=n[r+l*2+1],h=n[r+c*2+0],E=n[r+c*2+1],y=f>s!=E>s&&o<(h-d)*(s-f)/(E-f)+d;y&&(a=!a)}return a},xI=function(t,n,r,i){var o=t[0],s=t[1],a=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var u=i-r,l=0,c=u-1;l<u;c=l++){var d=n[l+r][0],f=n[l+r][1],h=n[c+r][0],E=n[c+r][1],y=f>s!=E>s&&o<(h-d)*(s-f)/(E-f)+d;y&&(a=!a)}return a},QE=OI,JE=xI;CI.exports=function(t,n,r,i){return n.length>0&&Array.isArray(n[0])?JE(t,n,r,i):QE(t,n,r,i)};hu.nested=JE;hu.flat=QE;var _I=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ri=new WeakMap,ea=new WeakMap,ta={},Qc=0,YE=function(e){return e&&(e.host||YE(e.parentNode))},RI=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=YE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return Boolean(n)})},kI=function(e,t,n,r){var i=RI(t,Array.isArray(e)?e:[e]);ta[n]||(ta[n]=new WeakMap);var o=ta[n],s=[],a=new Set,u=new Set(i),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};i.forEach(l);var c=function(d){!d||u.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))c(f);else{var h=f.getAttribute(r),E=h!==null&&h!=="false",y=(ri.get(f)||0)+1,O=(o.get(f)||0)+1;ri.set(f,y),o.set(f,O),s.push(f),y===1&&E&&ea.set(f,!0),O===1&&f.setAttribute(n,"true"),E||f.setAttribute(r,"true")}})};return c(t),a.clear(),Qc++,function(){s.forEach(function(d){var f=ri.get(d)-1,h=o.get(d)-1;ri.set(d,f),o.set(d,h),f||(ea.has(d)||d.removeAttribute(r),ea.delete(d)),h||d.removeAttribute(n)}),Qc--,Qc||(ri=new WeakMap,ri=new WeakMap,ea=new WeakMap,ta={})}},PI=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||_I(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),kI(r,i,n,"aria-hidden")):function(){return null}},Zt=typeof document<"u"?B.useLayoutEffect:B.useEffect;function II(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let Jc=!1,TI=0;const rg=()=>"floating-ui-"+TI++;function NI(){const[e,t]=B.useState(()=>Jc?rg():void 0);return Zt(()=>{e==null&&t(rg())},[]),B.useEffect(()=>{Jc||(Jc=!0)},[]),e}const ig=wa["useId".toString()],og=ig??NI,LI=B.createContext(null),AI=B.createContext(null),MI=()=>{var e,t;return(e=(t=B.useContext(LI))==null?void 0:t.id)!=null?e:null},Rl=()=>B.useContext(AI);function Yc(e,t,n){const r={};return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,u]=s;a.indexOf("on")===0?(r[a]||(r[a]=[]),typeof u=="function"&&r[a].push(u),i[a]=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];r[a].forEach(f=>f(...c))}):i[a]=u}),i),{})}}const DI=function(e){return e===void 0&&(e=[]),{getReferenceProps:t=>Yc(t,e,"reference"),getFloatingProps:t=>Yc(t,e,"floating"),getItemProps:t=>Yc(t,e,"item")}};function es(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function ZE(e){var t;return(t=es(e).defaultView)!=null?t:window}function Sa(e){return e?e instanceof ZE(e).Element:!1}function Gn(e){return e?e instanceof ZE(e).HTMLElement:!1}function eS(e,t){var n;let r=(n=e==null?void 0:e.nodesRef.current.filter(s=>{var a;return s.parentId===t&&((a=s.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var o;i=(o=e==null?void 0:e.nodesRef.current.filter(s=>{var a;return(a=i)==null?void 0:a.some(u=>{var l;return s.parentId===u.id&&((l=s.context)==null?void 0:l.open)})}))!=null?o:[],r=r.concat(i)}return r}function mu(){return mu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(this,arguments)}const Zc="data-floating-ui-scroll-lock",sg=B.forwardRef(function(t,n){let{lockScroll:r=!1,...i}=t;return Zt(()=>{if(!r)return;const o=window.pageXOffset,s=window.pageYOffset,u=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",l=window.innerWidth-document.documentElement.clientWidth;if(!document.body.hasAttribute(Zc))return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:"-"+s+"px",left:"-"+o+"px",right:"0",[u]:l+"px"}),document.body.setAttribute(Zc,""),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[u]:""}),document.body.removeAttribute(Zc),window.scrollTo(o,s)}},[r]),ye.createElement("div",mu({ref:n},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))});function xn(e){e.preventDefault(),e.stopPropagation()}function vu(e){const t=B.useRef(e);return Zt(()=>{t.current=e}),t}function bn(e){requestAnimationFrame(()=>{e==null||e.focus()})}const VI="input:not([type='hidden']):not([disabled]),select:not([disabled]),textarea:not([disabled]),a[href],button:not([disabled]),[tabindex],iframe,object,embed,area[href],audio[controls],video[controls],[contenteditable]:not([contenteditable='false'])",ag=B.forwardRef(function(t,n){return ye.createElement("span",mu({},t,{ref:n,tabIndex:0,style:{position:"fixed",opacity:"0",pointerEvents:"none",outline:"0"}}))});function ug(e){let{context:{refs:t,nodeId:n,onOpenChange:r},children:i,order:o=["content"],endGuard:s=!0,preventTabbing:a=!1,initialFocus:u=0,returnFocus:l=!0,modal:c=!0}=e;const d=vu(o),f=vu(r),h=Rl(),E=B.useCallback(()=>d.current.map(y=>{if(Gn(t.reference.current)&&y==="reference")return t.reference.current;if(t.floating.current&&y==="floating")return t.floating.current;if(y==="content"){var O,p;return Array.from((O=(p=t.floating.current)==null?void 0:p.querySelectorAll(VI))!=null?O:[])}return null}).flat().filter(y=>{if(y===t.floating.current||y===t.reference.current)return!0;if(Gn(y)){var O;return((O=y.getAttribute("tabindex"))!=null?O:"0")[0].trim()!=="-"}}),[d,t.floating,t.reference]);return B.useEffect(()=>{const y=E().filter(m=>m!==t.floating.current&&m!==t.reference.current).length===0;function O(m){if(m.key==="Tab"){(a||y)&&xn(m);const w=E();d.current[0]==="reference"&&m.target===t.reference.current&&(xn(m),m.shiftKey?bn(w[w.length-1]):bn(w[1])),d.current[1]==="floating"&&m.target===t.floating.current&&m.shiftKey&&(xn(m),bn(w[0]))}}const p=es(t.floating.current);return p.addEventListener("keydown",O),()=>{p.removeEventListener("keydown",O)}},[a,E,d,t.floating,t.reference]),B.useEffect(()=>{function y(m){var w;const x=m.relatedTarget;!((w=t.floating.current)!=null&&w.contains(x))&&Sa(t.reference.current)&&!t.reference.current.contains(x)&&!(h&&eS(h,n).some(k=>{var L,j;return(L=k.context)==null||(j=L.refs.floating.current)==null?void 0:j.contains(x)}))&&f.current(!1)}const O=t.floating.current,p=t.reference.current;if(O&&Gn(p)){!c&&O.addEventListener("focusout",y);const m=c?PI(O):null;return()=>{!c&&O.removeEventListener("focusout",y),m==null||m()}}},[n,h,c,f,E,u,t.floating,t.reference]),B.useEffect(()=>{var y;if(a)return;const O=t.floating.current,p=(y=es(O).activeElement)!=null?y:document.activeElement;if(typeof u=="number"){var m;bn((m=E()[u])!=null?m:O)}else if(Gn(u==null?void 0:u.current)){var w;bn((w=u.current)!=null?w:O)}return()=>{l&&Gn(p)&&bn(p)}},[a,E,u,c,l,t.floating]),ye.createElement(ye.Fragment,null,c&&ye.createElement(ag,{onFocus:y=>{xn(y);const O=E();o[0]==="reference"?bn(O[0]):bn(O[O.length-1])}}),B.cloneElement(i,o.includes("floating")?{tabIndex:0}:{}),c&&s&&ye.createElement(ag,{onFocus:y=>{xn(y),bn(E()[0])}}))}const $I=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const o=og(),s=og(),a={id:o,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?o:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i,"aria-controls":n?o:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...a,...i==="menu"&&{"aria-labelledby":s}}}:{}},jI=function(e,t){let{open:n,onOpenChange:r,refs:i,events:o,nodeId:s}=e,{enabled:a=!0,escapeKey:u=!0,outsidePointerDown:l=!0,referencePointerDown:c=!1,ancestorScroll:d=!1,bubbles:f=!0}=t===void 0?{}:t;const h=Rl(),E=vu(r),y=B.useCallback(()=>{var p;return(p=i.floating.current)==null?void 0:p.contains(es(i.floating.current).activeElement)},[i.floating]),O=B.useCallback(()=>{Gn(i.reference.current)&&i.reference.current.focus()},[i.reference]);return B.useEffect(()=>{if(!n||!a)return;function p(L){if(L.key==="Escape"){if(!f&&!y())return;o.emit("dismiss"),E.current(!1),O()}}function m(L){var j;const C=h&&eS(h,s).some(M=>{var V,U;return(V=M.context)==null||(U=V.refs.floating.current)==null?void 0:U.contains(L.target)});(j=i.floating.current)!=null&&j.contains(L.target)||Sa(i.reference.current)&&i.reference.current.contains(L.target)||C||!f&&!y()||(o.emit("dismiss"),E.current(!1),O())}function w(){E.current(!1)}const x=es(i.floating.current);u&&x.addEventListener("keydown",p),l&&x.addEventListener("mousedown",m);const k=(d?[...Sa(i.reference.current)?ji(i.reference.current):[],...Sa(i.floating.current)?ji(i.floating.current):[]]:[]).filter(L=>{var j;return L!==((j=x.defaultView)==null?void 0:j.visualViewport)});return k.forEach(L=>L.addEventListener("scroll",w,{passive:!0})),()=>{u&&x.removeEventListener("keydown",p),l&&x.removeEventListener("mousedown",m),k.forEach(L=>L.removeEventListener("scroll",w))}},[u,l,o,h,s,n,E,O,d,a,f,y,i.floating,i.reference]),a?{reference:{onPointerDown(){c&&(o.emit("dismiss"),r(!1))}}}:{}};function FI(e){const t=B.useRef();return Zt(()=>{t.current=e},[e]),t.current}const Gp="ArrowUp",Xp="ArrowDown",Rs="ArrowLeft",ks="ArrowRight";function yi(e,t){let{startingIndex:n=-1,decrement:r=!1}=t===void 0?{}:t;const i=e.current;let o=n;do{var s,a;o=o+(r?-1:1)}while(o>=0&&o<=i.length-1&&(i[o]==null||(s=i[o])!=null&&s.hasAttribute("disabled")||((a=i[o])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return o}function Ps(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function ef(e,t){return Ps(t,e===Gp||e===Xp,e===Rs||e===ks)}function UI(e,t,n){return Ps(t,e===Gp,n?e===ks:e===Rs)}function tf(e,t,n){return Ps(t,e===Xp,n?e===Rs:e===ks)}function BI(e,t,n){return Ps(t,n?e===Rs:e===ks,e===Xp)}function WI(e,t,n){return Ps(t,n?e===ks:e===Rs,e===Gp)}function ho(e){return yi(e)}function nf(e){return yi(e,{decrement:!0,startingIndex:e.current.length})}const zI=function(e,t){let{open:n,onOpenChange:r,refs:i}=e,{listRef:o,activeIndex:s,onNavigate:a,enabled:u=!0,selectedIndex:l=null,allowEscape:c=!1,loop:d=!1,nested:f=!1,rtl:h=!1,virtual:E=!1,focusItemOnOpen:y="auto",focusItemOnHover:O=!0,orientation:p="vertical"}=t===void 0?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:t;const m=MI(),w=Rl(),x=FI(n),k=B.useRef(y),L=B.useRef(l??-1),j=B.useRef(""),C=B.useRef(!1),M=vu(a),V=B.useRef(!1),[U,$]=B.useState(),v=B.useCallback((b,g)=>{if(E){var S;$((S=b.current[g.current])==null?void 0:S.id)}else{var N;(N=b.current[g.current])==null||N.focus({preventScroll:!0})}},[E]);Zt(()=>{u&&(l!=null&&(L.current=l),!x&&n&&k.current&&(M.current(L.current),v(o,L)))},[n,x,l,o,M,v,u]),Zt(()=>{u&&n&&(s===null?(!x&&k.current&&l==null||c)&&(L.current=c?-1:ho(o),M.current(s),v(o,L)):(L.current=s,M.current(s),v(o,L)))},[n,x,s,l,f,o,M,v,u,m,c,i.floating,w==null?void 0:w.nodesRef]),Zt(()=>{if(!(l!=null||!u)){if(n&&(ef(j.current,p)||k.current&&(j.current===" "||j.current==="Enter"))){const b=ho(o),g=nf(o);L.current=UI(j.current,p,h)?c?o.current.length:g:c?-1:b,M.current(L.current),v(o,L)}j.current=""}},[n,o,l,M,v,u,p,h,c]),Zt(()=>{u&&!n&&C.current&&l!=null&&Gn(i.reference.current)&&i.reference.current.focus()},[i.reference,l,n,u]),Zt(()=>(C.current=!0,()=>{C.current=!1}),[]),Zt(()=>{if(u&&!n){var b;y==="auto"&&(k.current=!0),L.current=(b=l??s)!=null?b:-1,M.current(null)}},[n,l,s,u,y,M]);function _(b){y==="auto"&&(k.current=!b.pointerType)}function T(b){if(V.current=!0,f&&WI(b.key,p,h)){xn(b),r(!1),Gn(i.reference.current)&&i.reference.current.focus();return}const g=L.current,S=ho(o),N=nf(o);if(b.key==="Home"&&(L.current=S,a(L.current)),b.key==="End"&&(L.current=N,a(L.current)),ef(b.key,p)){if(xn(b),!E&&b.currentTarget.ownerDocument.activeElement===b.currentTarget){L.current=l??(tf(b.key,p,h)?S:N),a(L.current);return}tf(b.key,p,h)?d?L.current=g>=N?c&&g!==o.current.length?-1:S:yi(o,{startingIndex:g}):L.current=Math.min(N,yi(o,{startingIndex:g})):d?L.current=g<=S?c&&g!==-1?o.current.length:N:yi(o,{startingIndex:g,decrement:!0}):L.current=Math.max(S,yi(o,{startingIndex:g,decrement:!0})),a(L.current)}}return u?{reference:{...E&&n&&s!=null&&{"aria-activedescendant":U},onPointerEnter:_,onPointerDown:_,onKeyDown(b){if(V.current=!0,E&&n)return T(b);if(y==="auto"&&(k.current=!0),j.current=b.key,f){BI(b.key,p,h)&&(xn(b),n?(L.current=ho(o),a(L.current)):r(!0));return}ef(b.key,p)&&(l==null?L.current=tf(b.key,p,h)?ho(o):nf(o):L.current=l,xn(b),r(!0),a(L.current)),E&&!n&&T(b)}},floating:{"aria-orientation":p==="both"?void 0:p,...E&&s!=null&&{"aria-activedescendant":U},onKeyDown:T,onPointerMove(){V.current=!1}},item:{onClick:b=>{let{currentTarget:g}=b;return g.focus({preventScroll:!0})},...O&&{onPointerMove(b){let{currentTarget:g}=b;const S=g;if(S){const N=o.current.indexOf(S);N!==-1&&a(N)}},onPointerLeave(){if(!V.current)if(a(null),E)L.current=-1,v(o,L);else{var b;(b=i.floating.current)==null||b.focus({preventScroll:!0})}}}}}:{}};function HI(e){let{open:t=!1,onOpenChange:n=()=>{},placement:r,middleware:i,strategy:o,nodeId:s}=e===void 0?{}:e;const a=Rl(),u=B.useRef({}),l=B.useState(()=>II())[0],c=wI({placement:r,middleware:i,strategy:o}),d=B.useMemo(()=>({...c,dataRef:u,nodeId:s,events:l,open:t,onOpenChange:n}),[c,u,s,l,t,n]);return Zt(()=>{const f=a==null?void 0:a.nodesRef.current.find(h=>h.id===s);f&&(f.context=d)}),B.useMemo(()=>({context:d,...c}),[c,d])}var tS=function(e,t,n,r){var i;t[0]=0;for(var o=1;o<t.length;o++){var s=t[o++],a=t[o]?(t[0]|=s?1:2,n[t[o++]]):t[++o];s===3?r[0]=a:s===4?r[1]=Object.assign(r[1]||{},a):s===5?(r[1]=r[1]||{})[t[++o]]=a:s===6?r[1][t[++o]]+=a+"":s?(i=e.apply(a,tS(e,a,n,["",null])),r.push(i),a[0]?t[0]|=2:(t[o-2]=0,t[o]=i)):r.push(a)}return r},lg=new Map;function qI(e){var t=lg.get(this);return t||(t=new Map,lg.set(this,t)),(t=tS(this,t.get(e)||(t.set(e,t=function(n){for(var r,i,o=1,s="",a="",u=[0],l=function(f){o===1&&(f||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,f,s):o===3&&(f||s)?(u.push(3,f,s),o=2):o===2&&s==="..."&&f?u.push(4,f,0):o===2&&s&&!f?u.push(5,0,!0,s):o>=5&&((s||!f&&o===5)&&(u.push(o,0,s,i),o=6),f&&(u.push(o,f,0,i),o=6)),s=""},c=0;c<n.length;c++){c&&(o===1&&l(),l(c));for(var d=0;d<n[c].length;d++)r=n[c][d],o===1?r==="<"?(l(),u=[u],o=3):s+=r:o===4?s==="--"&&r===">"?(o=1,s=""):s=r+s[0]:a?r===a?a="":s+=r:r==='"'||r==="'"?a=r:r===">"?(l(),o=1):o&&(r==="="?(o=5,i=s,s=""):r==="/"&&(o<5||n[c][d+1]===">")?(l(),o===3&&(u=u[0]),o=u,(u=u[0]).push(2,0,o),o=0):r===" "||r==="	"||r===`
`||r==="\r"?(l(),o=2):s+=r),o===3&&s==="!--"&&(o=4,u=u[0])}return l(),u}(e)),t),arguments,[])).length>1?t:t[0]}var na=qI.bind(B.createElement);function GI(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function XI(e){const{elementType:t,tag:n}=e;switch(n){case 0:case 1:return t.displayName||t.name||"Anonymous Component";case 5:return t;case 6:return"String";case 7:return"React.Fragment";case 9:return"Context.Consumer";case 10:return"Context.Provider";case 11:return"React.forwardRef";case 15:return t.type.name||"React.memo";case 16:return"React.lazy";default:return console.warn(`Unrecognized React Fiber tag: ${n}`,e),"Unknown Component"}}function KI(e){const{columnNumber:t=1,fileName:n,lineNumber:r=1}=e;return`${n}:${r}:${t}`}function QI(e){const t={};return Object.entries(e.memoizedProps).forEach(([n,r])=>{var o;const i=typeof r;["key"].includes(n)||r===((o=e.type.defaultProps)==null?void 0:o[n])||(["string","number","boolean","symbol"].includes(i)||r instanceof String||r instanceof Number||r instanceof Boolean||r instanceof Symbol)&&(t[n]=r)}),t}function JI(e){if("__REACT_DEVTOOLS_GLOBAL_HOOK__"in window){const{renderers:t}=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;for(const n of t.values())try{const r=n.findFiberByHostInstance(e);if(r)return r}catch{}}if("_reactRootContainer"in e)return e._reactRootContainer._internalRoot.current.child;for(const t in e)if(t.startsWith("__reactInternalInstance$")||t.startsWith("__reactFiber"))return e[t]}function YI(e){const t=new Set;let n=JI(e);for(;n;)t.add(n),n=n._debugOwner;return Array.from(t)}function cg({_debugSource:e}){if(!e)return;const{columnNumber:t=1,fileName:n,lineNumber:r=1}=e;return{columnNumber:t,fileName:n,lineNumber:r}}B.forwardRef((e,t)=>{const{onClose:n}=e,[r,i]=B.useState(null),o=B.useRef(null),[s,a]=B.useState(null),[u,l]=B.useState(!1),c=B.useRef([]),{x:d,y:f,reference:h,floating:E,strategy:y,refs:O,update:p,context:m,placement:w,middlewareData:{arrow:{x,y:k}={}}}=HI({open:u,onOpenChange(V){l(V),V||n==null||n()},middleware:[dI({mainAxis:5,alignmentAxis:4}),fI(),hI(),bI({element:o})],placement:"right"}),{getFloatingProps:L,getItemProps:j}=DI([$I(m,{role:"menu"}),jI(m),zI(m,{listRef:c,activeIndex:s,onNavigate:a,focusItemOnOpen:!1})]);B.useEffect(()=>{if(u&&O.reference.current&&O.floating.current)return EI(O.reference.current,O.floating.current,p)},[u,p,O.reference,O.floating]);const C=B.useMemo(()=>GI([t,h]),[h,t]);if(B.useEffect(()=>{function V(U){U.altKey&&(U.preventDefault(),C({getBoundingClientRect(){return{x:U.clientX,y:U.clientY,width:0,height:0,top:U.clientY,right:U.clientX,bottom:U.clientY,left:U.clientX}}}),l(!0),U.target instanceof HTMLElement&&i(U.target))}return document.addEventListener("contextmenu",V),()=>{document.removeEventListener("contextmenu",V)}},[C]),B.useLayoutEffect(()=>{var V;u&&((V=O.floating.current)==null||V.focus())},[u,O.floating]),B.useLayoutEffect(()=>{if(!o.current)return;const V={top:"bottom",right:"left",bottom:"top",left:"right"}[w.split("-")[0]];Object.assign(o.current.style,{display:"block",left:x!=null?`${x}px`:"",top:k!=null?`${k}px`:"",right:"",bottom:"",[V]:"-4px"})},[x,k,w]),!r)return null;const M=YI(r).filter(V=>cg(V));return na`
      <style key="click-to-component-contextmenu-style">
        #floating-ui-root > div {
          z-index: 2147483647;
        }

        [data-click-to-component-contextmenu],
        [data-click-to-component-contextmenu] * {
          box-sizing: border-box !important;
        }

        [data-click-to-component-contextmenu] {
          all: unset;
          outline: 0;
          background: white;
          color: black;
          font-weight: bold;
          overflow: visible;
          padding: 5px;
          font-size: 13px;
          border-radius: 6px;
          border: none;

          --shadow-color: 0deg 0% 0%;
          --shadow-elevation-low: 0px -1px 0.8px hsl(var(--shadow-color) / 0.1),
            0px -1.2px 0.9px -2.5px hsl(var(--shadow-color) / 0.07),
            0px -3px 2.3px -5px hsl(var(--shadow-color) / 0.03);

          --shadow-elevation-medium: 0px 1px 0.8px
              hsl(var(--shadow-color) / 0.11),
            0px 1.5px 1.1px -1.7px hsl(var(--shadow-color) / 0.08),
            0px 5.1px 3.8px -3.3px hsl(var(--shadow-color) / 0.05),
            0px 15px 11.3px -5px hsl(var(--shadow-color) / 0.03);
          --shadow-elevation-high: 0px 1px 0.8px hsl(var(--shadow-color) / 0.1),
            0px 1.1px 0.8px -0.7px hsl(var(--shadow-color) / 0.09),
            0px 2.1px 1.6px -1.4px hsl(var(--shadow-color) / 0.07),
            0px 4.9px 3.7px -2.1px hsl(var(--shadow-color) / 0.06),
            0px 10.1px 7.6px -2.9px hsl(var(--shadow-color) / 0.05),
            0px 18.9px 14.2px -3.6px hsl(var(--shadow-color) / 0.04),
            0px 31.9px 23.9px -4.3px hsl(var(--shadow-color) / 0.02),
            0px 50px 37.5px -5px hsl(var(--shadow-color) / 0.01);

          box-shadow: var(--shadow-elevation-high);
          filter: drop-shadow(0px 0px 0.5px rgba(0 0 0 / 50%));
        }

        [data-click-to-component-contextmenu] button {
          all: unset;
          outline: 0;
          display: flex;
          flex-direction: column;
          width: 100%;
          padding: 5px;
          border-radius: 4px;
          font-size: 13px;
        }

        [data-click-to-component-contextmenu] button:focus,
        [data-click-to-component-contextmenu] button:not([disabled]):active {
          cursor: pointer;
          background: royalblue;
          color: white;
          box-shadow: var(--shadow-elevation-medium);
        }

        [data-click-to-component-contextmenu] button:focus code,
        [data-click-to-component-contextmenu]
          button:not([disabled]):active
          code {
          color: white;
        }

        [data-click-to-component-contextmenu] button > * + * {
          margin-top: 3px;
        }

        [data-click-to-component-contextmenu] button code {
          color: royalblue;
          font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
            'Liberation Mono', 'Courier New', monospace;
        }

        [data-click-to-component-contextmenu] button code var {
          background: rgba(0 0 0 / 5%);
          cursor: help;
          border-radius: 3px;
          padding: 3px 6px;
          font-style: normal;
          font-weight: normal;
          font-family: ui-sans-serif, system-ui, -apple-system,
            BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
            'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
            'Segoe UI Symbol', 'Noto Color Emoji';
        }

        [data-click-to-component-contextmenu] button cite {
          font-weight: normal;
          font-style: normal;
          font-size: 11px;
          opacity: 0.5;
          font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
            'Liberation Mono', 'Courier New', monospace;
        }

        [data-click-to-component-contextmenu] button cite data::after {
          content: attr(value);
          float: right;
          padding-left: 15px;
          font-family: ui-sans-serif, system-ui, -apple-system,
            BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
            'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
            'Segoe UI Symbol', 'Noto Color Emoji';
        }

        [data-click-to-component-contextmenu-arrow] {
          display: none;
          position: absolute;
          background: inherit;
          width: 8px;
          height: 8px;
          transform: rotate(45deg);
        }
      </style>

      ${u&&na`
        <${sg} key="click-to-component-overlay" lockScroll>
          <${ug} context=${m}>
            <dialog
              ...${L({ref:E,style:{position:y,top:f??"",left:d??""}})}
              data-click-to-component-contextmenu
              onClose=${function(U){n(O.floating.current.returnValue),l(!1)}}
              open
            >
              <form method="dialog">
                ${M.map((V,U)=>{const $=XI(V),v=cg(V),_=KI(v),T=QI(V);return na`
                    <button
                      ...${j({role:"menuitem",ref(b){c.current[U]=b}})}
                      key=${U}
                      name="path"
                      type="submit"
                      value=${_}
                    >
                      <code>
                        ${"<"}${$}
                        ${Object.entries(T).map(([b,g])=>na`
                            ${" "}
                            <var key=${b} title="${g}">${b}</var>
                          `)}
                        ${">"}
                      </code>
                      <cite>
                        <data
                          value="${v.lineNumber}:${v.columnNumber}"
                        >
                          ${v.fileName.replace(/.*(src|pages)/,"$1")}
                        </data>
                      </cite>
                    </button>
                  `})}
              </form>

              <div
                data-click-to-component-contextmenu-arrow
                ref=${o}
              />
            </dialog>
          </${ug}>
        </${sg}>
      `}
    `});const ZI=()=>null,eT=Ax({reducer:{authToken:Gx}});Ya.defaults.withCredentials=!0;rf.createRoot(document.getElementById("root")).render(Q(ye.StrictMode,{children:yt(tO,{children:[Q(dC,{store:eT,children:Q(rI,{})}),Q(ZI,{})]})}));
